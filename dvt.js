// this version of datavstime is released under a 3-Clause BSD license with the clarification that the term "source" refers to the bundled/minified source in this distribution and not the original source from which this was derived. 
//
// Copyright (c) 2015, Matthew Howlett (matt [at] mhowlett [dot] com)
// All rights reserved.
//
// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
//
// 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
//
// 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
//
// 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
//
// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
!function(global){function dedupe(deps){for(var newDeps=[],i=0,l=deps.length;l>i;i++)-1==indexOf.call(newDeps,deps[i])&&newDeps.push(deps[i]);return newDeps}function register(name,deps,declare,execute){if("string"!=typeof name)throw"System.register provided no module name";var entry;entry="boolean"==typeof declare?{declarative:!1,deps:deps,execute:execute,executingRequire:declare}:{declarative:!0,deps:deps,declare:declare},entry.name=name,name in defined||(defined[name]=entry),entry.deps=dedupe(entry.deps),entry.normalizedDeps=entry.deps}function buildGroups(entry,groups){if(groups[entry.groupIndex]=groups[entry.groupIndex]||[],-1==indexOf.call(groups[entry.groupIndex],entry)){groups[entry.groupIndex].push(entry);for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i],depEntry=defined[depName];if(depEntry&&!depEntry.evaluated){var depGroupIndex=entry.groupIndex+(depEntry.declarative!=entry.declarative);if(void 0===depEntry.groupIndex||depEntry.groupIndex<depGroupIndex){if(void 0!==depEntry.groupIndex&&(groups[depEntry.groupIndex].splice(indexOf.call(groups[depEntry.groupIndex],depEntry),1),0==groups[depEntry.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");depEntry.groupIndex=depGroupIndex}buildGroups(depEntry,groups)}}}}function link(name){var startEntry=defined[name];startEntry.groupIndex=0;var groups=[];buildGroups(startEntry,groups);for(var curGroupDeclarative=!!startEntry.declarative==groups.length%2,i=groups.length-1;i>=0;i--){for(var group=groups[i],j=0;j<group.length;j++){var entry=group[j];curGroupDeclarative?linkDeclarativeModule(entry):linkDynamicModule(entry)}curGroupDeclarative=!curGroupDeclarative}}function getOrCreateModuleRecord(name){return moduleRecords[name]||(moduleRecords[name]={name:name,dependencies:[],exports:{},importers:[]})}function linkDeclarativeModule(entry){if(!entry.module){var module=entry.module=getOrCreateModuleRecord(entry.name),exports=entry.module.exports,declaration=entry.declare.call(global,function(name,value){module.locked=!0,exports[name]=value;for(var i=0,l=module.importers.length;l>i;i++){var importerModule=module.importers[i];if(!importerModule.locked){var importerIndex=indexOf.call(importerModule.dependencies,module);importerModule.setters[importerIndex](exports)}}return module.locked=!1,value});if(module.setters=declaration.setters,module.execute=declaration.execute,!module.setters||!module.execute)throw new TypeError("Invalid System.register form for "+entry.name);for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depExports,depName=entry.normalizedDeps[i],depEntry=defined[depName],depModule=moduleRecords[depName];depModule?depExports=depModule.exports:depEntry&&!depEntry.declarative?depExports=depEntry.module.exports&&depEntry.module.exports.__esModule?depEntry.module.exports:{"default":depEntry.module.exports,__useDefault:!0}:depEntry?(linkDeclarativeModule(depEntry),depModule=depEntry.module,depExports=depModule.exports):depExports=load(depName),depModule&&depModule.importers?(depModule.importers.push(module),module.dependencies.push(depModule)):module.dependencies.push(null),module.setters[i]&&module.setters[i](depExports)}}}function getModule(name){var exports,entry=defined[name];if(entry)entry.declarative?ensureEvaluated(name,[]):entry.evaluated||linkDynamicModule(entry),exports=entry.module.exports;else if(exports=load(name),!exports)throw new Error("Unable to load dependency "+name+".");return(!entry||entry.declarative)&&exports&&exports.__useDefault?exports["default"]:exports}function linkDynamicModule(entry){if(!entry.module){var exports={},module=entry.module={exports:exports,id:entry.name};if(!entry.executingRequire)for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i],depEntry=defined[depName];depEntry&&linkDynamicModule(depEntry)}entry.evaluated=!0;var output=entry.execute.call(global,function(name){for(var i=0,l=entry.deps.length;l>i;i++)if(entry.deps[i]==name)return getModule(entry.normalizedDeps[i]);throw new TypeError("Module "+name+" not declared as a dependency.")},exports,module);output&&(module.exports=output)}}function ensureEvaluated(moduleName,seen){var entry=defined[moduleName];if(entry&&!entry.evaluated&&entry.declarative){seen.push(moduleName);for(var i=0,l=entry.normalizedDeps.length;l>i;i++){var depName=entry.normalizedDeps[i];-1==indexOf.call(seen,depName)&&(defined[depName]?ensureEvaluated(depName,seen):load(depName))}entry.evaluated||(entry.evaluated=!0,entry.module.execute.call(global))}}function load(name){if(modules[name])return modules[name];var entry=defined[name];if(!entry)throw"Module "+name+" not present.";link(name),ensureEvaluated(name,[]),defined[name]=void 0;var module=entry.module.exports;return(!module||!entry.declarative&&module.__esModule!==!0)&&(module={"default":module,__useDefault:!0}),modules[name]=module}var defined={},indexOf=Array.prototype.indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(this[i]===item)return i;return-1},moduleRecords={},modules={};return function(mains,declare){var System,System={register:register,get:load,set:function(name,module){modules[name]=module},newModule:function(module){return module},global:global};System.set("@empty",{}),declare(System);for(var i=0;i<mains.length;i++)load(mains[i])}}("undefined"!=typeof window?window:global)(["dvt/horizon"],function(System){System.register("npm:react@0.14.0/lib/ReactCurrentOwner",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactCurrentOwner={current:null};return module.exports=ReactCurrentOwner,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/ExecutionEnvironment",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};return module.exports=ExecutionEnvironment,global.define=__define,module.exports}),System.register("npm:process@0.11.2/browser",[],!0,function(require,exports,module){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var global=System.global,__define=global.define;global.define=void 0;var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;return process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0},global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/getMarkupWrap",["npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getMarkupWrap(nodeName){return dummyNode?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Markup wrapping node not initialized"):invariant(!1),markupWrap.hasOwnProperty(nodeName)||(nodeName="*"),shouldWrap.hasOwnProperty(nodeName)||("*"===nodeName?dummyNode.innerHTML="<link />":dummyNode.innerHTML="<"+nodeName+"></"+nodeName+">",shouldWrap[nodeName]=!dummyNode.firstChild),shouldWrap[nodeName]?markupWrap[nodeName]:null}var ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,shouldWrap={},selectWrap=[1,'<select multiple="true">',"</select>"],tableWrap=[1,"<table>","</table>"],trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"],svgWrap=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap},svgElements=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];svgElements.forEach(function(nodeName){markupWrap[nodeName]=svgWrap,shouldWrap[nodeName]=!0}),module.exports=getMarkupWrap}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/emptyFunction",[],!0,function(require,exports,module){function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}var global=System.global,__define=global.define;return global.define=void 0,emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(arg){return arg},module.exports=emptyFunction,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/keyMirror",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var invariant=require("npm:fbjs@0.3.2/lib/invariant"),keyMirror=function(obj){var key,ret={};obj instanceof Object&&!Array.isArray(obj)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"keyMirror(...): Argument must be an object."):invariant(!1);for(key in obj)obj.hasOwnProperty(key)&&(ret[key]=key);return ret};module.exports=keyMirror}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactPerf",["github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function _noMeasure(objName,fnName,func){return func}var ReactPerf={enableMeasure:!1,storedMeasure:_noMeasure,measureMethods:function(object,objectName,methodNames){if("production"!==process.env.NODE_ENV)for(var key in methodNames)methodNames.hasOwnProperty(key)&&(object[key]=ReactPerf.measure(objectName,methodNames[key],object[key]))},measure:function(objName,fnName,func){if("production"!==process.env.NODE_ENV){var measuredFunc=null,wrapper=function(){return ReactPerf.enableMeasure?(measuredFunc||(measuredFunc=ReactPerf.storedMeasure(objName,fnName,func)),measuredFunc.apply(this,arguments)):func.apply(this,arguments)};return wrapper.displayName=objName+"_"+fnName,wrapper}return func},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure}}};module.exports=ReactPerf}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/setInnerHTML",["npm:fbjs@0.3.2/lib/ExecutionEnvironment","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),WHITESPACE_TEST=/^[ \r\n\t\f]/,NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,setInnerHTML=function(node,html){node.innerHTML=html};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(setInnerHTML=function(node,html){MSApp.execUnsafeLocalFunction(function(){node.innerHTML=html})}),ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ",""===testElement.innerHTML&&(setInnerHTML=function(node,html){if(node.parentNode&&node.parentNode.replaceChild(node,node),WHITESPACE_TEST.test(html)||"<"===html[0]&&NONVISIBLE_TEST.test(html)){node.innerHTML=String.fromCharCode(65279)+html;var textNode=node.firstChild;1===textNode.data.length?node.removeChild(textNode):textNode.deleteData(0,1)}else node.innerHTML=html})}module.exports=setInnerHTML}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/escapeTextContentForBrowser",[],!0,function(require,exports,module){function escaper(match){return ESCAPE_LOOKUP[match]}function escapeTextContentForBrowser(text){return(""+text).replace(ESCAPE_REGEX,escaper)}var global=System.global,__define=global.define;global.define=void 0;var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;return module.exports=escapeTextContentForBrowser,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/DOMProperty",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function checkMask(value,bitmask){return(value&bitmask)===bitmask}var invariant=require("npm:fbjs@0.3.2/lib/invariant"),DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(domPropertyConfig){var Injection=DOMPropertyInjection,Properties=domPropertyConfig.Properties||{},DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces||{},DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{},DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{},DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};domPropertyConfig.isCustomAttribute&&DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);for(var propName in Properties){DOMProperty.properties.hasOwnProperty(propName)?"production"!==process.env.NODE_ENV?invariant(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",propName):invariant(!1):void 0;var lowerCased=propName.toLowerCase(),propConfig=Properties[propName],propertyInfo={attributeName:lowerCased,attributeNamespace:null,propertyName:propName,mutationMethod:null,mustUseAttribute:checkMask(propConfig,Injection.MUST_USE_ATTRIBUTE),mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),hasSideEffects:checkMask(propConfig,Injection.HAS_SIDE_EFFECTS),hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};if(propertyInfo.mustUseAttribute&&propertyInfo.mustUseProperty?"production"!==process.env.NODE_ENV?invariant(!1,"DOMProperty: Cannot require using both attribute and property: %s",propName):invariant(!1):void 0,!propertyInfo.mustUseProperty&&propertyInfo.hasSideEffects?"production"!==process.env.NODE_ENV?invariant(!1,"DOMProperty: Properties that have side effects must use property: %s",propName):invariant(!1):void 0,propertyInfo.hasBooleanValue+propertyInfo.hasNumericValue+propertyInfo.hasOverloadedBooleanValue<=1?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",propName):invariant(!1),"production"!==process.env.NODE_ENV&&(DOMProperty.getPossibleStandardName[lowerCased]=propName),DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];propertyInfo.attributeName=attributeName,"production"!==process.env.NODE_ENV&&(DOMProperty.getPossibleStandardName[attributeName]=propName)}DOMAttributeNamespaces.hasOwnProperty(propName)&&(propertyInfo.attributeNamespace=DOMAttributeNamespaces[propName]),DOMPropertyNames.hasOwnProperty(propName)&&(propertyInfo.propertyName=DOMPropertyNames[propName]),DOMMutationMethods.hasOwnProperty(propName)&&(propertyInfo.mutationMethod=DOMMutationMethods[propName]),DOMProperty.properties[propName]=propertyInfo}}},defaultValueCache={},DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:"production"!==process.env.NODE_ENV?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName))return!0}return!1},getDefaultValueForProperty:function(nodeName,prop){var testElement,nodeDefaults=defaultValueCache[nodeName];return nodeDefaults||(defaultValueCache[nodeName]=nodeDefaults={}),prop in nodeDefaults||(testElement=document.createElement(nodeName),nodeDefaults[prop]=testElement[prop]),nodeDefaults[prop]},injection:DOMPropertyInjection};module.exports=DOMProperty}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/quoteAttributeValueForBrowser",["npm:react@0.14.0/lib/escapeTextContentForBrowser"],!0,function(require,exports,module){function quoteAttributeValueForBrowser(value){return'"'+escapeTextContentForBrowser(value)+'"'}var global=System.global,__define=global.define;global.define=void 0;var escapeTextContentForBrowser=require("npm:react@0.14.0/lib/escapeTextContentForBrowser");return module.exports=quoteAttributeValueForBrowser,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/warning",["npm:fbjs@0.3.2/lib/emptyFunction","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),warning=emptyFunction;"production"!==process.env.NODE_ENV&&(warning=function(condition,format){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_len>_key;_key++)args[_key-2]=arguments[_key];if(void 0===format)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==format.indexOf("Failed Composite propType: ")&&!condition){var argIndex=0,message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});"undefined"!=typeof console&&console.error(message);try{throw new Error(message)}catch(x){}}}),module.exports=warning}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/EventConstants",["npm:fbjs@0.3.2/lib/keyMirror"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var keyMirror=require("npm:fbjs@0.3.2/lib/keyMirror"),PropagationPhases=keyMirror({bubbled:null,captured:null}),topLevelTypes=keyMirror({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};return module.exports=EventConstants,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/EventPluginRegistry",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function recomputePluginOrdering(){if(EventPluginOrder)for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName],pluginIndex=EventPluginOrder.indexOf(pluginName);if(pluginIndex>-1?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",pluginName):invariant(!1),!EventPluginRegistry.plugins[pluginIndex]){PluginModule.extractEvents?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",pluginName):invariant(!1),EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents)publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",eventName,pluginName):invariant(!1)}}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)?"production"!==process.env.NODE_ENV?invariant(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",eventName):invariant(!1):void 0,EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames)if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}return!0}return dispatchConfig.registrationName?(publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName),!0):!1}function publishRegistrationName(registrationName,PluginModule,eventName){EventPluginRegistry.registrationNameModules[registrationName]?"production"!==process.env.NODE_ENV?invariant(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",registrationName):invariant(!1):void 0,EventPluginRegistry.registrationNameModules[registrationName]=PluginModule,EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies}var invariant=require("npm:fbjs@0.3.2/lib/invariant"),EventPluginOrder=null,namesToPlugins={},EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){EventPluginOrder?"production"!==process.env.NODE_ENV?invariant(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):invariant(!1):void 0,EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder),recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=!1;for(var pluginName in injectedNamesToPlugins)if(injectedNamesToPlugins.hasOwnProperty(pluginName)){var PluginModule=injectedNamesToPlugins[pluginName];namesToPlugins.hasOwnProperty(pluginName)&&namesToPlugins[pluginName]===PluginModule||(namesToPlugins[pluginName]?"production"!==process.env.NODE_ENV?invariant(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",pluginName):invariant(!1):void 0,namesToPlugins[pluginName]=PluginModule,isOrderingDirty=!0)}isOrderingDirty&&recomputePluginOrdering()},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName)return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null;for(var phase in dispatchConfig.phasedRegistrationNames)if(dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule)return PluginModule}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins)namesToPlugins.hasOwnProperty(pluginName)&&delete namesToPlugins[pluginName];EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs)eventNameDispatchConfigs.hasOwnProperty(eventName)&&delete eventNameDispatchConfigs[eventName];var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules)registrationNameModules.hasOwnProperty(registrationName)&&delete registrationNameModules[registrationName]}};module.exports=EventPluginRegistry}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactErrorUtils",["github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function invokeGuardedCallback(name,func,a,b){try{return func(a,b)}catch(x){return void(null===caughtError&&(caughtError=x))}}var caughtError=null,ReactErrorUtils={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(caughtError){var error=caughtError;throw caughtError=null,error}}};if("production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"function"==typeof Event){var fakeNode=document.createElement("react");ReactErrorUtils.invokeGuardedCallback=function(name,func,a,b){var boundFunc=func.bind(null,a,b);fakeNode.addEventListener(name,boundFunc,!1),fakeNode.dispatchEvent(new Event(name)),fakeNode.removeEventListener(name,boundFunc,!1)}}module.exports=ReactErrorUtils}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/accumulateInto",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function accumulateInto(current,next){if(null==next?"production"!==process.env.NODE_ENV?invariant(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):invariant(!1):void 0,null==current)return next;var currentIsArray=Array.isArray(current),nextIsArray=Array.isArray(next);return currentIsArray&&nextIsArray?(current.push.apply(current,next),current):currentIsArray?(current.push(next),current):nextIsArray?[current].concat(next):[current,next]}var invariant=require("npm:fbjs@0.3.2/lib/invariant");module.exports=accumulateInto}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/forEachAccumulated",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var forEachAccumulated=function(arr,cb,scope){Array.isArray(arr)?arr.forEach(cb,scope):arr&&cb.call(scope,arr)};return module.exports=forEachAccumulated,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactEventEmitterMixin",["npm:react@0.14.0/lib/EventPluginHub"],!0,function(require,exports,module){function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events),EventPluginHub.processEventQueue(!1)}var global=System.global,__define=global.define;global.define=void 0;var EventPluginHub=require("npm:react@0.14.0/lib/EventPluginHub"),ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);runEventQueueInBatch(events)}};return module.exports=ReactEventEmitterMixin,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ViewportMetrics",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(scrollPosition){ViewportMetrics.currentScrollLeft=scrollPosition.x,ViewportMetrics.currentScrollTop=scrollPosition.y}};return module.exports=ViewportMetrics,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/Object.assign",[],!0,function(require,exports,module){function assign(target,sources){if(null==target)throw new TypeError("Object.assign target cannot be null or undefined");for(var to=Object(target),hasOwnProperty=Object.prototype.hasOwnProperty,nextIndex=1;nextIndex<arguments.length;nextIndex++){var nextSource=arguments[nextIndex];if(null!=nextSource){var from=Object(nextSource);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key])}}return to}var global=System.global,__define=global.define;return global.define=void 0,module.exports=assign,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/isEventSupported",["npm:fbjs@0.3.2/lib/ExecutionEnvironment"],!0,function(require,exports,module){function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document))return!1;var eventName="on"+eventNameSuffix,isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;"),isSupported="function"==typeof element[eventName]}return!isSupported&&useHasFeature&&"wheel"===eventNameSuffix&&(isSupported=document.implementation.hasFeature("Events.wheel","3.0")),isSupported}var global=System.global,__define=global.define;global.define=void 0;var useHasFeature,ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment");return ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),module.exports=isEventSupported,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMFeatureFlags",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactDOMFeatureFlags={
useCreateElement:!1};return module.exports=ReactDOMFeatureFlags,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactElement",["npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/Object.assign","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),assign=require("npm:react@0.14.0/lib/Object.assign"),REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,RESERVED_PROPS={key:!0,ref:!0,__self:!0,__source:!0},canDefineProperty=!1;if("production"!==process.env.NODE_ENV)try{Object.defineProperty({},"x",{}),canDefineProperty=!0}catch(x){}var ReactElement=function(type,key,ref,self,source,owner,props){var element={$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:ref,props:props,_owner:owner};return"production"!==process.env.NODE_ENV&&(element._store={},canDefineProperty?(Object.defineProperty(element._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(element,"_self",{configurable:!1,enumerable:!1,writable:!1,value:self}),Object.defineProperty(element,"_source",{configurable:!1,enumerable:!1,writable:!1,value:source})):(element._store.validated=!1,element._self=self,element._source=source),Object.freeze(element.props),Object.freeze(element)),element};ReactElement.createElement=function(type,config,children){var propName,props={},key=null,ref=null,self=null,source=null;if(null!=config){ref=void 0===config.ref?null:config.ref,key=void 0===config.key?null:""+config.key,self=void 0===config.__self?null:config.__self,source=void 0===config.__source?null:config.__source;for(propName in config)config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;childrenLength>i;i++)childArray[i]=arguments[i+2];props.children=childArray}if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps)"undefined"==typeof props[propName]&&(props[propName]=defaultProps[propName])}return ReactElement(type,key,ref,self,source,ReactCurrentOwner.current,props)},ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);return factory.type=type,factory},ReactElement.cloneAndReplaceKey=function(oldElement,newKey){var newElement=ReactElement(oldElement.type,newKey,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,oldElement.props);return newElement},ReactElement.cloneAndReplaceProps=function(oldElement,newProps){var newElement=ReactElement(oldElement.type,oldElement.key,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,newProps);return"production"!==process.env.NODE_ENV&&(newElement._store.validated=oldElement._store.validated),newElement},ReactElement.cloneElement=function(element,config,children){var propName,props=assign({},element.props),key=element.key,ref=element.ref,self=element._self,source=element._source,owner=element._owner;if(null!=config){void 0!==config.ref&&(ref=config.ref,owner=ReactCurrentOwner.current),void 0!==config.key&&(key=""+config.key);for(propName in config)config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;childrenLength>i;i++)childArray[i]=arguments[i+2];props.children=childArray}return ReactElement(element.type,key,ref,self,source,owner,props)},ReactElement.isValidElement=function(object){return"object"==typeof object&&null!==object&&object.$$typeof===REACT_ELEMENT_TYPE},module.exports=ReactElement}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactEmptyComponentRegistry",[],!0,function(require,exports,module){function isNullComponentID(id){return!!nullComponentIDsRegistry[id]}function registerNullComponentID(id){nullComponentIDsRegistry[id]=!0}function deregisterNullComponentID(id){delete nullComponentIDsRegistry[id]}var global=System.global,__define=global.define;global.define=void 0;var nullComponentIDsRegistry={},ReactEmptyComponentRegistry={isNullComponentID:isNullComponentID,registerNullComponentID:registerNullComponentID,deregisterNullComponentID:deregisterNullComponentID};return module.exports=ReactEmptyComponentRegistry,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactRootIndex",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex}},ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};return module.exports=ReactRootIndex,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactInstanceMap",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactInstanceMap={remove:function(key){key._reactInternalInstance=void 0},get:function(key){return key._reactInternalInstance},has:function(key){return void 0!==key._reactInternalInstance},set:function(key,value){key._reactInternalInstance=value}};return module.exports=ReactInstanceMap,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/adler32",[],!0,function(require,exports,module){function adler32(data){for(var a=1,b=0,i=0,l=data.length,m=-4&l;m>i;){for(;i<Math.min(i+4096,m);i+=4)b+=(a+=data.charCodeAt(i))+(a+=data.charCodeAt(i+1))+(a+=data.charCodeAt(i+2))+(a+=data.charCodeAt(i+3));a%=MOD,b%=MOD}for(;l>i;i++)b+=a+=data.charCodeAt(i);return a%=MOD,b%=MOD,a|b<<16}var global=System.global,__define=global.define;global.define=void 0;var MOD=65521;return module.exports=adler32,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactOwner",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var invariant=require("npm:fbjs@0.3.2/lib/invariant"),ReactOwner={isValidOwner:function(object){return!(!object||"function"!=typeof object.attachRef||"function"!=typeof object.detachRef)},addComponentAsRefTo:function(component,ref,owner){ReactOwner.isValidOwner(owner)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):invariant(!1),owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){ReactOwner.isValidOwner(owner)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):invariant(!1),owner.getPublicInstance().refs[ref]===component.getPublicInstance()&&owner.detachRef(ref)}};module.exports=ReactOwner}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/PooledClass",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var invariant=require("npm:fbjs@0.3.2/lib/invariant"),oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,copyFieldsFrom),instance}return new Klass(copyFieldsFrom)},twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2),instance}return new Klass(a1,a2)},threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3),instance}return new Klass(a1,a2,a3)},fourArgumentPooler=function(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4),instance}return new Klass(a1,a2,a3,a4)},fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4,a5),instance}return new Klass(a1,a2,a3,a4,a5)},standardReleaser=function(instance){var Klass=this;instance instanceof Klass?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Trying to release an instance into a pool of a different type."):invariant(!1),instance.destructor(),Klass.instancePool.length<Klass.poolSize&&Klass.instancePool.push(instance)},DEFAULT_POOL_SIZE=10,DEFAULT_POOLER=oneArgumentPooler,addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;return NewKlass.instancePool=[],NewKlass.getPooled=pooler||DEFAULT_POOLER,NewKlass.poolSize||(NewKlass.poolSize=DEFAULT_POOL_SIZE),NewKlass.release=standardReleaser,NewKlass},PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/Transaction",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var invariant=require("npm:fbjs@0.3.2/lib/invariant"),Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){this.isInTransaction()?"production"!==process.env.NODE_ENV?invariant(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):invariant(!1):void 0;var errorThrown,ret;try{this._isInTransaction=!0,errorThrown=!0,this.initializeAll(0),ret=method.call(scope,a,b,c,d,e,f),errorThrown=!1}finally{try{if(errorThrown)try{this.closeAll(0)}catch(err){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return ret},initializeAll:function(startIndex){for(var transactionWrappers=this.transactionWrappers,i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR,this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(err){}}}},closeAll:function(startIndex){this.isInTransaction()?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Transaction.closeAll(): Cannot close transaction when none are open."):invariant(!1);for(var transactionWrappers=this.transactionWrappers,i=startIndex;i<transactionWrappers.length;i++){var errorThrown,wrapper=transactionWrappers[i],initData=this.wrapperInitData[i];try{errorThrown=!0,initData!==Transaction.OBSERVED_ERROR&&wrapper.close&&wrapper.close.call(this,initData),errorThrown=!1}finally{if(errorThrown)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}},Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/emptyObject",["github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var emptyObject={};"production"!==process.env.NODE_ENV&&Object.freeze(emptyObject),module.exports=emptyObject}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/isNode",[],!0,function(require,exports,module){function isNode(object){return!(!object||!("function"==typeof Node?object instanceof Node:"object"==typeof object&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName))}var global=System.global,__define=global.define;return global.define=void 0,module.exports=isNode,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactComponentEnvironment",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var invariant=require("npm:fbjs@0.3.2/lib/invariant"),injected=!1,ReactComponentEnvironment={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(environment){injected?"production"!==process.env.NODE_ENV?invariant(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):invariant(!1):void 0,ReactComponentEnvironment.unmountIDFromEnvironment=environment.unmountIDFromEnvironment,ReactComponentEnvironment.replaceNodeWithMarkupByID=environment.replaceNodeWithMarkupByID,ReactComponentEnvironment.processChildrenUpdates=environment.processChildrenUpdates,injected=!0}}};module.exports=ReactComponentEnvironment}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactPropTypeLocations",["npm:fbjs@0.3.2/lib/keyMirror"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var keyMirror=require("npm:fbjs@0.3.2/lib/keyMirror"),ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});return module.exports=ReactPropTypeLocations,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactPropTypeLocationNames",["github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var ReactPropTypeLocationNames={};"production"!==process.env.NODE_ENV&&(ReactPropTypeLocationNames={prop:"prop",context:"context",childContext:"child context"}),module.exports=ReactPropTypeLocationNames}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/shouldUpdateReactComponent",[],!0,function(require,exports,module){function shouldUpdateReactComponent(prevElement,nextElement){var prevEmpty=null===prevElement||prevElement===!1,nextEmpty=null===nextElement||nextElement===!1;if(prevEmpty||nextEmpty)return prevEmpty===nextEmpty;var prevType=typeof prevElement,nextType=typeof nextElement;return"string"===prevType||"number"===prevType?"string"===nextType||"number"===nextType:"object"===nextType&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key}var global=System.global,__define=global.define;return global.define=void 0,module.exports=shouldUpdateReactComponent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactEmptyComponent",["npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactEmptyComponentRegistry","npm:react@0.14.0/lib/ReactReconciler","npm:react@0.14.0/lib/Object.assign"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var placeholderElement,ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactEmptyComponentRegistry=require("npm:react@0.14.0/lib/ReactEmptyComponentRegistry"),ReactReconciler=require("npm:react@0.14.0/lib/ReactReconciler"),assign=require("npm:react@0.14.0/lib/Object.assign"),ReactEmptyComponentInjection={injectEmptyComponent:function(component){placeholderElement=ReactElement.createElement(component)}},ReactEmptyComponent=function(instantiate){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=instantiate(placeholderElement)};return assign(ReactEmptyComponent.prototype,{construct:function(element){},mountComponent:function(rootID,transaction,context){return ReactEmptyComponentRegistry.registerNullComponentID(rootID),this._rootNodeID=rootID,ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,context)},receiveComponent:function(){},unmountComponent:function(rootID,transaction,context){ReactReconciler.unmountComponent(this._renderedComponent),ReactEmptyComponentRegistry.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),ReactEmptyComponent.injection=ReactEmptyComponentInjection,module.exports=ReactEmptyComponent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactNativeComponent",["npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getComponentClassForElement(element){if("function"==typeof element.type)return element.type;var tag=element.type,componentClass=tagToComponentClass[tag];return null==componentClass&&(tagToComponentClass[tag]=componentClass=autoGenerateWrapperClass(tag)),componentClass}function createInternalComponent(element){return genericComponentClass?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"There is no registered component for the tag %s",element.type):invariant(!1),new genericComponentClass(element.type,element.props)}function createInstanceForText(text){return new textComponentClass(text)}function isTextComponent(component){return component instanceof textComponentClass}var assign=require("npm:react@0.14.0/lib/Object.assign"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),autoGenerateWrapperClass=null,genericComponentClass=null,tagToComponentClass={},textComponentClass=null,ReactNativeComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass},injectTextComponentClass:function(componentClass){textComponentClass=componentClass},injectComponentClasses:function(componentClasses){assign(tagToComponentClass,componentClasses)}},ReactNativeComponent={getComponentClassForElement:getComponentClassForElement,createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/validateDOMNesting",["npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/emptyFunction","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var assign=require("npm:react@0.14.0/lib/Object.assign"),emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),warning=require("npm:fbjs@0.3.2/lib/warning"),validateDOMNesting=emptyFunction;if("production"!==process.env.NODE_ENV){var specialTags=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],inScopeTags=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],buttonScopeTags=inScopeTags.concat(["button"]),impliedEndTags=["dd","dt","li","option","optgroup","p","rp","rt"],emptyAncestorInfo={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},updatedAncestorInfo=function(oldInfo,tag,instance){var ancestorInfo=assign({},oldInfo||emptyAncestorInfo),info={tag:tag,instance:instance};return-1!==inScopeTags.indexOf(tag)&&(ancestorInfo.aTagInScope=null,ancestorInfo.buttonTagInScope=null,ancestorInfo.nobrTagInScope=null),-1!==buttonScopeTags.indexOf(tag)&&(ancestorInfo.pTagInButtonScope=null),-1!==specialTags.indexOf(tag)&&"address"!==tag&&"div"!==tag&&"p"!==tag&&(ancestorInfo.listItemTagAutoclosing=null,ancestorInfo.dlItemTagAutoclosing=null),ancestorInfo.parentTag=info,"form"===tag&&(ancestorInfo.formTag=info),"a"===tag&&(ancestorInfo.aTagInScope=info),"button"===tag&&(ancestorInfo.buttonTagInScope=info),"nobr"===tag&&(ancestorInfo.nobrTagInScope=info),"p"===tag&&(ancestorInfo.pTagInButtonScope=info),"li"===tag&&(ancestorInfo.listItemTagAutoclosing=info),("dd"===tag||"dt"===tag)&&(ancestorInfo.dlItemTagAutoclosing=info),ancestorInfo},isTagValidWithParent=function(tag,parentTag){switch(parentTag){case"select":return"option"===tag||"optgroup"===tag||"#text"===tag;case"optgroup":return"option"===tag||"#text"===tag;case"option":return"#text"===tag;case"tr":return"th"===tag||"td"===tag||"style"===tag||"script"===tag||"template"===tag;case"tbody":case"thead":case"tfoot":return"tr"===tag||"style"===tag||"script"===tag||"template"===tag;case"colgroup":return"col"===tag||"template"===tag;case"table":return"caption"===tag||"colgroup"===tag||"tbody"===tag||"tfoot"===tag||"thead"===tag||"style"===tag||"script"===tag||"template"===tag;case"head":return"base"===tag||"basefont"===tag||"bgsound"===tag||"link"===tag||"meta"===tag||"title"===tag||"noscript"===tag||"noframes"===tag||"style"===tag||"script"===tag||"template"===tag;case"html":return"head"===tag||"body"===tag}switch(tag){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==parentTag&&"h2"!==parentTag&&"h3"!==parentTag&&"h4"!==parentTag&&"h5"!==parentTag&&"h6"!==parentTag;case"rp":case"rt":return-1===impliedEndTags.indexOf(parentTag);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==parentTag}return!0},findInvalidAncestorForTag=function(tag,ancestorInfo){switch(tag){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return ancestorInfo.pTagInButtonScope;case"form":return ancestorInfo.formTag||ancestorInfo.pTagInButtonScope;case"li":return ancestorInfo.listItemTagAutoclosing;case"dd":case"dt":return ancestorInfo.dlItemTagAutoclosing;case"button":return ancestorInfo.buttonTagInScope;case"a":return ancestorInfo.aTagInScope;case"nobr":return ancestorInfo.nobrTagInScope}return null},findOwnerStack=function(instance){if(!instance)return[];var stack=[];do stack.push(instance);while(instance=instance._currentElement._owner);return stack.reverse(),stack},didWarn={};validateDOMNesting=function(childTag,childInstance,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.parentTag,parentTag=parentInfo&&parentInfo.tag,invalidParent=isTagValidWithParent(childTag,parentTag)?null:parentInfo,invalidAncestor=invalidParent?null:findInvalidAncestorForTag(childTag,ancestorInfo),problematic=invalidParent||invalidAncestor;if(problematic){var i,ancestorTag=problematic.tag,ancestorInstance=problematic.instance,childOwner=childInstance&&childInstance._currentElement._owner,ancestorOwner=ancestorInstance&&ancestorInstance._currentElement._owner,childOwners=findOwnerStack(childOwner),ancestorOwners=findOwnerStack(ancestorOwner),minStackLen=Math.min(childOwners.length,ancestorOwners.length),deepestCommon=-1;for(i=0;minStackLen>i&&childOwners[i]===ancestorOwners[i];i++)deepestCommon=i;var UNKNOWN="(unknown)",childOwnerNames=childOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN}),ancestorOwnerNames=ancestorOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN}),ownerInfo=[].concat(-1!==deepestCommon?childOwners[deepestCommon].getName()||UNKNOWN:[],ancestorOwnerNames,ancestorTag,invalidAncestor?["..."]:[],childOwnerNames,childTag).join(" > "),warnKey=!!invalidParent+"|"+childTag+"|"+ancestorTag+"|"+ownerInfo;if(didWarn[warnKey])return;if(didWarn[warnKey]=!0,invalidParent){var info="";"table"===ancestorTag&&"tr"===childTag&&(info+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),"production"!==process.env.NODE_ENV?warning(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",childTag,ancestorTag,ownerInfo,info):void 0}else"production"!==process.env.NODE_ENV?warning(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",childTag,ancestorTag,ownerInfo):void 0}},validateDOMNesting.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),validateDOMNesting.updatedAncestorInfo=updatedAncestorInfo,validateDOMNesting.isTagValidInContext=function(tag,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.parentTag,parentTag=parentInfo&&parentInfo.tag;return isTagValidWithParent(tag,parentTag)&&!findInvalidAncestorForTag(tag,ancestorInfo)}}module.exports=validateDOMNesting}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/EventPropagators",["npm:react@0.14.0/lib/EventConstants","npm:react@0.14.0/lib/EventPluginHub","npm:fbjs@0.3.2/lib/warning","npm:react@0.14.0/lib/accumulateInto","npm:react@0.14.0/lib/forEachAccumulated","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName)}function accumulateDirectionalDispatches(domID,upwards,event){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(domID,"Dispatching id must not be null"):void 0);var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured,listener=listenerAtPhase(domID,event,phase);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchIDs=accumulateInto(event._dispatchIDs,domID))}function accumulateTwoPhaseDispatchesSingle(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateTwoPhaseDispatchesSingleSkipTarget(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName,listener=getListener(id,registrationName);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchIDs=accumulateInto(event._dispatchIDs,id))}}function accumulateDirectDispatchesSingle(event){event&&event.dispatchConfig.registrationName&&accumulateDispatches(event.dispatchMarker,null,event)}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateTwoPhaseDispatchesSkipTarget(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget)}function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventConstants=require("npm:react@0.14.0/lib/EventConstants"),EventPluginHub=require("npm:react@0.14.0/lib/EventPluginHub"),warning=require("npm:fbjs@0.3.2/lib/warning"),accumulateInto=require("npm:react@0.14.0/lib/accumulateInto"),forEachAccumulated=require("npm:react@0.14.0/lib/forEachAccumulated"),PropagationPhases=EventConstants.PropagationPhases,getListener=EventPluginHub.getListener,EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/getTextContentAccessor",["npm:fbjs@0.3.2/lib/ExecutionEnvironment"],!0,function(require,exports,module){function getTextContentAccessor(){return!contentKey&&ExecutionEnvironment.canUseDOM&&(contentKey="textContent"in document.documentElement?"textContent":"innerText"),contentKey}var global=System.global,__define=global.define;global.define=void 0;var ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),contentKey=null;return module.exports=getTextContentAccessor,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticEvent",["npm:react@0.14.0/lib/PooledClass","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/emptyFunction","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){this.dispatchConfig=dispatchConfig,this.dispatchMarker=dispatchMarker,this.nativeEvent=nativeEvent,this.target=nativeEventTarget,this.currentTarget=nativeEventTarget;var Interface=this.constructor.Interface;for(var propName in Interface)if(Interface.hasOwnProperty(propName)){var normalize=Interface[propName];normalize?this[propName]=normalize(nativeEvent):this[propName]=nativeEvent[propName]}var defaultPrevented=null!=nativeEvent.defaultPrevented?nativeEvent.defaultPrevented:nativeEvent.returnValue===!1;defaultPrevented?this.isDefaultPrevented=emptyFunction.thatReturnsTrue:this.isDefaultPrevented=emptyFunction.thatReturnsFalse,this.isPropagationStopped=emptyFunction.thatReturnsFalse}var PooledClass=require("npm:react@0.14.0/lib/PooledClass"),assign=require("npm:react@0.14.0/lib/Object.assign"),emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),warning=require("npm:fbjs@0.3.2/lib/warning"),EventInterface={type:null,currentTarget:emptyFunction.thatReturnsNull,
eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var event=this.nativeEvent;"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(event,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0),event&&(event.preventDefault?event.preventDefault():event.returnValue=!1,this.isDefaultPrevented=emptyFunction.thatReturnsTrue)},stopPropagation:function(){var event=this.nativeEvent;"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(event,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0),event&&(event.stopPropagation?event.stopPropagation():event.cancelBubble=!0,this.isPropagationStopped=emptyFunction.thatReturnsTrue)},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface)this[propName]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),SyntheticEvent.Interface=EventInterface,SyntheticEvent.augmentClass=function(Class,Interface){var Super=this,prototype=Object.create(Super.prototype);assign(prototype,Class.prototype),Class.prototype=prototype,Class.prototype.constructor=Class,Class.Interface=assign({},Super.Interface,Interface),Class.augmentClass=Super.augmentClass,PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler)},PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler),module.exports=SyntheticEvent}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticInputEvent",["npm:react@0.14.0/lib/SyntheticEvent"],!0,function(require,exports,module){function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticEvent=require("npm:react@0.14.0/lib/SyntheticEvent"),InputEventInterface={data:null};return SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface),module.exports=SyntheticInputEvent,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/keyOf",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj)if(oneKeyObj.hasOwnProperty(key))return key;return null};return module.exports=keyOf,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/getEventTarget",[],!0,function(require,exports,module){function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return 3===target.nodeType?target.parentNode:target}var global=System.global,__define=global.define;return global.define=void 0,module.exports=getEventTarget,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/isTextInputElement",[],!0,function(require,exports,module){function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&("input"===nodeName&&supportedInputTypes[elem.type]||"textarea"===nodeName)}var global=System.global,__define=global.define;global.define=void 0;var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};return module.exports=isTextInputElement,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ClientReactRootIndex",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var nextReactRootIndex=0,ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++}};return module.exports=ClientReactRootIndex,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/DefaultEventPluginOrder",["npm:fbjs@0.3.2/lib/keyOf"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var keyOf=require("npm:fbjs@0.3.2/lib/keyOf"),DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null})];return module.exports=DefaultEventPluginOrder,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticUIEvent",["npm:react@0.14.0/lib/SyntheticEvent","npm:react@0.14.0/lib/getEventTarget"],!0,function(require,exports,module){function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticEvent=require("npm:react@0.14.0/lib/SyntheticEvent"),getEventTarget=require("npm:react@0.14.0/lib/getEventTarget"),UIEventInterface={view:function(event){if(event.view)return event.view;var target=getEventTarget(event);if(null!=target&&target.window===target)return target;var doc=target.ownerDocument;return doc?doc.defaultView||doc.parentWindow:window},detail:function(event){return event.detail||0}};return SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface),module.exports=SyntheticUIEvent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/getEventModifierState",[],!0,function(require,exports,module){function modifierStateGetter(keyArg){var syntheticEvent=this,nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState)return nativeEvent.getModifierState(keyArg);var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:!1}function getEventModifierState(nativeEvent){return modifierStateGetter}var global=System.global,__define=global.define;global.define=void 0;var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};return module.exports=getEventModifierState,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/HTMLDOMPropertyConfig",["npm:react@0.14.0/lib/DOMProperty","npm:fbjs@0.3.2/lib/ExecutionEnvironment"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var hasSVG,DOMProperty=require("npm:react@0.14.0/lib/DOMProperty"),ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY,HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE,HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS,HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE,HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE,HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=implementation&&implementation.hasFeature&&implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,capture:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,challenge:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,headers:null,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,inputMode:MUST_USE_ATTRIBUTE,is:MUST_USE_ATTRIBUTE,keyParams:MUST_USE_ATTRIBUTE,keyType:MUST_USE_ATTRIBUTE,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,low:null,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,minLength:MUST_USE_ATTRIBUTE,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scoped:HAS_BOOLEAN_VALUE,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,wrap:null,about:MUST_USE_ATTRIBUTE,datatype:MUST_USE_ATTRIBUTE,inlist:MUST_USE_ATTRIBUTE,prefix:MUST_USE_ATTRIBUTE,property:MUST_USE_ATTRIBUTE,resource:MUST_USE_ATTRIBUTE,"typeof":MUST_USE_ATTRIBUTE,vocab:MUST_USE_ATTRIBUTE,autoCapitalize:null,autoCorrect:null,autoSave:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,itemID:MUST_USE_ATTRIBUTE,itemRef:MUST_USE_ATTRIBUTE,results:null,security:MUST_USE_ATTRIBUTE,unselectable:MUST_USE_ATTRIBUTE},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};return module.exports=HTMLDOMPropertyConfig,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/findDOMNode",["npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/ReactInstanceMap","npm:react@0.14.0/lib/ReactMount","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function findDOMNode(componentOrElement){if("production"!==process.env.NODE_ENV){var owner=ReactCurrentOwner.current;null!==owner&&("production"!==process.env.NODE_ENV?warning(owner._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",owner.getName()||"A component"):void 0,owner._warnedAboutRefsInRender=!0)}return null==componentOrElement?null:1===componentOrElement.nodeType?componentOrElement:ReactInstanceMap.has(componentOrElement)?ReactMount.getNodeFromInstance(componentOrElement):(null!=componentOrElement.render&&"function"==typeof componentOrElement.render?"production"!==process.env.NODE_ENV?invariant(!1,"findDOMNode was called on an unmounted component."):invariant(!1):void 0,void("production"!==process.env.NODE_ENV?invariant(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(componentOrElement)):invariant(!1)))}var ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),ReactInstanceMap=require("npm:react@0.14.0/lib/ReactInstanceMap"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning");module.exports=findDOMNode}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDefaultBatchingStrategy",["npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/Transaction","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/emptyFunction"],!0,function(require,exports,module){function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}var global=System.global,__define=global.define;global.define=void 0;var ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),Transaction=require("npm:react@0.14.0/lib/Transaction"),assign=require("npm:react@0.14.0/lib/Object.assign"),emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=!1}},FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)},TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction,ReactDefaultBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(callback,a,b,c,d,e){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=!0,alreadyBatchingUpdates?callback(a,b,c,d,e):transaction.perform(callback,null,a,b,c,d,e)}};return module.exports=ReactDefaultBatchingStrategy,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/focusNode",[],!0,function(require,exports,module){function focusNode(node){try{node.focus()}catch(e){}}var global=System.global,__define=global.define;return global.define=void 0,module.exports=focusNode,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/CSSProperty",[],!0,function(require,exports,module){function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var global=System.global,__define=global.define;global.define=void 0;var isUnitlessNumber={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};return module.exports=CSSProperty,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/camelize",[],!0,function(require,exports,module){function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase()})}var global=System.global,__define=global.define;global.define=void 0;var _hyphenPattern=/-(.)/g;return module.exports=camelize,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/dangerousStyleValue",["npm:react@0.14.0/lib/CSSProperty"],!0,function(require,exports,module){function dangerousStyleValue(name,value){var isEmpty=null==value||"boolean"==typeof value||""===value;if(isEmpty)return"";var isNonNumeric=isNaN(value);return isNonNumeric||0===value||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]?""+value:("string"==typeof value&&(value=value.trim()),value+"px")}var global=System.global,__define=global.define;global.define=void 0;var CSSProperty=require("npm:react@0.14.0/lib/CSSProperty"),isUnitlessNumber=CSSProperty.isUnitlessNumber;return module.exports=dangerousStyleValue,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/hyphenate",[],!0,function(require,exports,module){function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}var global=System.global,__define=global.define;global.define=void 0;var _uppercasePattern=/([A-Z])/g;return module.exports=hyphenate,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/memoizeStringOnly",[],!0,function(require,exports,module){function memoizeStringOnly(callback){var cache={};return function(string){return cache.hasOwnProperty(string)||(cache[string]=callback.call(this,string)),cache[string]}}var global=System.global,__define=global.define;return global.define=void 0,module.exports=memoizeStringOnly,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMButton",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var mouseListenerNames={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},ReactDOMButton={getNativeProps:function(inst,props,context){if(!props.disabled)return props;var nativeProps={};for(var key in props)props.hasOwnProperty(key)&&!mouseListenerNames[key]&&(nativeProps[key]=props[key]);return nativeProps}};return module.exports=ReactDOMButton,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/getIteratorFn",[],!0,function(require,exports,module){function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);return"function"==typeof iteratorFn?iteratorFn:void 0}var global=System.global,__define=global.define;global.define=void 0;var ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator";return module.exports=getIteratorFn,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/traverseAllChildren",["npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactInstanceHandles","npm:react@0.14.0/lib/getIteratorFn","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match]}function getComponentKey(component,index){return component&&null!=component.key?wrapUserProvidedKey(component.key):index.toString(36)}function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper)}function wrapUserProvidedKey(key){return"$"+escapeUserProvidedKey(key)}function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if(("undefined"===type||"boolean"===type)&&(children=null),null===children||"string"===type||"number"===type||ReactElement.isValidElement(children))return callback(traverseContext,children,""===nameSoFar?SEPARATOR+getComponentKey(children,0):nameSoFar),1;var child,nextName,subtreeCount=0,nextNamePrefix=""===nameSoFar?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children))for(var i=0;i<children.length;i++)child=children[i],nextName=nextNamePrefix+getComponentKey(child,i),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else{var iteratorFn=getIteratorFn(children);if(iteratorFn){var step,iterator=iteratorFn.call(children);if(iteratorFn!==children.entries)for(var ii=0;!(step=iterator.next()).done;)child=step.value,nextName=nextNamePrefix+getComponentKey(child,ii++),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else for("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(didWarnAboutMaps,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):void 0,didWarnAboutMaps=!0);!(step=iterator.next()).done;){var entry=step.value;entry&&(child=entry[1],nextName=nextNamePrefix+wrapUserProvidedKey(entry[0])+SUBSEPARATOR+getComponentKey(child,0),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext))}}else if("object"===type){var addendum="";if("production"!==process.env.NODE_ENV&&(addendum=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",children._isReactElement&&(addendum=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),ReactCurrentOwner.current)){var name=ReactCurrentOwner.current.getName();name&&(addendum+=" Check the render method of `"+name+"`.")}var childrenString=String(children);"production"!==process.env.NODE_ENV?invariant(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===childrenString?"object with keys {"+Object.keys(children).join(", ")+"}":childrenString,addendum):invariant(!1)}}return subtreeCount}function traverseAllChildren(children,callback,traverseContext){return null==children?0:traverseAllChildrenImpl(children,"",callback,traverseContext)}var ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactInstanceHandles=require("npm:react@0.14.0/lib/ReactInstanceHandles"),getIteratorFn=require("npm:react@0.14.0/lib/getIteratorFn"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning"),SEPARATOR=ReactInstanceHandles.SEPARATOR,SUBSEPARATOR=":",userProvidedKeyEscaperLookup={"=":"=0",".":"=1",":":"=2"},userProvidedKeyEscapeRegex=/[=.:]/g,didWarnAboutMaps=!1;module.exports=traverseAllChildren}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMSelect",["npm:react@0.14.0/lib/LinkedValueUtils","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var props=this._currentElement.props,value=LinkedValueUtils.getValue(props);null!=value&&updateOptions(this,props,value)}}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function checkSelectPropTypes(inst,props){var owner=inst._currentElement._owner;LinkedValueUtils.checkPropTypes("select",props,owner);for(var i=0;i<valuePropNames.length;i++){var propName=valuePropNames[i];null!=props[propName]&&(props.multiple?"production"!==process.env.NODE_ENV?warning(Array.isArray(props[propName]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",propName,getDeclarationErrorAddendum(owner)):void 0:"production"!==process.env.NODE_ENV?warning(!Array.isArray(props[propName]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",propName,getDeclarationErrorAddendum(owner)):void 0)}}function updateOptions(inst,multiple,propValue){var selectedValue,i,options=ReactMount.getNode(inst._rootNodeID).options;if(multiple){for(selectedValue={},i=0;i<propValue.length;i++)selectedValue[""+propValue[i]]=!0;for(i=0;i<options.length;i++){var selected=selectedValue.hasOwnProperty(options[i].value);options[i].selected!==selected&&(options[i].selected=selected)}}else{for(selectedValue=""+propValue,i=0;i<options.length;i++)if(options[i].value===selectedValue)return void(options[i].selected=!0);options.length&&(options[0].selected=!0)}}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return this._wrapperState.pendingUpdate=!0,ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this),returnValue}var LinkedValueUtils=require("npm:react@0.14.0/lib/LinkedValueUtils"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),assign=require("npm:react@0.14.0/lib/Object.assign"),warning=require("npm:fbjs@0.3.2/lib/warning"),valueContextKey="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),valuePropNames=["value","defaultValue"],ReactDOMSelect={valueContextKey:valueContextKey,getNativeProps:function(inst,props,context){return assign({},props,{onChange:inst._wrapperState.onChange,value:void 0})},mountWrapper:function(inst,props){"production"!==process.env.NODE_ENV&&checkSelectPropTypes(inst,props);var value=LinkedValueUtils.getValue(props);inst._wrapperState={pendingUpdate:!1,initialValue:null!=value?value:props.defaultValue,onChange:_handleChange.bind(inst),wasMultiple:Boolean(props.multiple)}},processChildContext:function(inst,props,context){var childContext=assign({},context);return childContext[valueContextKey]=inst._wrapperState.initialValue,childContext},postUpdateWrapper:function(inst){var props=inst._currentElement.props;inst._wrapperState.initialValue=void 0;var wasMultiple=inst._wrapperState.wasMultiple;inst._wrapperState.wasMultiple=Boolean(props.multiple);var value=LinkedValueUtils.getValue(props);null!=value?(inst._wrapperState.pendingUpdate=!1,updateOptions(inst,Boolean(props.multiple),value)):wasMultiple!==Boolean(props.multiple)&&(null!=props.defaultValue?updateOptions(inst,Boolean(props.multiple),props.defaultValue):updateOptions(inst,Boolean(props.multiple),props.multiple?[]:""))}};module.exports=ReactDOMSelect}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMTextarea",["npm:react@0.14.0/lib/LinkedValueUtils","npm:react@0.14.0/lib/ReactDOMIDOperations","npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMTextarea.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return ReactUpdates.asap(forceUpdateIfMounted,this),returnValue}var LinkedValueUtils=require("npm:react@0.14.0/lib/LinkedValueUtils"),ReactDOMIDOperations=require("npm:react@0.14.0/lib/ReactDOMIDOperations"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),assign=require("npm:react@0.14.0/lib/Object.assign"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning"),ReactDOMTextarea={getNativeProps:function(inst,props,context){null!=props.dangerouslySetInnerHTML?"production"!==process.env.NODE_ENV?invariant(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):invariant(!1):void 0;var nativeProps=assign({},props,{defaultValue:void 0,value:void 0,children:inst._wrapperState.initialValue,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){"production"!==process.env.NODE_ENV&&LinkedValueUtils.checkPropTypes("textarea",props,inst._currentElement._owner);var defaultValue=props.defaultValue,children=props.children;null!=children&&("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):void 0),null!=defaultValue?"production"!==process.env.NODE_ENV?invariant(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):invariant(!1):void 0,Array.isArray(children)&&(children.length<=1?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"<textarea> can only have at most one child."):invariant(!1),children=children[0]),defaultValue=""+children),null==defaultValue&&(defaultValue="");var value=LinkedValueUtils.getValue(props);inst._wrapperState={initialValue:""+(null!=value?value:defaultValue),onChange:_handleChange.bind(inst)}},updateWrapper:function(inst){var props=inst._currentElement.props,value=LinkedValueUtils.getValue(props);null!=value&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}};module.exports=ReactDOMTextarea}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactChildReconciler",["npm:react@0.14.0/lib/ReactReconciler","npm:react@0.14.0/lib/instantiateReactComponent","npm:react@0.14.0/lib/shouldUpdateReactComponent","npm:react@0.14.0/lib/traverseAllChildren","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function instantiateChild(childInstances,child,name){var keyUnique=void 0===childInstances[name];"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(keyUnique,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",name):void 0),null!=child&&keyUnique&&(childInstances[name]=instantiateReactComponent(child,null))}var ReactReconciler=require("npm:react@0.14.0/lib/ReactReconciler"),instantiateReactComponent=require("npm:react@0.14.0/lib/instantiateReactComponent"),shouldUpdateReactComponent=require("npm:react@0.14.0/lib/shouldUpdateReactComponent"),traverseAllChildren=require("npm:react@0.14.0/lib/traverseAllChildren"),warning=require("npm:fbjs@0.3.2/lib/warning"),ReactChildReconciler={instantiateChildren:function(nestedChildNodes,transaction,context){
if(null==nestedChildNodes)return null;var childInstances={};return traverseAllChildren(nestedChildNodes,instantiateChild,childInstances),childInstances},updateChildren:function(prevChildren,nextChildren,transaction,context){if(!nextChildren&&!prevChildren)return null;var name;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){var prevChild=prevChildren&&prevChildren[name],prevElement=prevChild&&prevChild._currentElement,nextElement=nextChildren[name];if(null!=prevChild&&shouldUpdateReactComponent(prevElement,nextElement))ReactReconciler.receiveComponent(prevChild,nextElement,transaction,context),nextChildren[name]=prevChild;else{prevChild&&ReactReconciler.unmountComponent(prevChild,name);var nextChildInstance=instantiateReactComponent(nextElement,null);nextChildren[name]=nextChildInstance}}for(name in prevChildren)!prevChildren.hasOwnProperty(name)||nextChildren&&nextChildren.hasOwnProperty(name)||ReactReconciler.unmountComponent(prevChildren[name]);return nextChildren},unmountChildren:function(renderedChildren){for(var name in renderedChildren)if(renderedChildren.hasOwnProperty(name)){var renderedChild=renderedChildren[name];ReactReconciler.unmountComponent(renderedChild)}}};module.exports=ReactChildReconciler}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/flattenChildren",["npm:react@0.14.0/lib/traverseAllChildren","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext,keyUnique=void 0===result[name];"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(keyUnique,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",name):void 0),keyUnique&&null!=child&&(result[name]=child)}function flattenChildren(children){if(null==children)return children;var result={};return traverseAllChildren(children,flattenSingleChildIntoContext,result),result}var traverseAllChildren=require("npm:react@0.14.0/lib/traverseAllChildren"),warning=require("npm:fbjs@0.3.2/lib/warning");module.exports=flattenChildren}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/shallowEqual",[],!0,function(require,exports,module){function shallowEqual(objA,objB){if(objA===objB)return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var bHasOwnProperty=hasOwnProperty.bind(objB),i=0;i<keysA.length;i++)if(!bHasOwnProperty(keysA[i])||objA[keysA[i]]!==objB[keysA[i]])return!1;return!0}var global=System.global,__define=global.define;global.define=void 0;var hasOwnProperty=Object.prototype.hasOwnProperty;return module.exports=shallowEqual,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/EventListener",["npm:fbjs@0.3.2/lib/emptyFunction","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),EventListener={listen:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}}):target.attachEvent?(target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent("on"+eventType,callback)}}):void 0},capture:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!0),{remove:function(){target.removeEventListener(eventType,callback,!0)}}):("production"!==process.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:emptyFunction})},registerDefault:function(){}};module.exports=EventListener}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/getUnboundedScrollPosition",[],!0,function(require,exports,module){function getUnboundedScrollPosition(scrollable){return scrollable===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:scrollable.scrollLeft,y:scrollable.scrollTop}}var global=System.global,__define=global.define;return global.define=void 0,module.exports=getUnboundedScrollPosition,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactNoopUpdateQueue",["npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function warnTDZ(publicInstance,callerName){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",callerName,callerName,publicInstance.constructor&&publicInstance.constructor.displayName||""):void 0)}var warning=require("npm:fbjs@0.3.2/lib/warning"),ReactNoopUpdateQueue={isMounted:function(publicInstance){return!1},enqueueCallback:function(publicInstance,callback){},enqueueForceUpdate:function(publicInstance){warnTDZ(publicInstance,"forceUpdate")},enqueueReplaceState:function(publicInstance,completeState){warnTDZ(publicInstance,"replaceState")},enqueueSetState:function(publicInstance,partialState){warnTDZ(publicInstance,"setState")},enqueueSetProps:function(publicInstance,partialProps){warnTDZ(publicInstance,"setProps")},enqueueReplaceProps:function(publicInstance,props){warnTDZ(publicInstance,"replaceProps")}};module.exports=ReactNoopUpdateQueue}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/getNodeForCharacterOffset",[],!0,function(require,exports,module){function getLeafNode(node){for(;node&&node.firstChild;)node=node.firstChild;return node}function getSiblingNode(node){for(;node;){if(node.nextSibling)return node.nextSibling;node=node.parentNode}}function getNodeForCharacterOffset(root,offset){for(var node=getLeafNode(root),nodeStart=0,nodeEnd=0;node;){if(3===node.nodeType){if(nodeEnd=nodeStart+node.textContent.length,offset>=nodeStart&&nodeEnd>=offset)return{node:node,offset:offset-nodeStart};nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}var global=System.global,__define=global.define;return global.define=void 0,module.exports=getNodeForCharacterOffset,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/getActiveElement",[],!0,function(require,exports,module){function getActiveElement(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}var global=System.global,__define=global.define;return global.define=void 0,module.exports=getActiveElement,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SelectEventPlugin",["npm:react@0.14.0/lib/EventConstants","npm:react@0.14.0/lib/EventPropagators","npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:react@0.14.0/lib/ReactInputSelection","npm:react@0.14.0/lib/SyntheticEvent","npm:fbjs@0.3.2/lib/getActiveElement","npm:react@0.14.0/lib/isTextInputElement","npm:fbjs@0.3.2/lib/keyOf","npm:fbjs@0.3.2/lib/shallowEqual"],!0,function(require,exports,module){function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node))return{start:node.selectionStart,end:node.selectionEnd};if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}}function constructSelectEvent(nativeEvent,nativeEventTarget){if(mouseDown||null==activeElement||activeElement!==getActiveElement())return null;var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent,nativeEventTarget);return syntheticEvent.type="select",syntheticEvent.target=activeElement,EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent),syntheticEvent}return null}var global=System.global,__define=global.define;global.define=void 0;var EventConstants=require("npm:react@0.14.0/lib/EventConstants"),EventPropagators=require("npm:react@0.14.0/lib/EventPropagators"),ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),ReactInputSelection=require("npm:react@0.14.0/lib/ReactInputSelection"),SyntheticEvent=require("npm:react@0.14.0/lib/SyntheticEvent"),getActiveElement=require("npm:fbjs@0.3.2/lib/getActiveElement"),isTextInputElement=require("npm:react@0.14.0/lib/isTextInputElement"),keyOf=require("npm:fbjs@0.3.2/lib/keyOf"),shallowEqual=require("npm:fbjs@0.3.2/lib/shallowEqual"),topLevelTypes=EventConstants.topLevelTypes,skipSelectionChangeEvent=ExecutionEnvironment.canUseDOM&&"documentMode"in document&&document.documentMode<=11,eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,lastSelection=null,mouseDown=!1,hasListener=!1,ON_SELECT_KEY=keyOf({onSelect:null}),SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(!hasListener)return null;switch(topLevelType){case topLevelTypes.topFocus:(isTextInputElement(topLevelTarget)||"true"===topLevelTarget.contentEditable)&&(activeElement=topLevelTarget,activeElementID=topLevelTargetID,lastSelection=null);break;case topLevelTypes.topBlur:activeElement=null,activeElementID=null,lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=!0;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:return mouseDown=!1,constructSelectEvent(nativeEvent,nativeEventTarget);case topLevelTypes.topSelectionChange:if(skipSelectionChangeEvent)break;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent,nativeEventTarget)}return null},didPutListener:function(id,registrationName,listener){registrationName===ON_SELECT_KEY&&(hasListener=!0)}};return module.exports=SelectEventPlugin,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ServerReactRootIndex",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53),ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX)}};return module.exports=ServerReactRootIndex,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticClipboardEvent",["npm:react@0.14.0/lib/SyntheticEvent"],!0,function(require,exports,module){function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticEvent=require("npm:react@0.14.0/lib/SyntheticEvent"),ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};return SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface),module.exports=SyntheticClipboardEvent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticFocusEvent",["npm:react@0.14.0/lib/SyntheticUIEvent"],!0,function(require,exports,module){function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticUIEvent=require("npm:react@0.14.0/lib/SyntheticUIEvent"),FocusEventInterface={relatedTarget:null};return SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface),module.exports=SyntheticFocusEvent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/getEventCharCode",[],!0,function(require,exports,module){function getEventCharCode(nativeEvent){var charCode,keyCode=nativeEvent.keyCode;return"charCode"in nativeEvent?(charCode=nativeEvent.charCode,0===charCode&&13===keyCode&&(charCode=13)):charCode=keyCode,charCode>=32||13===charCode?charCode:0}var global=System.global,__define=global.define;return global.define=void 0,module.exports=getEventCharCode,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/getEventKey",["npm:react@0.14.0/lib/getEventCharCode"],!0,function(require,exports,module){function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if("Unidentified"!==key)return key}if("keypress"===nativeEvent.type){var charCode=getEventCharCode(nativeEvent);return 13===charCode?"Enter":String.fromCharCode(charCode)}return"keydown"===nativeEvent.type||"keyup"===nativeEvent.type?translateToKey[nativeEvent.keyCode]||"Unidentified":""}var global=System.global,__define=global.define;global.define=void 0;var getEventCharCode=require("npm:react@0.14.0/lib/getEventCharCode"),normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};return module.exports=getEventKey,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticDragEvent",["npm:react@0.14.0/lib/SyntheticMouseEvent"],!0,function(require,exports,module){function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticMouseEvent=require("npm:react@0.14.0/lib/SyntheticMouseEvent"),DragEventInterface={dataTransfer:null};return SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface),module.exports=SyntheticDragEvent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticTouchEvent",["npm:react@0.14.0/lib/SyntheticUIEvent","npm:react@0.14.0/lib/getEventModifierState"],!0,function(require,exports,module){function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticUIEvent=require("npm:react@0.14.0/lib/SyntheticUIEvent"),getEventModifierState=require("npm:react@0.14.0/lib/getEventModifierState"),TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};return SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface),module.exports=SyntheticTouchEvent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticWheelEvent",["npm:react@0.14.0/lib/SyntheticMouseEvent"],!0,function(require,exports,module){function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticMouseEvent=require("npm:react@0.14.0/lib/SyntheticMouseEvent"),WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};return SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface),module.exports=SyntheticWheelEvent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SVGDOMPropertyConfig",["npm:react@0.14.0/lib/DOMProperty"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var DOMProperty=require("npm:react@0.14.0/lib/DOMProperty"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,NS={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},SVGDOMPropertyConfig={Properties:{clipPath:MUST_USE_ATTRIBUTE,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,xlinkActuate:MUST_USE_ATTRIBUTE,xlinkArcrole:MUST_USE_ATTRIBUTE,xlinkHref:MUST_USE_ATTRIBUTE,xlinkRole:MUST_USE_ATTRIBUTE,xlinkShow:MUST_USE_ATTRIBUTE,xlinkTitle:MUST_USE_ATTRIBUTE,xlinkType:MUST_USE_ATTRIBUTE,xmlBase:MUST_USE_ATTRIBUTE,xmlLang:MUST_USE_ATTRIBUTE,xmlSpace:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNamespaces:{xlinkActuate:NS.xlink,xlinkArcrole:NS.xlink,xlinkHref:NS.xlink,xlinkRole:NS.xlink,xlinkShow:NS.xlink,xlinkTitle:NS.xlink,xlinkType:NS.xlink,xmlBase:NS.xml,xmlLang:NS.xml,xmlSpace:NS.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};return module.exports=SVGDOMPropertyConfig,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDefaultPerfAnalysis",["npm:react@0.14.0/lib/Object.assign"],!0,function(require,exports,module){function getTotalTime(measurements){for(var totalTime=0,i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime}return totalTime}function getDOMSummary(measurements){var items=[];return measurements.forEach(function(measurement){Object.keys(measurement.writes).forEach(function(id){measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args})})})}),items}function getExclusiveSummary(measurements){for(var displayName,candidates={},i=0;i<measurements.length;i++){var measurement=measurements[i],allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs)displayName=measurement.displayNames[id].current,candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,render:0,count:0},measurement.render[id]&&(candidates[displayName].render+=measurement.render[id]),measurement.exclusive[id]&&(candidates[displayName].exclusive+=measurement.exclusive[id]),measurement.inclusive[id]&&(candidates[displayName].inclusive+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[displayName].count+=measurement.counts[id])}var arr=[];for(displayName in candidates)candidates[displayName].exclusive>=DONT_CARE_THRESHOLD&&arr.push(candidates[displayName]);return arr.sort(function(a,b){return b.exclusive-a.exclusive}),arr}function getInclusiveSummary(measurements,onlyClean){for(var inclusiveKey,candidates={},i=0;i<measurements.length;i++){var cleanComponents,measurement=measurements[i],allIDs=assign({},measurement.exclusive,measurement.inclusive);onlyClean&&(cleanComponents=getUnchangedComponents(measurement));for(var id in allIDs)if(!onlyClean||cleanComponents[id]){var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+" > "+displayName.current,candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0},measurement.inclusive[id]&&(candidates[inclusiveKey].time+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[inclusiveKey].count+=measurement.counts[id])}}var arr=[];for(inclusiveKey in candidates)candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD&&arr.push(candidates[inclusiveKey]);return arr.sort(function(a,b){return b.time-a.time}),arr}function getUnchangedComponents(measurement){var cleanComponents={},dirtyLeafIDs=Object.keys(measurement.writes),allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){for(var isDirty=!1,i=0;i<dirtyLeafIDs.length;i++)if(0===dirtyLeafIDs[i].indexOf(id)){isDirty=!0;break}measurement.created[id]&&(isDirty=!0),!isDirty&&measurement.counts[id]>0&&(cleanComponents[id]=!0)}return cleanComponents}var global=System.global,__define=global.define;global.define=void 0;var assign=require("npm:react@0.14.0/lib/Object.assign"),DONT_CARE_THRESHOLD=1.2,DOM_OPERATION_TYPES={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",dangerouslyReplaceNodeWithMarkupByID:"replace"},ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};return module.exports=ReactDefaultPerfAnalysis,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/performance",["npm:fbjs@0.3.2/lib/ExecutionEnvironment"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var performance,ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment");return ExecutionEnvironment.canUseDOM&&(performance=window.performance||window.msPerformance||window.webkitPerformance),module.exports=performance||{},global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactVersion",[],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports="0.14.0",global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/renderSubtreeIntoContainer",["npm:react@0.14.0/lib/ReactMount"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactMount=require("npm:react@0.14.0/lib/ReactMount");return module.exports=ReactMount.renderSubtreeIntoContainer,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactServerBatchingStrategy",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactServerBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(callback){}};return module.exports=ReactServerBatchingStrategy,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactServerRenderingTransaction",["npm:react@0.14.0/lib/PooledClass","npm:react@0.14.0/lib/CallbackQueue","npm:react@0.14.0/lib/Transaction","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/emptyFunction"],!0,function(require,exports,module){function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction(),this.renderToStaticMarkup=renderToStaticMarkup,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=!1}var global=System.global,__define=global.define;global.define=void 0;var PooledClass=require("npm:react@0.14.0/lib/PooledClass"),CallbackQueue=require("npm:react@0.14.0/lib/CallbackQueue"),Transaction=require("npm:react@0.14.0/lib/Transaction"),assign=require("npm:react@0.14.0/lib/Object.assign"),emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:emptyFunction},TRANSACTION_WRAPPERS=[ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};return assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactServerRenderingTransaction),module.exports=ReactServerRenderingTransaction,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactElementValidator",["npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactPropTypeLocations","npm:react@0.14.0/lib/ReactPropTypeLocationNames","npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/getIteratorFn","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name)return" Check the render method of `"+name+"`."}return""}function validateExplicitKey(element,parentType){if(element._store&&!element._store.validated&&null==element.key){element._store.validated=!0;var addenda=getAddendaForKeyUse("uniqueKey",element,parentType);null!==addenda&&("production"!==process.env.NODE_ENV?warning(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',addenda.parentOrOwner||"",addenda.childOwner||"",addenda.url||""):void 0)}}function getAddendaForKeyUse(messageType,element,parentType){var addendum=getDeclarationErrorAddendum();if(!addendum){var parentName="string"==typeof parentType?parentType:parentType.displayName||parentType.name;parentName&&(addendum=" Check the top-level render call using <"+parentName+">.")}var memoizer=ownerHasKeyUseWarning[messageType]||(ownerHasKeyUseWarning[messageType]={});if(memoizer[addendum])return null;memoizer[addendum]=!0;var addenda={parentOrOwner:addendum,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return element&&element._owner&&element._owner!==ReactCurrentOwner.current&&(addenda.childOwner=" It was passed a child from "+element._owner.getName()+"."),addenda}function validateChildKeys(node,parentType){if("object"==typeof node)if(Array.isArray(node))for(var i=0;i<node.length;i++){var child=node[i];ReactElement.isValidElement(child)&&validateExplicitKey(child,parentType)}else if(ReactElement.isValidElement(node))node._store&&(node._store.validated=!0);else if(node){var iteratorFn=getIteratorFn(node);if(iteratorFn&&iteratorFn!==node.entries)for(var step,iterator=iteratorFn.call(node);!(step=iterator.next()).done;)ReactElement.isValidElement(step.value)&&validateExplicitKey(step.value,parentType)}}function checkPropTypes(componentName,propTypes,props,location){for(var propName in propTypes)if(propTypes.hasOwnProperty(propName)){var error;try{"function"!=typeof propTypes[propName]?"production"!==process.env.NODE_ENV?invariant(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",componentName||"React class",ReactPropTypeLocationNames[location],propName):invariant(!1):void 0,error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if("production"!==process.env.NODE_ENV?warning(!error||error instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",componentName||"React class",ReactPropTypeLocationNames[location],propName,typeof error):void 0,error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;var addendum=getDeclarationErrorAddendum();"production"!==process.env.NODE_ENV?warning(!1,"Failed propType: %s%s",error.message,addendum):void 0}}}function validatePropTypes(element){var componentClass=element.type;if("function"==typeof componentClass){var name=componentClass.displayName||componentClass.name;componentClass.propTypes&&checkPropTypes(name,componentClass.propTypes,element.props,ReactPropTypeLocations.prop),"function"==typeof componentClass.getDefaultProps&&("production"!==process.env.NODE_ENV?warning(componentClass.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):void 0)}}var ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactPropTypeLocations=require("npm:react@0.14.0/lib/ReactPropTypeLocations"),ReactPropTypeLocationNames=require("npm:react@0.14.0/lib/ReactPropTypeLocationNames"),ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),getIteratorFn=require("npm:react@0.14.0/lib/getIteratorFn"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning"),ownerHasKeyUseWarning={},loggedTypeFailures={},ReactElementValidator={createElement:function(type,props,children){var validType="string"==typeof type||"function"==typeof type;"production"!==process.env.NODE_ENV?warning(validType,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",getDeclarationErrorAddendum()):void 0;
var element=ReactElement.createElement.apply(this,arguments);if(null==element)return element;if(validType)for(var i=2;i<arguments.length;i++)validateChildKeys(arguments[i],type);return validatePropTypes(element),element},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);if(validatedFactory.type=type,"production"!==process.env.NODE_ENV)try{Object.defineProperty(validatedFactory,"type",{enumerable:!1,get:function(){return"production"!==process.env.NODE_ENV?warning(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):void 0,Object.defineProperty(this,"type",{value:type}),type}})}catch(x){}return validatedFactory},cloneElement:function(element,props,children){for(var newElement=ReactElement.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)validateChildKeys(arguments[i],newElement.type);return validatePropTypes(newElement),newElement}};module.exports=ReactElementValidator}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/mapObject",[],!0,function(require,exports,module){function mapObject(object,callback,context){if(!object)return null;var result={};for(var name in object)hasOwnProperty.call(object,name)&&(result[name]=callback.call(context,object[name],name,object));return result}var global=System.global,__define=global.define;global.define=void 0;var hasOwnProperty=Object.prototype.hasOwnProperty;return module.exports=mapObject,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/onlyChild",["npm:react@0.14.0/lib/ReactElement","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function onlyChild(children){return ReactElement.isValidElement(children)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"onlyChild must be passed a children with exactly one child."):invariant(!1),children}var ReactElement=require("npm:react@0.14.0/lib/ReactElement"),invariant=require("npm:fbjs@0.3.2/lib/invariant");module.exports=onlyChild}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/deprecated",["npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function deprecated(fnName,newModule,newPackage,ctx,fn){var warned=!1;if("production"!==process.env.NODE_ENV){var newFn=function(){return"production"!==process.env.NODE_ENV?warning(warned,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",fnName,newModule,fnName,newPackage):void 0,warned=!0,fn.apply(ctx,arguments)};return assign(newFn,fn)}return fn}var assign=require("npm:react@0.14.0/lib/Object.assign"),warning=require("npm:fbjs@0.3.2/lib/warning");module.exports=deprecated}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react-dom@0.14.0/index",["npm:react@0.14.0/lib/ReactDOM"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:react@0.14.0/lib/ReactDOM"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.fw",[],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=function($){return $.FW=!1,$.path=$.core,$},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.def",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){function ctx(fn,that){return function(){return fn.apply(that,arguments)}}function $def(type,name,source){var key,own,out,exp,isGlobal=type&$def.G,isProto=type&$def.P,target=isGlobal?global:type&$def.S?global[name]:(global[name]||{}).prototype,exports=isGlobal?core:core[name]||(core[name]={});isGlobal&&(source=name);for(key in source)own=!(type&$def.F)&&target&&key in target,own&&key in exports||(out=own?target[key]:source[key],isGlobal&&!isFunction(target[key])?exp=source[key]:type&$def.B&&own?exp=ctx(out,global):type&$def.W&&target[key]==out?!function(C){exp=function(param){return this instanceof C?new C(param):C(param)},exp.prototype=C.prototype}(out):exp=isProto&&isFunction(out)?ctx(Function.call,out):out,exports[key]=exp,isProto&&((exports.prototype||(exports.prototype={}))[key]=out))}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),global=$.g,core=$.core,isFunction=$.isFunction;return $def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.get-names",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){function getWindowNames(it){try{return getNames(it)}catch(e){return windowNames.slice()}}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),toString={}.toString,getNames=$.getNames,windowNames="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return module.exports.get=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):getNames($.toObject(it))},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/object/create",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$");return module.exports=function(P,D){return $.create(P,D)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.assert",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){function assert(condition,msg1,msg2){if(!condition)throw TypeError(msg2?msg1+msg2:msg1)}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$");return assert.def=$.assertDefined,assert.fn=function(it){if(!$.isFunction(it))throw TypeError(it+" is not a function!");return it},assert.obj=function(it){if(!$.isObject(it))throw TypeError(it+" is not an object!");return it},assert.inst=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError(name+": use the 'new' operator!");return it},module.exports=assert,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.ctx",["npm:core-js@0.9.18/library/modules/$.assert"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var assertFunction=require("npm:core-js@0.9.18/library/modules/$.assert").fn;return module.exports=function(fn,that,length){if(assertFunction(fn),~length&&void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/object/define-property",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$");return module.exports=function(it,key,desc){return $.setDesc(it,key,desc)},global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/helpers/class-call-check",[],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,exports["default"]=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.enum-keys",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$");return module.exports=function(it){var keys=$.getKeys(it),getDesc=$.getDesc,getSymbols=$.getSymbols;return getSymbols&&$.each.call(getSymbols(it),function(key){getDesc(it,key).enumerable&&keys.push(key)}),keys},global.define=__define,module.exports}),System.register("npm:react-dispatcher@0.2.1/lib/invariant",[],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var invariant=function(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}throw error.framesToPop=1,error}};return module.exports=invariant,global.define=__define,module.exports}),System.register("npm:events@1.0.2/events",[],!0,function(require,exports,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}var global=System.global,__define=global.define;return global.define=void 0,module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0},global.define=__define,module.exports}),System.register("github:mbostock/d3@3.5.6/d3",[],!1,function(__require,__exports,__module){return System.get("@@global-helpers").prepareGlobal(__module.id,[]),function(){"format global";"exports d3";!function(){function d3_documentElement(node){return node&&(node.ownerDocument||node.document||node).documentElement}function d3_window(node){return node&&(node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView)}function d3_ascending(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function d3_number(x){return null===x?NaN:+x}function d3_numeric(x){return!isNaN(x)}function d3_bisector(compare){return{left:function(a,x,lo,hi){for(arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);hi>lo;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);hi>lo;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}function d3_zipLength(d){return d.length}function d3_range_integerScale(x){for(var k=1;x*k%1;)k*=10;return k}function d3_class(ctor,properties){for(var key in properties)Object.defineProperty(ctor.prototype,key,{value:properties[key],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(key){return(key+="")===d3_map_proto||key[0]===d3_map_zero?d3_map_zero+key:key}function d3_map_unescape(key){return(key+="")[0]===d3_map_zero?key.slice(1):key}function d3_map_has(key){return d3_map_escape(key)in this._}function d3_map_remove(key){return(key=d3_map_escape(key))in this._&&delete this._[key]}function d3_map_keys(){var keys=[];for(var key in this._)keys.push(d3_map_unescape(key));return keys}function d3_map_size(){var size=0;for(var key in this._)++size;return size}function d3_map_empty(){for(var key in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(d){return d}function d3_rebind(target,source,method){return function(){var value=method.apply(source,arguments);return value===source?target:value}}function d3_vendorSymbol(object,name){if(name in object)return name;name=name.charAt(0).toUpperCase()+name.slice(1);for(var i=0,n=d3_vendorPrefixes.length;n>i;++i){var prefixName=d3_vendorPrefixes[i]+name;if(prefixName in object)return prefixName}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(dispatch){function event(){for(var l,z=listeners,i=-1,n=z.length;++i<n;)(l=z[i].on)&&l.apply(this,arguments);return dispatch}var listeners=[],listenerByName=new d3_Map;return event.on=function(name,listener){var i,l=listenerByName.get(name);return arguments.length<2?l&&l.on:(l&&(l.on=null,listeners=listeners.slice(0,i=listeners.indexOf(l)).concat(listeners.slice(i+1)),listenerByName.remove(name)),listener&&listeners.push(listenerByName.set(name,{on:listener})),dispatch)},event}function d3_eventPreventDefault(){d3.event.preventDefault()}function d3_eventSource(){for(var s,e=d3.event;s=e.sourceEvent;)e=s;return e}function d3_eventDispatch(target){for(var dispatch=new d3_dispatch,i=0,n=arguments.length;++i<n;)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch.of=function(thiz,argumentz){return function(e1){try{var e0=e1.sourceEvent=d3.event;e1.target=target,d3.event=e1,dispatch[e1.type].apply(thiz,argumentz)}finally{d3.event=e0}}},dispatch}function d3_selection(groups){return d3_subclass(groups,d3_selectionPrototype),groups}function d3_selection_selector(selector){return"function"==typeof selector?selector:function(){return d3_select(selector,this)}}function d3_selection_selectorAll(selector){return"function"==typeof selector?selector:function(){return d3_selectAll(selector,this)}}function d3_selection_attr(name,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrConstant(){this.setAttribute(name,value)}function attrConstantNS(){this.setAttributeNS(name.space,name.local,value)}function attrFunction(){var x=value.apply(this,arguments);null==x?this.removeAttribute(name):this.setAttribute(name,x)}function attrFunctionNS(){var x=value.apply(this,arguments);null==x?this.removeAttributeNS(name.space,name.local):this.setAttributeNS(name.space,name.local,x)}return name=d3.ns.qualify(name),null==value?name.local?attrNullNS:attrNull:"function"==typeof value?name.local?attrFunctionNS:attrFunction:name.local?attrConstantNS:attrConstant}function d3_collapse(s){return s.trim().replace(/\s+/g," ")}function d3_selection_classedRe(name){return new RegExp("(?:^|\\s+)"+d3.requote(name)+"(?:\\s+|$)","g")}function d3_selection_classes(name){return(name+"").trim().split(/^|\s+/)}function d3_selection_classed(name,value){function classedConstant(){for(var i=-1;++i<n;)name[i](this,value)}function classedFunction(){for(var i=-1,x=value.apply(this,arguments);++i<n;)name[i](this,x)}name=d3_selection_classes(name).map(d3_selection_classedName);var n=name.length;return"function"==typeof value?classedFunction:classedConstant}function d3_selection_classedName(name){var re=d3_selection_classedRe(name);return function(node,value){if(c=node.classList)return value?c.add(name):c.remove(name);var c=node.getAttribute("class")||"";value?(re.lastIndex=0,re.test(c)||node.setAttribute("class",d3_collapse(c+" "+name))):node.setAttribute("class",d3_collapse(c.replace(re," ")))}}function d3_selection_style(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleConstant(){this.style.setProperty(name,value,priority)}function styleFunction(){var x=value.apply(this,arguments);null==x?this.style.removeProperty(name):this.style.setProperty(name,x,priority)}return null==value?styleNull:"function"==typeof value?styleFunction:styleConstant}function d3_selection_property(name,value){function propertyNull(){delete this[name]}function propertyConstant(){this[name]=value}function propertyFunction(){var x=value.apply(this,arguments);null==x?delete this[name]:this[name]=x}return null==value?propertyNull:"function"==typeof value?propertyFunction:propertyConstant}function d3_selection_creator(name){function create(){var document=this.ownerDocument,namespace=this.namespaceURI;return namespace?document.createElementNS(namespace,name):document.createElement(name)}function createNS(){return this.ownerDocument.createElementNS(name.space,name.local)}return"function"==typeof name?name:(name=d3.ns.qualify(name)).local?createNS:create}function d3_selectionRemove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function d3_selection_dataNode(data){return{__data__:data}}function d3_selection_filter(selector){return function(){return d3_selectMatches(this,selector)}}function d3_selection_sortComparator(comparator){return arguments.length||(comparator=d3_ascending),function(a,b){return a&&b?comparator(a.__data__,b.__data__):!a-!b}}function d3_selection_each(groups,callback){for(var j=0,m=groups.length;m>j;j++)for(var node,group=groups[j],i=0,n=group.length;n>i;i++)(node=group[i])&&callback(node,i,j);return groups}function d3_selection_enter(selection){return d3_subclass(selection,d3_selection_enterPrototype),selection}function d3_selection_enterInsertBefore(enter){var i0,j0;return function(d,i,j){var node,group=enter[j].update,n=group.length;for(j!=j0&&(j0=j,i0=0),i>=i0&&(i0=i+1);!(node=group[i0])&&++i0<n;);return node}}function d3_selection_on(type,listener,capture){function onRemove(){var l=this[name];l&&(this.removeEventListener(type,l,l.$),delete this[name])}function onAdd(){var l=wrap(listener,d3_array(arguments));onRemove.call(this),this.addEventListener(type,this[name]=l,l.$=capture),l._=listener}function removeAll(){var match,re=new RegExp("^__on([^.]+)"+d3.requote(type)+"$");for(var name in this)if(match=name.match(re)){var l=this[name];this.removeEventListener(match[1],l,l.$),delete this[name]}}var name="__on"+type,i=type.indexOf("."),wrap=d3_selection_onListener;i>0&&(type=type.slice(0,i));var filter=d3_selection_onFilters.get(type);return filter&&(type=filter,wrap=d3_selection_onFilter),i?listener?onAdd:onRemove:listener?d3_noop:removeAll}function d3_selection_onListener(listener,argumentz){return function(e){var o=d3.event;d3.event=e,argumentz[0]=this.__data__;try{listener.apply(this,argumentz)}finally{d3.event=o}}}function d3_selection_onFilter(listener,argumentz){var l=d3_selection_onListener(listener,argumentz);return function(e){var target=this,related=e.relatedTarget;related&&(related===target||8&related.compareDocumentPosition(target))||l.call(target,e)}}function d3_event_dragSuppress(node){var name=".dragsuppress-"+ ++d3_event_dragId,click="click"+name,w=d3.select(d3_window(node)).on("touchmove"+name,d3_eventPreventDefault).on("dragstart"+name,d3_eventPreventDefault).on("selectstart"+name,d3_eventPreventDefault);if(null==d3_event_dragSelect&&(d3_event_dragSelect="onselectstart"in node?!1:d3_vendorSymbol(node.style,"userSelect")),d3_event_dragSelect){var style=d3_documentElement(node).style,select=style[d3_event_dragSelect];style[d3_event_dragSelect]="none"}return function(suppressClick){if(w.on(name,null),d3_event_dragSelect&&(style[d3_event_dragSelect]=select),suppressClick){var off=function(){w.on(click,null)};w.on(click,function(){d3_eventPreventDefault(),off()},!0),setTimeout(off,0)}}}function d3_mousePoint(container,e){e.changedTouches&&(e=e.changedTouches[0]);var svg=container.ownerSVGElement||container;if(svg.createSVGPoint){var point=svg.createSVGPoint();if(0>d3_mouse_bug44083){var window=d3_window(container);if(window.scrollX||window.scrollY){svg=d3.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ctm=svg[0][0].getScreenCTM();d3_mouse_bug44083=!(ctm.f||ctm.e),svg.remove()}}return d3_mouse_bug44083?(point.x=e.pageX,point.y=e.pageY):(point.x=e.clientX,point.y=e.clientY),point=point.matrixTransform(container.getScreenCTM().inverse()),[point.x,point.y]}var rect=container.getBoundingClientRect();return[e.clientX-rect.left-container.clientLeft,e.clientY-rect.top-container.clientTop]}function d3_behavior_dragTouchId(){return d3.event.changedTouches[0].identifier}function d3_sgn(x){return x>0?1:0>x?-1:0}function d3_cross2d(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function d3_acos(x){return x>1?0:-1>x?π:Math.acos(x)}function d3_asin(x){return x>1?halfπ:-1>x?-halfπ:Math.asin(x)}function d3_sinh(x){return((x=Math.exp(x))-1/x)/2}function d3_cosh(x){return((x=Math.exp(x))+1/x)/2}function d3_tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}function d3_haversin(x){return(x=Math.sin(x/2))*x}function d3_color(){}function d3_hsl(h,s,l){return this instanceof d3_hsl?(this.h=+h,this.s=+s,void(this.l=+l)):arguments.length<2?h instanceof d3_hsl?new d3_hsl(h.h,h.s,h.l):d3_rgb_parse(""+h,d3_rgb_hsl,d3_hsl):new d3_hsl(h,s,l)}function d3_hsl_rgb(h,s,l){function v(h){return h>360?h-=360:0>h&&(h+=360),60>h?m1+(m2-m1)*h/60:180>h?m2:240>h?m1+(m2-m1)*(240-h)/60:m1}function vv(h){return Math.round(255*v(h))}var m1,m2;return h=isNaN(h)?0:(h%=360)<0?h+360:h,s=isNaN(s)?0:0>s?0:s>1?1:s,l=0>l?0:l>1?1:l,m2=.5>=l?l*(1+s):l+s-l*s,m1=2*l-m2,new d3_rgb(vv(h+120),vv(h),vv(h-120))}function d3_hcl(h,c,l){return this instanceof d3_hcl?(this.h=+h,this.c=+c,void(this.l=+l)):arguments.length<2?h instanceof d3_hcl?new d3_hcl(h.h,h.c,h.l):h instanceof d3_lab?d3_lab_hcl(h.l,h.a,h.b):d3_lab_hcl((h=d3_rgb_lab((h=d3.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new d3_hcl(h,c,l)}function d3_hcl_lab(h,c,l){return isNaN(h)&&(h=0),isNaN(c)&&(c=0),new d3_lab(l,Math.cos(h*=d3_radians)*c,Math.sin(h)*c)}function d3_lab(l,a,b){return this instanceof d3_lab?(this.l=+l,this.a=+a,void(this.b=+b)):arguments.length<2?l instanceof d3_lab?new d3_lab(l.l,l.a,l.b):l instanceof d3_hcl?d3_hcl_lab(l.h,l.c,l.l):d3_rgb_lab((l=d3_rgb(l)).r,l.g,l.b):new d3_lab(l,a,b)}function d3_lab_rgb(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;return x=d3_lab_xyz(x)*d3_lab_X,y=d3_lab_xyz(y)*d3_lab_Y,z=d3_lab_xyz(z)*d3_lab_Z,new d3_rgb(d3_xyz_rgb(3.2404542*x-1.5371385*y-.4985314*z),d3_xyz_rgb(-.969266*x+1.8760108*y+.041556*z),d3_xyz_rgb(.0556434*x-.2040259*y+1.0572252*z))}function d3_lab_hcl(l,a,b){return l>0?new d3_hcl(Math.atan2(b,a)*d3_degrees,Math.sqrt(a*a+b*b),l):new d3_hcl(NaN,NaN,l)}function d3_lab_xyz(x){return x>.206893034?x*x*x:(x-4/29)/7.787037}function d3_xyz_lab(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29}function d3_xyz_rgb(r){return Math.round(255*(.00304>=r?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}function d3_rgb(r,g,b){return this instanceof d3_rgb?(this.r=~~r,this.g=~~g,void(this.b=~~b)):arguments.length<2?r instanceof d3_rgb?new d3_rgb(r.r,r.g,r.b):d3_rgb_parse(""+r,d3_rgb,d3_hsl_rgb):new d3_rgb(r,g,b)}function d3_rgbNumber(value){return new d3_rgb(value>>16,value>>8&255,255&value)}function d3_rgbString(value){return d3_rgbNumber(value)+""}function d3_rgb_hex(v){return 16>v?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function d3_rgb_parse(format,rgb,hsl){var m1,m2,color,r=0,g=0,b=0;if(m1=/([a-z]+)\((.*)\)/.exec(format=format.toLowerCase()))switch(m2=m1[2].split(","),m1[1]){case"hsl":return hsl(parseFloat(m2[0]),parseFloat(m2[1])/100,parseFloat(m2[2])/100);case"rgb":return rgb(d3_rgb_parseNumber(m2[0]),d3_rgb_parseNumber(m2[1]),d3_rgb_parseNumber(m2[2]))}return(color=d3_rgb_names.get(format))?rgb(color.r,color.g,color.b):(null==format||"#"!==format.charAt(0)||isNaN(color=parseInt(format.slice(1),16))||(4===format.length?(r=(3840&color)>>4,r=r>>4|r,g=240&color,g=g>>4|g,b=15&color,b=b<<4|b):7===format.length&&(r=(16711680&color)>>16,g=(65280&color)>>8,b=255&color)),rgb(r,g,b))}function d3_rgb_hsl(r,g,b){var h,s,min=Math.min(r/=255,g/=255,b/=255),max=Math.max(r,g,b),d=max-min,l=(max+min)/2;return d?(s=.5>l?d/(max+min):d/(2-max-min),h=r==max?(g-b)/d+(b>g?6:0):g==max?(b-r)/d+2:(r-g)/d+4,h*=60):(h=NaN,s=l>0&&1>l?0:h),new d3_hsl(h,s,l)}function d3_rgb_lab(r,g,b){r=d3_rgb_xyz(r),g=d3_rgb_xyz(g),b=d3_rgb_xyz(b);var x=d3_xyz_lab((.4124564*r+.3575761*g+.1804375*b)/d3_lab_X),y=d3_xyz_lab((.2126729*r+.7151522*g+.072175*b)/d3_lab_Y),z=d3_xyz_lab((.0193339*r+.119192*g+.9503041*b)/d3_lab_Z);return d3_lab(116*y-16,500*(x-y),200*(y-z))}function d3_rgb_xyz(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function d3_rgb_parseNumber(c){var f=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*f):f}function d3_functor(v){return"function"==typeof v?v:function(){return v}}function d3_xhrType(response){return function(url,mimeType,callback){return 2===arguments.length&&"function"==typeof mimeType&&(callback=mimeType,mimeType=null),d3_xhr(url,mimeType,response,callback)}}function d3_xhr(url,mimeType,response,callback){function respond(){var result,status=request.status;if(!status&&d3_xhrHasResponse(request)||status>=200&&300>status||304===status){try{result=response.call(xhr,request)}catch(e){return void dispatch.error.call(xhr,e)}dispatch.load.call(xhr,result)}else dispatch.error.call(xhr,request)}var xhr={},dispatch=d3.dispatch("beforesend","progress","load","error"),headers={},request=new XMLHttpRequest,responseType=null;return!this.XDomainRequest||"withCredentials"in request||!/^(http(s)?:)?\/\//.test(url)||(request=new XDomainRequest),"onload"in request?request.onload=request.onerror=respond:request.onreadystatechange=function(){request.readyState>3&&respond()},request.onprogress=function(event){var o=d3.event;d3.event=event;try{dispatch.progress.call(xhr,request)}finally{d3.event=o}},xhr.header=function(name,value){return name=(name+"").toLowerCase(),arguments.length<2?headers[name]:(null==value?delete headers[name]:headers[name]=value+"",xhr)},xhr.mimeType=function(value){return arguments.length?(mimeType=null==value?null:value+"",xhr):mimeType},xhr.responseType=function(value){return arguments.length?(responseType=value,xhr):responseType},xhr.response=function(value){return response=value,xhr},["get","post"].forEach(function(method){xhr[method]=function(){return xhr.send.apply(xhr,[method].concat(d3_array(arguments)))}}),xhr.send=function(method,data,callback){if(2===arguments.length&&"function"==typeof data&&(callback=data,data=null),request.open(method,url,!0),null==mimeType||"accept"in headers||(headers.accept=mimeType+",*/*"),request.setRequestHeader)for(var name in headers)request.setRequestHeader(name,headers[name]);return null!=mimeType&&request.overrideMimeType&&request.overrideMimeType(mimeType),null!=responseType&&(request.responseType=responseType),null!=callback&&xhr.on("error",callback).on("load",function(request){callback(null,request)}),dispatch.beforesend.call(xhr,request),request.send(null==data?null:data),xhr},xhr.abort=function(){return request.abort(),xhr},d3.rebind(xhr,dispatch,"on"),null==callback?xhr:xhr.get(d3_xhr_fixCallback(callback))}function d3_xhr_fixCallback(callback){return 1===callback.length?function(error,request){callback(null==error?request:null)}:callback}function d3_xhrHasResponse(request){var type=request.responseType;return type&&"text"!==type?request.response:request.responseText}function d3_timer_step(){var now=d3_timer_mark(),delay=d3_timer_sweep()-now;delay>24?(isFinite(delay)&&(clearTimeout(d3_timer_timeout),d3_timer_timeout=setTimeout(d3_timer_step,delay)),d3_timer_interval=0):(d3_timer_interval=1,d3_timer_frame(d3_timer_step))}function d3_timer_mark(){var now=Date.now();for(d3_timer_active=d3_timer_queueHead;d3_timer_active;)now>=d3_timer_active.t&&(d3_timer_active.f=d3_timer_active.c(now-d3_timer_active.t)),d3_timer_active=d3_timer_active.n;return now}function d3_timer_sweep(){for(var t0,t1=d3_timer_queueHead,time=1/0;t1;)t1.f?t1=t0?t0.n=t1.n:d3_timer_queueHead=t1.n:(t1.t<time&&(time=t1.t),t1=(t0=t1).n);return d3_timer_queueTail=t0,time}function d3_format_precision(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1)}function d3_formatPrefix(d,i){var k=Math.pow(10,3*abs(8-i));return{scale:i>8?function(d){return d/k}:function(d){return d*k},symbol:d}}function d3_locale_numberFormat(locale){
var locale_decimal=locale.decimal,locale_thousands=locale.thousands,locale_grouping=locale.grouping,locale_currency=locale.currency,formatGroup=locale_grouping&&locale_thousands?function(value,width){for(var i=value.length,t=[],j=0,g=locale_grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=locale_grouping[j=(j+1)%locale_grouping.length];return t.reverse().join(locale_thousands)}:d3_identity;return function(specifier){var match=d3_format_re.exec(specifier),fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zfill=match[5],width=+match[6],comma=match[7],precision=match[8],type=match[9],scale=1,prefix="",suffix="",integer=!1,exponent=!0;switch(precision&&(precision=+precision.substring(1)),(zfill||"0"===fill&&"="===align)&&(zfill=fill="0",align="="),type){case"n":comma=!0,type="g";break;case"%":scale=100,suffix="%",type="f";break;case"p":scale=100,suffix="%",type="r";break;case"b":case"o":case"x":case"X":"#"===symbol&&(prefix="0"+type.toLowerCase());case"c":exponent=!1;case"d":integer=!0,precision=0;break;case"s":scale=-1,type="r"}"$"===symbol&&(prefix=locale_currency[0],suffix=locale_currency[1]),"r"!=type||precision||(type="g"),null!=precision&&("g"==type?precision=Math.max(1,Math.min(21,precision)):("e"==type||"f"==type)&&(precision=Math.max(0,Math.min(20,precision)))),type=d3_format_types.get(type)||d3_format_typeDefault;var zcomma=zfill&&comma;return function(value){var fullSuffix=suffix;if(integer&&value%1)return"";var negative=0>value||0===value&&0>1/value?(value=-value,"-"):"-"===sign?"":sign;if(0>scale){var unit=d3.formatPrefix(value,precision);value=unit.scale(value),fullSuffix=unit.symbol+suffix}else value*=scale;value=type(value,precision);var before,after,i=value.lastIndexOf(".");if(0>i){var j=exponent?value.lastIndexOf("e"):-1;0>j?(before=value,after=""):(before=value.substring(0,j),after=value.substring(j))}else before=value.substring(0,i),after=locale_decimal+value.substring(i+1);!zfill&&comma&&(before=formatGroup(before,1/0));var length=prefix.length+before.length+after.length+(zcomma?0:negative.length),padding=width>length?new Array(length=width-length+1).join(fill):"";return zcomma&&(before=formatGroup(padding+before,padding.length?width-after.length:1/0)),negative+=prefix,value=before+after,("<"===align?negative+value+padding:">"===align?padding+negative+value:"^"===align?padding.substring(0,length>>=1)+negative+value+padding.substring(length):negative+(zcomma?value:padding+value))+fullSuffix}}}function d3_format_typeDefault(x){return x+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(local,step,number){function round(date){var d0=local(date),d1=offset(d0,1);return d1-date>date-d0?d0:d1}function ceil(date){return step(date=local(new d3_date(date-1)),1),date}function offset(date,k){return step(date=new d3_date(+date),k),date}function range(t0,t1,dt){var time=ceil(t0),times=[];if(dt>1)for(;t1>time;)number(time)%dt||times.push(new Date(+time)),step(time,1);else for(;t1>time;)times.push(new Date(+time)),step(time,1);return times}function range_utc(t0,t1,dt){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=t0,range(utc,t1,dt)}finally{d3_date=Date}}local.floor=local,local.round=round,local.ceil=ceil,local.offset=offset,local.range=range;var utc=local.utc=d3_time_interval_utc(local);return utc.floor=utc,utc.round=d3_time_interval_utc(round),utc.ceil=d3_time_interval_utc(ceil),utc.offset=d3_time_interval_utc(offset),utc.range=range_utc,local}function d3_time_interval_utc(method){return function(date,k){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=date,method(utc,k)._}finally{d3_date=Date}}}function d3_locale_timeFormat(locale){function d3_time_format(template){function format(date){for(var c,p,f,string=[],i=-1,j=0;++i<n;)37===template.charCodeAt(i)&&(string.push(template.slice(j,i)),null!=(p=d3_time_formatPads[c=template.charAt(++i)])&&(c=template.charAt(++i)),(f=d3_time_formats[c])&&(c=f(date,null==p?"e"===c?" ":"0":p)),string.push(c),j=i+1);return string.push(template.slice(j,i)),string.join("")}var n=template.length;return format.parse=function(string){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=d3_time_parse(d,template,string,0);if(i!=string.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var localZ=null!=d.Z&&d3_date!==d3_date_utc,date=new(localZ?d3_date_utc:d3_date);return"j"in d?date.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(date.setFullYear(d.y,0,1),date.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(date.getDay()+5)%7:d.w+7*d.U-(date.getDay()+6)%7)):date.setFullYear(d.y,d.m,d.d),date.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),localZ?date._:date},format.toString=function(){return template},format}function d3_time_parse(date,template,string,j){for(var c,p,t,i=0,n=template.length,m=string.length;n>i;){if(j>=m)return-1;if(c=template.charCodeAt(i++),37===c){if(t=template.charAt(i++),p=d3_time_parsers[t in d3_time_formatPads?template.charAt(i++):t],!p||(j=p(date,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}function d3_time_parseWeekdayAbbrev(date,string,i){d3_time_dayAbbrevRe.lastIndex=0;var n=d3_time_dayAbbrevRe.exec(string.slice(i));return n?(date.w=d3_time_dayAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseWeekday(date,string,i){d3_time_dayRe.lastIndex=0;var n=d3_time_dayRe.exec(string.slice(i));return n?(date.w=d3_time_dayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonthAbbrev(date,string,i){d3_time_monthAbbrevRe.lastIndex=0;var n=d3_time_monthAbbrevRe.exec(string.slice(i));return n?(date.m=d3_time_monthAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonth(date,string,i){d3_time_monthRe.lastIndex=0;var n=d3_time_monthRe.exec(string.slice(i));return n?(date.m=d3_time_monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseLocaleFull(date,string,i){return d3_time_parse(date,d3_time_formats.c.toString(),string,i)}function d3_time_parseLocaleDate(date,string,i){return d3_time_parse(date,d3_time_formats.x.toString(),string,i)}function d3_time_parseLocaleTime(date,string,i){return d3_time_parse(date,d3_time_formats.X.toString(),string,i)}function d3_time_parseAmPm(date,string,i){var n=d3_time_periodLookup.get(string.slice(i,i+=2).toLowerCase());return null==n?-1:(date.p=n,i)}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_days=locale.days,locale_shortDays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;d3_time_format.utc=function(template){function format(date){try{d3_date=d3_date_utc;var utc=new d3_date;return utc._=date,local(utc)}finally{d3_date=Date}}var local=d3_time_format(template);return format.parse=function(string){try{d3_date=d3_date_utc;var date=local.parse(string);return date&&date._}finally{d3_date=Date}},format.toString=local.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d3_time_periodLookup=d3.map(),d3_time_dayRe=d3_time_formatRe(locale_days),d3_time_dayLookup=d3_time_formatLookup(locale_days),d3_time_dayAbbrevRe=d3_time_formatRe(locale_shortDays),d3_time_dayAbbrevLookup=d3_time_formatLookup(locale_shortDays),d3_time_monthRe=d3_time_formatRe(locale_months),d3_time_monthLookup=d3_time_formatLookup(locale_months),d3_time_monthAbbrevRe=d3_time_formatRe(locale_shortMonths),d3_time_monthAbbrevLookup=d3_time_formatLookup(locale_shortMonths);locale_periods.forEach(function(p,i){d3_time_periodLookup.set(p.toLowerCase(),i)});var d3_time_formats={a:function(d){return locale_shortDays[d.getDay()]},A:function(d){return locale_days[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:d3_time_format(locale_dateTime),d:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},e:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},H:function(d,p){return d3_time_formatPad(d.getHours(),p,2)},I:function(d,p){return d3_time_formatPad(d.getHours()%12||12,p,2)},j:function(d,p){return d3_time_formatPad(1+d3_time.dayOfYear(d),p,3)},L:function(d,p){return d3_time_formatPad(d.getMilliseconds(),p,3)},m:function(d,p){return d3_time_formatPad(d.getMonth()+1,p,2)},M:function(d,p){return d3_time_formatPad(d.getMinutes(),p,2)},p:function(d){return locale_periods[+(d.getHours()>=12)]},S:function(d,p){return d3_time_formatPad(d.getSeconds(),p,2)},U:function(d,p){return d3_time_formatPad(d3_time.sundayOfYear(d),p,2)},w:function(d){return d.getDay()},W:function(d,p){return d3_time_formatPad(d3_time.mondayOfYear(d),p,2)},x:d3_time_format(locale_date),X:d3_time_format(locale_time),y:function(d,p){return d3_time_formatPad(d.getFullYear()%100,p,2)},Y:function(d,p){return d3_time_formatPad(d.getFullYear()%1e4,p,4)},Z:d3_time_zone,"%":function(){return"%"}},d3_time_parsers={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(value,fill,width){var sign=0>value?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(width>length?new Array(width-length+1).join(fill)+string:string)}function d3_time_formatRe(names){return new RegExp("^(?:"+names.map(d3.requote).join("|")+")","i")}function d3_time_formatLookup(names){for(var map=new d3_Map,i=-1,n=names.length;++i<n;)map.set(names[i].toLowerCase(),i);return map}function d3_time_parseWeekdayNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+1));return n?(date.w=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberSunday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.U=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberMonday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.W=+n[0],i+n[0].length):-1}function d3_time_parseFullYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+4));return n?(date.y=+n[0],i+n[0].length):-1}function d3_time_parseYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.y=d3_time_expandYear(+n[0]),i+n[0].length):-1}function d3_time_parseZone(date,string,i){return/^[+-]\d{4}$/.test(string=string.slice(i,i+5))?(date.Z=-string,i+5):-1}function d3_time_expandYear(d){return d+(d>68?1900:2e3)}function d3_time_parseMonthNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.m=n[0]-1,i+n[0].length):-1}function d3_time_parseDay(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.d=+n[0],i+n[0].length):-1}function d3_time_parseDayOfYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.j=+n[0],i+n[0].length):-1}function d3_time_parseHour24(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.H=+n[0],i+n[0].length):-1}function d3_time_parseMinutes(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.M=+n[0],i+n[0].length):-1}function d3_time_parseSeconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.S=+n[0],i+n[0].length):-1}function d3_time_parseMilliseconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.L=+n[0],i+n[0].length):-1}function d3_time_zone(d){var z=d.getTimezoneOffset(),zs=z>0?"-":"+",zh=abs(z)/60|0,zm=abs(z)%60;return zs+d3_time_formatPad(zh,"0",2)+d3_time_formatPad(zm,"0",2)}function d3_time_parseLiteralPercent(date,string,i){d3_time_percentRe.lastIndex=0;var n=d3_time_percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function d3_time_formatMulti(formats){for(var n=formats.length,i=-1;++i<n;)formats[i][0]=this(formats[i][0]);return function(date){for(var i=0,f=formats[i];!f[1](date);)f=formats[++i];return f[0](date)}}function d3_adder(){}function d3_adderSum(a,b,o){var x=o.s=a+b,bv=x-a,av=x-bv;o.t=a-av+(b-bv)}function d3_geo_streamGeometry(geometry,listener){geometry&&d3_geo_streamGeometryType.hasOwnProperty(geometry.type)&&d3_geo_streamGeometryType[geometry.type](geometry,listener)}function d3_geo_streamLine(coordinates,listener,closed){var coordinate,i=-1,n=coordinates.length-closed;for(listener.lineStart();++i<n;)coordinate=coordinates[i],listener.point(coordinate[0],coordinate[1],coordinate[2]);listener.lineEnd()}function d3_geo_streamPolygon(coordinates,listener){var i=-1,n=coordinates.length;for(listener.polygonStart();++i<n;)d3_geo_streamLine(coordinates[i],listener,1);listener.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(λ,φ){λ*=d3_radians,φ=φ*d3_radians/2+π/4;var dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,cosφ=Math.cos(φ),sinφ=Math.sin(φ),k=sinφ0*sinφ,u=cosφ0*cosφ+k*Math.cos(adλ),v=k*sdλ*Math.sin(adλ);d3_geo_areaRingSum.add(Math.atan2(v,u)),λ0=λ,cosφ0=cosφ,sinφ0=sinφ}var λ00,φ00,λ0,cosφ0,sinφ0;d3_geo_area.point=function(λ,φ){d3_geo_area.point=nextPoint,λ0=(λ00=λ)*d3_radians,cosφ0=Math.cos(φ=(φ00=φ)*d3_radians/2+π/4),sinφ0=Math.sin(φ)},d3_geo_area.lineEnd=function(){nextPoint(λ00,φ00)}}function d3_geo_cartesian(spherical){var λ=spherical[0],φ=spherical[1],cosφ=Math.cos(φ);return[cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ)]}function d3_geo_cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function d3_geo_cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function d3_geo_cartesianAdd(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function d3_geo_cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function d3_geo_cartesianNormalize(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}function d3_geo_spherical(cartesian){return[Math.atan2(cartesian[1],cartesian[0]),d3_asin(cartesian[2])]}function d3_geo_sphericalEqual(a,b){return abs(a[0]-b[0])<ε&&abs(a[1]-b[1])<ε}function d3_geo_centroidPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);d3_geo_centroidPointXYZ(cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ))}function d3_geo_centroidPointXYZ(x,y,z){++d3_geo_centroidW0,d3_geo_centroidX0+=(x-d3_geo_centroidX0)/d3_geo_centroidW0,d3_geo_centroidY0+=(y-d3_geo_centroidY0)/d3_geo_centroidW0,d3_geo_centroidZ0+=(z-d3_geo_centroidZ0)/d3_geo_centroidW0}function d3_geo_centroidLineStart(){function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ),y0=cosφ*Math.sin(λ),z0=Math.sin(φ),d3_geo_centroid.point=nextPoint,d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_geo_centroidLineEnd(){d3_geo_centroid.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=Math.sqrt(cx*cx+cy*cy+cz*cz),u=x0*x+y0*y+z0*z,v=m&&-d3_acos(u)/m,w=Math.atan2(m,u);d3_geo_centroidX2+=v*cx,d3_geo_centroidY2+=v*cy,d3_geo_centroidZ2+=v*cz,d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var λ00,φ00,x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ00=λ,φ00=φ,d3_geo_centroid.point=nextPoint,λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ),y0=cosφ*Math.sin(λ),z0=Math.sin(φ),d3_geo_centroidPointXYZ(x0,y0,z0)},d3_geo_centroid.lineEnd=function(){nextPoint(λ00,φ00),d3_geo_centroid.lineEnd=d3_geo_centroidLineEnd,d3_geo_centroid.point=d3_geo_centroidPoint}}function d3_geo_compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener){var subject=[],clip=[];if(segments.forEach(function(segment){if(!((n=segment.length-1)<=0)){var n,p0=segment[0],p1=segment[n];if(d3_geo_sphericalEqual(p0,p1)){listener.lineStart();for(var i=0;n>i;++i)listener.point((p0=segment[i])[0],p0[1]);return void listener.lineEnd()}var a=new d3_geo_clipPolygonIntersection(p0,segment,null,!0),b=new d3_geo_clipPolygonIntersection(p0,null,a,!1);a.o=b,subject.push(a),clip.push(b),a=new d3_geo_clipPolygonIntersection(p1,segment,null,!1),b=new d3_geo_clipPolygonIntersection(p1,null,a,!0),a.o=b,subject.push(a),clip.push(b)}}),clip.sort(compare),d3_geo_clipPolygonLinkCircular(subject),d3_geo_clipPolygonLinkCircular(clip),subject.length){for(var i=0,entry=clipStartInside,n=clip.length;n>i;++i)clip[i].e=entry=!entry;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,listener.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(var i=0,n=points.length;n>i;++i)listener.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,listener);current=current.n}else{if(isSubject){points=current.p.z;for(var i=points.length-1;i>=0;--i)listener.point((point=points[i])[0],point[1])}else interpolate(current.x,current.p.x,-1,listener);current=current.p}current=current.o,points=current.z,isSubject=!isSubject}while(!current.v);listener.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}function d3_geo_clipPolygonIntersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function d3_geo_clip(pointVisible,clipLine,interpolate,clipStart){return function(rotate,listener){function point(λ,φ){var point=rotate(λ,φ);pointVisible(λ=point[0],φ=point[1])&&listener.point(λ,φ)}function pointLine(λ,φ){var point=rotate(λ,φ);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(λ,φ){ring.push([λ,φ]);var point=rotate(λ,φ);ringListener.point(point[0],point[1])}function ringStart(){ringListener.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringListener.lineEnd();var segment,clean=ringListener.clean(),ringSegments=buffer.buffer(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){segment=ringSegments[0];var point,n=segment.length-1,i=-1;if(n>0){for(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart();++i<n;)listener.point((point=segment[i])[0],point[1]);listener.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(d3_geo_clipSegmentLength1))}var segments,polygon,ring,line=clipLine(listener),rotatedClipStart=rotate.invert(clipStart[0],clipStart[1]),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=d3.merge(segments);var clipStartInside=d3_geo_pointInPolygon(rotatedClipStart,polygon);segments.length?(polygonStarted||(listener.polygonStart(),polygonStarted=!0),d3_geo_clipPolygon(segments,d3_geo_clipSort,clipStartInside,interpolate,listener)):clipStartInside&&(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),polygonStarted&&(listener.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){listener.polygonStart(),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd(),listener.polygonEnd()}},buffer=d3_geo_clipBufferListener(),ringListener=clipLine(buffer),polygonStarted=!1;return clip}}function d3_geo_clipSegmentLength1(segment){return segment.length>1}function d3_geo_clipBufferListener(){var line,lines=[];return{lineStart:function(){lines.push(line=[])},point:function(λ,φ){line.push([λ,φ])},lineEnd:d3_noop,buffer:function(){var buffer=lines;return lines=[],line=null,buffer},rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))}}}function d3_geo_clipSort(a,b){return((a=a.x)[0]<0?a[1]-halfπ-ε:halfπ-a[1])-((b=b.x)[0]<0?b[1]-halfπ-ε:halfπ-b[1])}function d3_geo_clipAntimeridianLine(listener){var clean,λ0=NaN,φ0=NaN,sλ0=NaN;return{lineStart:function(){listener.lineStart(),clean=1},point:function(λ1,φ1){var sλ1=λ1>0?π:-π,dλ=abs(λ1-λ0);abs(dλ-π)<ε?(listener.point(λ0,φ0=(φ0+φ1)/2>0?halfπ:-halfπ),listener.point(sλ0,φ0),listener.lineEnd(),listener.lineStart(),listener.point(sλ1,φ0),listener.point(λ1,φ0),clean=0):sλ0!==sλ1&&dλ>=π&&(abs(λ0-sλ0)<ε&&(λ0-=sλ0*ε),abs(λ1-sλ1)<ε&&(λ1-=sλ1*ε),φ0=d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1),listener.point(sλ0,φ0),listener.lineEnd(),listener.lineStart(),listener.point(sλ1,φ0),clean=0),listener.point(λ0=λ1,φ0=φ1),sλ0=sλ1},lineEnd:function(){listener.lineEnd(),λ0=φ0=NaN},clean:function(){return 2-clean}}}function d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1){var cosφ0,cosφ1,sinλ0_λ1=Math.sin(λ0-λ1);return abs(sinλ0_λ1)>ε?Math.atan((Math.sin(φ0)*(cosφ1=Math.cos(φ1))*Math.sin(λ1)-Math.sin(φ1)*(cosφ0=Math.cos(φ0))*Math.sin(λ0))/(cosφ0*cosφ1*sinλ0_λ1)):(φ0+φ1)/2}function d3_geo_clipAntimeridianInterpolate(from,to,direction,listener){var φ;if(null==from)φ=direction*halfπ,listener.point(-π,φ),listener.point(0,φ),listener.point(π,φ),listener.point(π,0),listener.point(π,-φ),listener.point(0,-φ),listener.point(-π,-φ),listener.point(-π,0),listener.point(-π,φ);else if(abs(from[0]-to[0])>ε){var s=from[0]<to[0]?π:-π;φ=direction*s/2,listener.point(-s,φ),listener.point(0,φ),listener.point(s,φ)}else listener.point(to[0],to[1])}function d3_geo_pointInPolygon(point,polygon){var meridian=point[0],parallel=point[1],meridianNormal=[Math.sin(meridian),-Math.cos(meridian),0],polarAngle=0,winding=0;d3_geo_areaRingSum.reset();for(var i=0,n=polygon.length;n>i;++i){var ring=polygon[i],m=ring.length;if(m)for(var point0=ring[0],λ0=point0[0],φ0=point0[1]/2+π/4,sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),j=1;;){j===m&&(j=0),point=ring[j];var λ=point[0],φ=point[1]/2+π/4,sinφ=Math.sin(φ),cosφ=Math.cos(φ),dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,antimeridian=adλ>π,k=sinφ0*sinφ;if(d3_geo_areaRingSum.add(Math.atan2(k*sdλ*Math.sin(adλ),cosφ0*cosφ+k*Math.cos(adλ))),polarAngle+=antimeridian?dλ+sdλ*τ:dλ,antimeridian^λ0>=meridian^λ>=meridian){var arc=d3_geo_cartesianCross(d3_geo_cartesian(point0),d3_geo_cartesian(point));d3_geo_cartesianNormalize(arc);var intersection=d3_geo_cartesianCross(meridianNormal,arc);d3_geo_cartesianNormalize(intersection);var φarc=(antimeridian^dλ>=0?-1:1)*d3_asin(intersection[2]);(parallel>φarc||parallel===φarc&&(arc[0]||arc[1]))&&(winding+=antimeridian^dλ>=0?1:-1)}if(!j++)break;λ0=λ,sinφ0=sinφ,cosφ0=cosφ,point0=point}}return(-ε>polarAngle||ε>polarAngle&&0>d3_geo_areaRingSum)^1&winding}function d3_geo_clipCircle(radius){function visible(λ,φ){return Math.cos(λ)*Math.cos(φ)>cr}function clipLine(listener){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(λ,φ){var point2,point1=[λ,φ],v=visible(λ,φ),c=smallRadius?v?0:code(λ,φ):v?code(λ+(0>λ?π:-π),φ):0;if(!point0&&(v00=v0=v)&&listener.lineStart(),v!==v0&&(point2=intersect(point0,point1),(d3_geo_sphericalEqual(point0,point2)||d3_geo_sphericalEqual(point1,point2))&&(point1[0]+=ε,point1[1]+=ε,v=visible(point1[0],point1[1]))),v!==v0)clean=0,v?(listener.lineStart(),point2=intersect(point1,point0),listener.point(point2[0],point2[1])):(point2=intersect(point0,point1),listener.point(point2[0],point2[1]),listener.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(listener.lineStart(),listener.point(t[0][0],t[0][1]),listener.point(t[1][0],t[1][1]),listener.lineEnd()):(listener.point(t[1][0],t[1][1]),listener.lineEnd(),listener.lineStart(),listener.point(t[0][0],t[0][1])))}!v||point0&&d3_geo_sphericalEqual(point0,point1)||listener.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&listener.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=d3_geo_cartesian(a),pb=d3_geo_cartesian(b),n1=[1,0,0],n2=d3_geo_cartesianCross(pa,pb),n2n2=d3_geo_cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=d3_geo_cartesianCross(n1,n2),A=d3_geo_cartesianScale(n1,c1),B=d3_geo_cartesianScale(n2,c2);d3_geo_cartesianAdd(A,B);var u=n1xn2,w=d3_geo_cartesianDot(A,u),uu=d3_geo_cartesianDot(u,u),t2=w*w-uu*(d3_geo_cartesianDot(A,A)-1);if(!(0>t2)){var t=Math.sqrt(t2),q=d3_geo_cartesianScale(u,(-w-t)/uu);if(d3_geo_cartesianAdd(q,A),q=d3_geo_spherical(q),!two)return q;var z,λ0=a[0],λ1=b[0],φ0=a[1],φ1=b[1];λ0>λ1&&(z=λ0,λ0=λ1,λ1=z);var δλ=λ1-λ0,polar=abs(δλ-π)<ε,meridian=polar||ε>δλ;if(!polar&&φ0>φ1&&(z=φ0,φ0=φ1,φ1=z),meridian?polar?φ0+φ1>0^q[1]<(abs(q[0]-λ0)<ε?φ0:φ1):φ0<=q[1]&&q[1]<=φ1:δλ>π^(λ0<=q[0]&&q[0]<=λ1)){var q1=d3_geo_cartesianScale(u,(-w+t)/uu);return d3_geo_cartesianAdd(q1,A),[q,d3_geo_spherical(q1)]}}}function code(λ,φ){var r=smallRadius?radius:π-radius,code=0;return-r>λ?code|=1:λ>r&&(code|=2),-r>φ?code|=4:φ>r&&(code|=8),code}var cr=Math.cos(radius),smallRadius=cr>0,notHemisphere=abs(cr)>ε,interpolate=d3_geo_circleInterpolate(radius,6*d3_radians);return d3_geo_clip(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-π,radius-π])}function d3_geom_clipLine(x0,y0,x1,y1){return function(line){var r,a=line.a,b=line.b,ax=a.x,ay=a.y,bx=b.x,by=b.y,t0=0,t1=1,dx=bx-ax,dy=by-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,0>dx){if(t0>r)return;t1>r&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(0>r)){if(r/=dx,0>dx){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(t0>r)return;t1>r&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,0>dy){if(t0>r)return;t1>r&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(0>r)){if(r/=dy,0>dy){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(t0>r)return;t1>r&&(t1=r)}return t0>0&&(line.a={x:ax+t0*dx,y:ay+t0*dy}),1>t1&&(line.b={x:ax+t1*dx,y:ay+t1*dy}),line}}}}}}function d3_geo_clipExtent(x0,y0,x1,y1){function corner(p,direction){return abs(p[0]-x0)<ε?direction>0?0:3:abs(p[0]-x1)<ε?direction>0?2:1:abs(p[1]-y0)<ε?direction>0?1:0:direction>0?3:2}function compare(a,b){return comparePoints(a.x,b.x)}function comparePoints(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(listener){function insidePolygon(p){for(var wn=0,n=polygon.length,y=p[1],i=0;n>i;++i)for(var b,j=1,v=polygon[i],m=v.length,a=v[0];m>j;++j)b=v[j],a[1]<=y?b[1]>y&&d3_cross2d(a,b,p)>0&&++wn:b[1]<=y&&d3_cross2d(a,b,p)<0&&--wn,a=b;return 0!==wn}function interpolate(from,to,direction,listener){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoints(from,to)<0^direction>0){do listener.point(0===a||3===a?x0:x1,a>1?y1:y0);while((a=(a+direction+4)%4)!==a1)}else listener.point(to[0],to[1])}function pointVisible(x,y){return x>=x0&&x1>=x&&y>=y0&&y1>=y}function point(x,y){pointVisible(x,y)&&listener.point(x,y)}function lineStart(){clip.point=linePoint,polygon&&polygon.push(ring=[]),first=!0,v_=!1,x_=y_=NaN}function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferListener.rejoin(),segments.push(bufferListener.buffer())),clip.point=point,v_&&listener.lineEnd()}function linePoint(x,y){x=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,x)),y=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,y));var v=pointVisible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(listener.lineStart(),listener.point(x,y));else if(v&&v_)listener.point(x,y);else{var l={a:{x:x_,y:y_},b:{x:x,y:y}};clipLine(l)?(v_||(listener.lineStart(),listener.point(l.a.x,l.a.y)),listener.point(l.b.x,l.b.y),v||listener.lineEnd(),clean=!1):v&&(listener.lineStart(),listener.point(x,y),clean=!1)}x_=x,y_=y,v_=v}var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,listener_=listener,bufferListener=d3_geo_clipBufferListener(),clipLine=d3_geom_clipLine(x0,y0,x1,y1),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){listener=bufferListener,segments=[],polygon=[],clean=!0},polygonEnd:function(){listener=listener_,segments=d3.merge(segments);var clipStartInside=insidePolygon([x0,y1]),inside=clean&&clipStartInside,visible=segments.length;(inside||visible)&&(listener.polygonStart(),inside&&(listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),visible&&d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener),listener.polygonEnd()),segments=polygon=ring=null}};return clip}}function d3_geo_conic(projectAt){var φ0=0,φ1=π/3,m=d3_geo_projectionMutator(projectAt),p=m(φ0,φ1);return p.parallels=function(_){return arguments.length?m(φ0=_[0]*π/180,φ1=_[1]*π/180):[φ0/π*180,φ1/π*180]},p}function d3_geo_conicEqualArea(φ0,φ1){function forward(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),ρ0-ρ*Math.cos(λ)]}var sinφ0=Math.sin(φ0),n=(sinφ0+Math.sin(φ1))/2,C=1+sinφ0*(2*n-sinφ0),ρ0=Math.sqrt(C)/n;return forward.invert=function(x,y){var ρ0_y=ρ0-y;return[Math.atan2(x,ρ0_y)/n,d3_asin((C-(x*x+ρ0_y*ρ0_y)*n*n)/(2*n))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(x,y){d3_geo_pathAreaPolygon+=y0*x-x0*y,x0=x,y0=y}var x00,y00,x0,y0;d3_geo_pathArea.point=function(x,y){d3_geo_pathArea.point=nextPoint,x00=x0=x,y00=y0=y},d3_geo_pathArea.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathBoundsPoint(x,y){d3_geo_pathBoundsX0>x&&(d3_geo_pathBoundsX0=x),x>d3_geo_pathBoundsX1&&(d3_geo_pathBoundsX1=x),d3_geo_pathBoundsY0>y&&(d3_geo_pathBoundsY0=y),y>d3_geo_pathBoundsY1&&(d3_geo_pathBoundsY1=y)}function d3_geo_pathBuffer(){function point(x,y){buffer.push("M",x,",",y,pointCircle)}function pointLineStart(x,y){buffer.push("M",x,",",y),stream.point=pointLine}function pointLine(x,y){buffer.push("L",x,",",y)}function lineEnd(){stream.point=point}function lineEndPolygon(){buffer.push("Z")}var pointCircle=d3_geo_pathBufferCircle(4.5),buffer=[],stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointCircle=d3_geo_pathBufferCircle(_),stream},result:function(){if(buffer.length){var result=buffer.join("");return buffer=[],result}}};return stream}function d3_geo_pathBufferCircle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function d3_geo_pathCentroidPoint(x,y){d3_geo_centroidX0+=x,d3_geo_centroidY0+=y,++d3_geo_centroidZ0}function d3_geo_pathCentroidLineStart(){function nextPoint(x,y){
var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x0=x,y0=y)}}function d3_geo_pathCentroidLineEnd(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,z=y0*x-x0*y,d3_geo_centroidX2+=z*(x0+x),d3_geo_centroidY2+=z*(y0+y),d3_geo_centroidZ2+=3*z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x00,y00,x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x00=x0=x,y00=y0=y)},d3_geo_pathCentroid.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathContext(context){function point(x,y){context.moveTo(x+pointRadius,y),context.arc(x,y,pointRadius,0,τ)}function pointLineStart(x,y){context.moveTo(x,y),stream.point=pointLine}function pointLine(x,y){context.lineTo(x,y)}function lineEnd(){stream.point=point}function lineEndPolygon(){context.closePath()}var pointRadius=4.5,stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointRadius=_,stream},result:d3_noop};return stream}function d3_geo_resample(project){function resample(stream){return(maxDepth?resampleRecursive:resampleNone)(stream)}function resampleNone(stream){return d3_geo_transformPoint(stream,function(x,y){x=project(x,y),stream.point(x[0],x[1])})}function resampleRecursive(stream){function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resample.point=linePoint,stream.lineStart()}function linePoint(λ,φ){var c=d3_geo_cartesian([λ,φ]),p=project(λ,φ);resampleLineTo(x0,y0,λ0,a0,b0,c0,x0=p[0],y0=p[1],λ0=λ,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resample.point=point,stream.lineEnd()}function ringStart(){lineStart(),resample.point=ringPoint,resample.lineEnd=ringEnd}function ringPoint(λ,φ){linePoint(λ00=λ,φ00=φ),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resample.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,λ0,a0,b0,c0,x00,y00,λ00,a00,b00,c00,maxDepth,stream),resample.lineEnd=lineEnd,lineEnd()}var λ00,φ00,x00,y00,a00,b00,c00,λ0,x0,y0,a0,b0,c0,resample={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resample.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resample.lineStart=lineStart}};return resample}function resampleLineTo(x0,y0,λ0,a0,b0,c0,x1,y1,λ1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*δ2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=Math.sqrt(a*a+b*b+c*c),φ2=Math.asin(c/=m),λ2=abs(abs(c)-1)<ε||abs(λ0-λ1)<ε?(λ0+λ1)/2:Math.atan2(b,a),p=project(λ2,φ2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>δ2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||cosMinDistance>a0*a1+b0*b1+c0*c1)&&(resampleLineTo(x0,y0,λ0,a0,b0,c0,x2,y2,λ2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,λ2,a,b,c,x1,y1,λ1,a1,b1,c1,depth,stream))}}var δ2=.5,cosMinDistance=Math.cos(30*d3_radians),maxDepth=16;return resample.precision=function(_){return arguments.length?(maxDepth=(δ2=_*_)>0&&16,resample):Math.sqrt(δ2)},resample}function d3_geo_pathProjectStream(project){var resample=d3_geo_resample(function(x,y){return project([x*d3_degrees,y*d3_degrees])});return function(stream){return d3_geo_projectionRadians(resample(stream))}}function d3_geo_transform(stream){this.stream=stream}function d3_geo_transformPoint(stream,point){return{point:point,sphere:function(){stream.sphere()},lineStart:function(){stream.lineStart()},lineEnd:function(){stream.lineEnd()},polygonStart:function(){stream.polygonStart()},polygonEnd:function(){stream.polygonEnd()}}}function d3_geo_projection(project){return d3_geo_projectionMutator(function(){return project})()}function d3_geo_projectionMutator(projectAt){function projection(point){return point=projectRotate(point[0]*d3_radians,point[1]*d3_radians),[point[0]*k+δx,δy-point[1]*k]}function invert(point){return point=projectRotate.invert((point[0]-δx)/k,(δy-point[1])/k),point&&[point[0]*d3_degrees,point[1]*d3_degrees]}function reset(){projectRotate=d3_geo_compose(rotate=d3_geo_rotation(δλ,δφ,δγ),project);var center=project(λ,φ);return δx=x-center[0]*k,δy=y+center[1]*k,invalidate()}function invalidate(){return stream&&(stream.valid=!1,stream=null),projection}var project,rotate,projectRotate,δx,δy,stream,projectResample=d3_geo_resample(function(x,y){return x=project(x,y),[x[0]*k+δx,δy-x[1]*k]}),k=150,x=480,y=250,λ=0,φ=0,δλ=0,δφ=0,δγ=0,preclip=d3_geo_clipAntimeridian,postclip=d3_identity,clipAngle=null,clipExtent=null;return projection.stream=function(output){return stream&&(stream.valid=!1),stream=d3_geo_projectionRadians(preclip(rotate,projectResample(postclip(output)))),stream.valid=!0,stream},projection.clipAngle=function(_){return arguments.length?(preclip=null==_?(clipAngle=_,d3_geo_clipAntimeridian):d3_geo_clipCircle((clipAngle=+_)*d3_radians),invalidate()):clipAngle},projection.clipExtent=function(_){return arguments.length?(clipExtent=_,postclip=_?d3_geo_clipExtent(_[0][0],_[0][1],_[1][0],_[1][1]):d3_identity,invalidate()):clipExtent},projection.scale=function(_){return arguments.length?(k=+_,reset()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],reset()):[x,y]},projection.center=function(_){return arguments.length?(λ=_[0]%360*d3_radians,φ=_[1]%360*d3_radians,reset()):[λ*d3_degrees,φ*d3_degrees]},projection.rotate=function(_){return arguments.length?(δλ=_[0]%360*d3_radians,δφ=_[1]%360*d3_radians,δγ=_.length>2?_[2]%360*d3_radians:0,reset()):[δλ*d3_degrees,δφ*d3_degrees,δγ*d3_degrees]},d3.rebind(projection,projectResample,"precision"),function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,reset()}}function d3_geo_projectionRadians(stream){return d3_geo_transformPoint(stream,function(x,y){stream.point(x*d3_radians,y*d3_radians)})}function d3_geo_equirectangular(λ,φ){return[λ,φ]}function d3_geo_identityRotation(λ,φ){return[λ>π?λ-τ:-π>λ?λ+τ:λ,φ]}function d3_geo_rotation(δλ,δφ,δγ){return δλ?δφ||δγ?d3_geo_compose(d3_geo_rotationλ(δλ),d3_geo_rotationφγ(δφ,δγ)):d3_geo_rotationλ(δλ):δφ||δγ?d3_geo_rotationφγ(δφ,δγ):d3_geo_identityRotation}function d3_geo_forwardRotationλ(δλ){return function(λ,φ){return λ+=δλ,[λ>π?λ-τ:-π>λ?λ+τ:λ,φ]}}function d3_geo_rotationλ(δλ){var rotation=d3_geo_forwardRotationλ(δλ);return rotation.invert=d3_geo_forwardRotationλ(-δλ),rotation}function d3_geo_rotationφγ(δφ,δγ){function rotation(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδφ+x*sinδφ;return[Math.atan2(y*cosδγ-k*sinδγ,x*cosδφ-z*sinδφ),d3_asin(k*cosδγ+y*sinδγ)]}var cosδφ=Math.cos(δφ),sinδφ=Math.sin(δφ),cosδγ=Math.cos(δγ),sinδγ=Math.sin(δγ);return rotation.invert=function(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδγ-y*sinδγ;return[Math.atan2(y*cosδγ+z*sinδγ,x*cosδφ+k*sinδφ),d3_asin(k*cosδφ-x*sinδφ)]},rotation}function d3_geo_circleInterpolate(radius,precision){var cr=Math.cos(radius),sr=Math.sin(radius);return function(from,to,direction,listener){var step=direction*precision;null!=from?(from=d3_geo_circleAngle(cr,from),to=d3_geo_circleAngle(cr,to),(direction>0?to>from:from>to)&&(from+=direction*τ)):(from=radius+direction*τ,to=radius-.5*step);for(var point,t=from;direction>0?t>to:to>t;t-=step)listener.point((point=d3_geo_spherical([cr,-sr*Math.cos(t),-sr*Math.sin(t)]))[0],point[1])}}function d3_geo_circleAngle(cr,point){var a=d3_geo_cartesian(point);a[0]-=cr,d3_geo_cartesianNormalize(a);var angle=d3_acos(-a[1]);return((-a[2]<0?-angle:angle)+2*Math.PI-ε)%(2*Math.PI)}function d3_geo_graticuleX(y0,y1,dy){var y=d3.range(y0,y1-ε,dy).concat(y1);return function(x){return y.map(function(y){return[x,y]})}}function d3_geo_graticuleY(x0,x1,dx){var x=d3.range(x0,x1-ε,dx).concat(x1);return function(y){return x.map(function(x){return[x,y]})}}function d3_source(d){return d.source}function d3_target(d){return d.target}function d3_geo_interpolate(x0,y0,x1,y1){var cy0=Math.cos(y0),sy0=Math.sin(y0),cy1=Math.cos(y1),sy1=Math.sin(y1),kx0=cy0*Math.cos(x0),ky0=cy0*Math.sin(x0),kx1=cy1*Math.cos(x1),ky1=cy1*Math.sin(x1),d=2*Math.asin(Math.sqrt(d3_haversin(y1-y0)+cy0*cy1*d3_haversin(x1-x0))),k=1/Math.sin(d),interpolate=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[Math.atan2(y,x)*d3_degrees,Math.atan2(z,Math.sqrt(x*x+y*y))*d3_degrees]}:function(){return[x0*d3_degrees,y0*d3_degrees]};return interpolate.distance=d,interpolate}function d3_geo_lengthLineStart(){function nextPoint(λ,φ){var sinφ=Math.sin(φ*=d3_radians),cosφ=Math.cos(φ),t=abs((λ*=d3_radians)-λ0),cosΔλ=Math.cos(t);d3_geo_lengthSum+=Math.atan2(Math.sqrt((t=cosφ*Math.sin(t))*t+(t=cosφ0*sinφ-sinφ0*cosφ*cosΔλ)*t),sinφ0*sinφ+cosφ0*cosφ*cosΔλ),λ0=λ,sinφ0=sinφ,cosφ0=cosφ}var λ0,sinφ0,cosφ0;d3_geo_length.point=function(λ,φ){λ0=λ*d3_radians,sinφ0=Math.sin(φ*=d3_radians),cosφ0=Math.cos(φ),d3_geo_length.point=nextPoint},d3_geo_length.lineEnd=function(){d3_geo_length.point=d3_geo_length.lineEnd=d3_noop}}function d3_geo_azimuthal(scale,angle){function azimuthal(λ,φ){var cosλ=Math.cos(λ),cosφ=Math.cos(φ),k=scale(cosλ*cosφ);return[k*cosφ*Math.sin(λ),k*Math.sin(φ)]}return azimuthal.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=angle(ρ),sinc=Math.sin(c),cosc=Math.cos(c);return[Math.atan2(x*sinc,ρ*cosc),Math.asin(ρ&&y*sinc/ρ)]},azimuthal}function d3_geo_conicConformal(φ0,φ1){function forward(λ,φ){F>0?-halfπ+ε>φ&&(φ=-halfπ+ε):φ>halfπ-ε&&(φ=halfπ-ε);var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)]}var cosφ0=Math.cos(φ0),t=function(φ){return Math.tan(π/4+φ/2)},n=φ0===φ1?Math.sin(φ0):Math.log(cosφ0/Math.cos(φ1))/Math.log(t(φ1)/t(φ0)),F=cosφ0*Math.pow(t(φ0),n)/n;return n?(forward.invert=function(x,y){var ρ0_y=F-y,ρ=d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y);return[Math.atan2(x,ρ0_y)/n,2*Math.atan(Math.pow(F/ρ,1/n))-halfπ]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(φ0,φ1){function forward(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)]}var cosφ0=Math.cos(φ0),n=φ0===φ1?Math.sin(φ0):(cosφ0-Math.cos(φ1))/(φ1-φ0),G=cosφ0/n+φ0;return abs(n)<ε?d3_geo_equirectangular:(forward.invert=function(x,y){var ρ0_y=G-y;return[Math.atan2(x,ρ0_y)/n,G-d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y)]},forward)}function d3_geo_mercator(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))]}function d3_geo_mercatorProjection(project){var clipAuto,m=d3_geo_projection(project),scale=m.scale,translate=m.translate,clipExtent=m.clipExtent;return m.scale=function(){var v=scale.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.translate=function(){var v=translate.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.clipExtent=function(_){var v=clipExtent.apply(m,arguments);if(v===m){if(clipAuto=null==_){var k=π*scale(),t=translate();clipExtent([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]])}}else clipAuto&&(v=null);return v},m.clipExtent(null)}function d3_geo_transverseMercator(λ,φ){return[Math.log(Math.tan(π/4+φ/2)),-λ]}function d3_geom_pointX(d){return d[0]}function d3_geom_pointY(d){return d[1]}function d3_geom_hullUpper(points){for(var n=points.length,hull=[0,1],hs=2,i=2;n>i;i++){for(;hs>1&&d3_cross2d(points[hull[hs-2]],points[hull[hs-1]],points[i])<=0;)--hs;hull[hs++]=i}return hull.slice(0,hs)}function d3_geom_hullOrder(a,b){return a[0]-b[0]||a[1]-b[1]}function d3_geom_polygonInside(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function d3_geom_polygonIntersect(c,d,a,b){var x1=c[0],x3=a[0],x21=d[0]-x1,x43=b[0]-x3,y1=c[1],y3=a[1],y21=d[1]-y1,y43=b[1]-y3,ua=(x43*(y1-y3)-y43*(x1-x3))/(y43*x21-x43*y21);return[x1+ua*x21,y1+ua*y21]}function d3_geom_polygonClosed(coordinates){var a=coordinates[0],b=coordinates[coordinates.length-1];return!(a[0]-b[0]||a[1]-b[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(site){var beach=d3_geom_voronoiBeachPool.pop()||new d3_geom_voronoiBeach;return beach.site=site,beach}function d3_geom_voronoiDetachBeach(beach){d3_geom_voronoiDetachCircle(beach),d3_geom_voronoiBeaches.remove(beach),d3_geom_voronoiBeachPool.push(beach),d3_geom_voronoiRedBlackNode(beach)}function d3_geom_voronoiRemoveBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex={x:x,y:y},previous=beach.P,next=beach.N,disappearing=[beach];d3_geom_voronoiDetachBeach(beach);for(var lArc=previous;lArc.circle&&abs(x-lArc.circle.x)<ε&&abs(y-lArc.circle.cy)<ε;)previous=lArc.P,disappearing.unshift(lArc),d3_geom_voronoiDetachBeach(lArc),lArc=previous;disappearing.unshift(lArc),d3_geom_voronoiDetachCircle(lArc);for(var rArc=next;rArc.circle&&abs(x-rArc.circle.x)<ε&&abs(y-rArc.circle.cy)<ε;)next=rArc.N,disappearing.push(rArc),d3_geom_voronoiDetachBeach(rArc),rArc=next;disappearing.push(rArc),d3_geom_voronoiDetachCircle(rArc);var iArc,nArcs=disappearing.length;for(iArc=1;nArcs>iArc;++iArc)rArc=disappearing[iArc],lArc=disappearing[iArc-1],d3_geom_voronoiSetEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex);lArc=disappearing[0],rArc=disappearing[nArcs-1],rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,rArc.site,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiAddBeach(site){for(var lArc,rArc,dxl,dxr,x=site.x,directrix=site.y,node=d3_geom_voronoiBeaches._;node;)if(dxl=d3_geom_voronoiLeftBreakPoint(node,directrix)-x,dxl>ε)node=node.L;else{if(dxr=x-d3_geom_voronoiRightBreakPoint(node,directrix),!(dxr>ε)){dxl>-ε?(lArc=node.P,rArc=node):dxr>-ε?(lArc=node,rArc=node.N):lArc=rArc=node;break}if(!node.R){lArc=node;break}node=node.R}var newArc=d3_geom_voronoiCreateBeach(site);if(d3_geom_voronoiBeaches.insert(lArc,newArc),lArc||rArc){if(lArc===rArc)return d3_geom_voronoiDetachCircle(lArc),rArc=d3_geom_voronoiCreateBeach(lArc.site),d3_geom_voronoiBeaches.insert(newArc,rArc),newArc.edge=rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site),d3_geom_voronoiAttachCircle(lArc),void d3_geom_voronoiAttachCircle(rArc);if(!rArc)return void(newArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site));d3_geom_voronoiDetachCircle(lArc),d3_geom_voronoiDetachCircle(rArc);var lSite=lArc.site,ax=lSite.x,ay=lSite.y,bx=site.x-ax,by=site.y-ay,rSite=rArc.site,cx=rSite.x-ax,cy=rSite.y-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex={x:(cy*hb-by*hc)/d+ax,y:(bx*hc-cx*hb)/d+ay};d3_geom_voronoiSetEdgeEnd(rArc.edge,lSite,rSite,vertex),newArc.edge=d3_geom_voronoiCreateEdge(lSite,site,null,vertex),rArc.edge=d3_geom_voronoiCreateEdge(site,rSite,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}}function d3_geom_voronoiLeftBreakPoint(arc,directrix){var site=arc.site,rfocx=site.x,rfocy=site.y,pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-(1/0);site=lArc.site;var lfocx=site.x,lfocy=site.y,plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;return aby2?(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx:(rfocx+lfocx)/2}function d3_geom_voronoiRightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return d3_geom_voronoiLeftBreakPoint(rArc,directrix);var site=arc.site;return site.y===directrix?site.x:1/0}function d3_geom_voronoiCell(site){this.site=site,this.edges=[]}function d3_geom_voronoiCloseCells(extent){for(var x2,y2,x3,y3,cell,iHalfEdge,halfEdges,nHalfEdges,start,end,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],cells=d3_geom_voronoiCells,iCell=cells.length;iCell--;)if(cell=cells[iCell],cell&&cell.prepare())for(halfEdges=cell.edges,nHalfEdges=halfEdges.length,iHalfEdge=0;nHalfEdges>iHalfEdge;)end=halfEdges[iHalfEdge].end(),x3=end.x,y3=end.y,start=halfEdges[++iHalfEdge%nHalfEdges].start(),x2=start.x,y2=start.y,(abs(x3-x2)>ε||abs(y3-y2)>ε)&&(halfEdges.splice(iHalfEdge,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site,end,abs(x3-x0)<ε&&y1-y3>ε?{x:x0,y:abs(x2-x0)<ε?y2:y1}:abs(y3-y1)<ε&&x1-x3>ε?{x:abs(y2-y1)<ε?x2:x1,y:y1}:abs(x3-x1)<ε&&y3-y0>ε?{x:x1,y:abs(x2-x1)<ε?y2:y0}:abs(y3-y0)<ε&&x3-x0>ε?{x:abs(y2-y0)<ε?x2:x0,y:y0}:null),cell.site,null)),++nHalfEdges)}function d3_geom_voronoiHalfEdgeOrder(a,b){return b.angle-a.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(arc){var lArc=arc.P,rArc=arc.N;if(lArc&&rArc){var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite!==rSite){var bx=cSite.x,by=cSite.y,ax=lSite.x-bx,ay=lSite.y-by,cx=rSite.x-bx,cy=rSite.y-by,d=2*(ax*cy-ay*cx);if(!(d>=-ε2)){var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,cy=y+by,circle=d3_geom_voronoiCirclePool.pop()||new d3_geom_voronoiCircle;circle.arc=arc,circle.site=cSite,circle.x=x+bx,circle.y=cy+Math.sqrt(x*x+y*y),circle.cy=cy,arc.circle=circle;for(var before=null,node=d3_geom_voronoiCircles._;node;)if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(!node.L){before=node.P;break}node=node.L}else{if(!node.R){before=node;break}node=node.R}d3_geom_voronoiCircles.insert(before,circle),before||(d3_geom_voronoiFirstCircle=circle)}}}}function d3_geom_voronoiDetachCircle(arc){var circle=arc.circle;circle&&(circle.P||(d3_geom_voronoiFirstCircle=circle.N),d3_geom_voronoiCircles.remove(circle),d3_geom_voronoiCirclePool.push(circle),d3_geom_voronoiRedBlackNode(circle),arc.circle=null)}function d3_geom_voronoiClipEdges(extent){for(var e,edges=d3_geom_voronoiEdges,clip=d3_geom_clipLine(extent[0][0],extent[0][1],extent[1][0],extent[1][1]),i=edges.length;i--;)e=edges[i],(!d3_geom_voronoiConnectEdge(e,extent)||!clip(e)||abs(e.a.x-e.b.x)<ε&&abs(e.a.y-e.b.y)<ε)&&(e.a=e.b=null,edges.splice(i,1))}function d3_geom_voronoiConnectEdge(edge,extent){var vb=edge.b;if(vb)return!0;var fm,fb,va=edge.a,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],lSite=edge.l,rSite=edge.r,lx=lSite.x,ly=lSite.y,rx=rSite.x,ry=rSite.y,fx=(lx+rx)/2,fy=(ly+ry)/2;if(ry===ly){if(x0>fx||fx>=x1)return;if(lx>rx){if(va){if(va.y>=y1)return}else va={x:fx,y:y0};vb={x:fx,y:y1}}else{if(va){if(va.y<y0)return}else va={x:fx,y:y1};vb={x:fx,y:y0}}}else if(fm=(lx-rx)/(ry-ly),fb=fy-fm*fx,-1>fm||fm>1)if(lx>rx){if(va){if(va.y>=y1)return}else va={x:(y0-fb)/fm,y:y0};vb={x:(y1-fb)/fm,y:y1}}else{if(va){if(va.y<y0)return}else va={x:(y1-fb)/fm,y:y1};vb={x:(y0-fb)/fm,y:y0}}else if(ry>ly){if(va){if(va.x>=x1)return}else va={x:x0,y:fm*x0+fb};vb={x:x1,y:fm*x1+fb}}else{if(va){if(va.x<x0)return}else va={x:x1,y:fm*x1+fb};vb={x:x0,y:fm*x0+fb}}return edge.a=va,edge.b=vb,!0}function d3_geom_voronoiEdge(lSite,rSite){this.l=lSite,this.r=rSite,this.a=this.b=null}function d3_geom_voronoiCreateEdge(lSite,rSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,rSite);return d3_geom_voronoiEdges.push(edge),va&&d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,va),vb&&d3_geom_voronoiSetEdgeEnd(edge,rSite,lSite,vb),d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,lSite,rSite)),d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,rSite,lSite)),edge}function d3_geom_voronoiCreateBorderEdge(lSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,null);return edge.a=va,edge.b=vb,d3_geom_voronoiEdges.push(edge),edge}function d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,vertex){edge.a||edge.b?edge.l===rSite?edge.b=vertex:edge.a=vertex:(edge.a=vertex,edge.l=lSite,edge.r=rSite)}function d3_geom_voronoiHalfEdge(edge,lSite,rSite){var va=edge.a,vb=edge.b;this.edge=edge,this.site=lSite,this.angle=rSite?Math.atan2(rSite.y-lSite.y,rSite.x-lSite.x):edge.l===lSite?Math.atan2(vb.x-va.x,va.y-vb.y):Math.atan2(va.x-vb.x,vb.y-va.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}function d3_geom_voronoiRedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function d3_geom_voronoiRedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function d3_geom_voronoiRedBlackFirst(node){for(;node.L;)node=node.L;return node}function d3_geom_voronoi(sites,bbox){var x0,y0,circle,site=sites.sort(d3_geom_voronoiVertexOrder).pop();for(d3_geom_voronoiEdges=[],d3_geom_voronoiCells=new Array(sites.length),d3_geom_voronoiBeaches=new d3_geom_voronoiRedBlackTree,d3_geom_voronoiCircles=new d3_geom_voronoiRedBlackTree;;)if(circle=d3_geom_voronoiFirstCircle,site&&(!circle||site.y<circle.y||site.y===circle.y&&site.x<circle.x))(site.x!==x0||site.y!==y0)&&(d3_geom_voronoiCells[site.i]=new d3_geom_voronoiCell(site),d3_geom_voronoiAddBeach(site),x0=site.x,y0=site.y),site=sites.pop();else{if(!circle)break;d3_geom_voronoiRemoveBeach(circle.arc)}bbox&&(d3_geom_voronoiClipEdges(bbox),d3_geom_voronoiCloseCells(bbox));var diagram={cells:d3_geom_voronoiCells,edges:d3_geom_voronoiEdges};return d3_geom_voronoiBeaches=d3_geom_voronoiCircles=d3_geom_voronoiEdges=d3_geom_voronoiCells=null,diagram}function d3_geom_voronoiVertexOrder(a,b){return b.y-a.y||b.x-a.x}function d3_geom_voronoiTriangleArea(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function d3_geom_quadtreeCompatX(d){return d.x}function d3_geom_quadtreeCompatY(d){return d.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(f,node,x1,y1,x2,y2){if(!f(node,x1,y1,x2,y2)){var sx=.5*(x1+x2),sy=.5*(y1+y2),children=node.nodes;children[0]&&d3_geom_quadtreeVisit(f,children[0],x1,y1,sx,sy),children[1]&&d3_geom_quadtreeVisit(f,children[1],sx,y1,x2,sy),children[2]&&d3_geom_quadtreeVisit(f,children[2],x1,sy,sx,y2),children[3]&&d3_geom_quadtreeVisit(f,children[3],sx,sy,x2,y2)}}function d3_geom_quadtreeFind(root,x,y,x0,y0,x3,y3){var closestPoint,minDistance2=1/0;return function find(node,x1,y1,x2,y2){if(!(x1>x3||y1>y3||x0>x2||y0>y2)){if(point=node.point){var point,dx=x-node.x,dy=y-node.y,distance2=dx*dx+dy*dy;if(minDistance2>distance2){var distance=Math.sqrt(minDistance2=distance2);x0=x-distance,y0=y-distance,x3=x+distance,y3=y+distance,closestPoint=point}}for(var children=node.nodes,xm=.5*(x1+x2),ym=.5*(y1+y2),right=x>=xm,below=y>=ym,i=below<<1|right,j=i+4;j>i;++i)if(node=children[3&i])switch(3&i){case 0:find(node,x1,y1,xm,ym);break;case 1:find(node,xm,y1,x2,ym);break;case 2:find(node,x1,ym,xm,y2);break;case 3:find(node,xm,ym,x2,y2)}}}(root,x0,y0,x3,y3),closestPoint}function d3_interpolateRgb(a,b){a=d3.rgb(a),b=d3.rgb(b);var ar=a.r,ag=a.g,ab=a.b,br=b.r-ar,bg=b.g-ag,bb=b.b-ab;return function(t){return"#"+d3_rgb_hex(Math.round(ar+br*t))+d3_rgb_hex(Math.round(ag+bg*t))+d3_rgb_hex(Math.round(ab+bb*t))}}function d3_interpolateObject(a,b){var k,i={},c={};for(k in a)k in b?i[k]=d3_interpolate(a[k],b[k]):c[k]=a[k];for(k in b)k in a||(c[k]=b[k]);return function(t){for(k in i)c[k]=i[k](t);return c}}function d3_interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function d3_interpolateString(a,b){var am,bm,bs,bi=d3_interpolate_numberA.lastIndex=d3_interpolate_numberB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=d3_interpolate_numberA.exec(a))&&(bm=d3_interpolate_numberB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:d3_interpolateNumber(am,bm)})),bi=d3_interpolate_numberB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var o,i=0;b>i;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function d3_interpolate(a,b){for(var f,i=d3.interpolators.length;--i>=0&&!(f=d3.interpolators[i](a,b)););return f}function d3_interpolateArray(a,b){var i,x=[],c=[],na=a.length,nb=b.length,n0=Math.min(a.length,b.length);for(i=0;n0>i;++i)x.push(d3_interpolate(a[i],b[i]));for(;na>i;++i)c[i]=a[i];for(;nb>i;++i)c[i]=b[i];return function(t){for(i=0;n0>i;++i)c[i]=x[i](t);return c}}function d3_ease_clamp(f){return function(t){return 0>=t?0:t>=1?1:f(t)}}function d3_ease_reverse(f){return function(t){return 1-f(1-t)}}function d3_ease_reflect(f){return function(t){return.5*(.5>t?f(2*t):2-f(2-2*t))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(0>=t)return 0;if(t>=1)return 1;var t2=t*t,t3=t2*t;return 4*(.5>t?t3:3*(t-t2)+t3-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(t){return 1-Math.cos(t*halfπ)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(a,p){var s;return arguments.length<2&&(p=.45),arguments.length?s=p/τ*Math.asin(1/a):(a=1,s=p/4),function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p)}}function d3_ease_back(s){return s||(s=1.70158),function(t){return t*t*((s+1)*t-s)}}function d3_ease_bounce(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function d3_interpolateHcl(a,b){a=d3.hcl(a),b=d3.hcl(b);var ah=a.h,ac=a.c,al=a.l,bh=b.h-ah,bc=b.c-ac,bl=b.l-al;return isNaN(bc)&&(bc=0,ac=isNaN(ac)?b.c:ac),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:-180>bh&&(bh+=360),function(t){return d3_hcl_lab(ah+bh*t,ac+bc*t,al+bl*t)+""}}function d3_interpolateHsl(a,b){a=d3.hsl(a),b=d3.hsl(b);var ah=a.h,as=a.s,al=a.l,bh=b.h-ah,bs=b.s-as,bl=b.l-al;return isNaN(bs)&&(bs=0,as=isNaN(as)?b.s:as),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:-180>bh&&(bh+=360),function(t){return d3_hsl_rgb(ah+bh*t,as+bs*t,al+bl*t)+""}}function d3_interpolateLab(a,b){a=d3.lab(a),b=d3.lab(b);var al=a.l,aa=a.a,ab=a.b,bl=b.l-al,ba=b.a-aa,bb=b.b-ab;return function(t){return d3_lab_rgb(al+bl*t,aa+ba*t,ab+bb*t)+""}}function d3_interpolateRound(a,b){return b-=a,function(t){return Math.round(a+b*t)}}function d3_transform(m){var r0=[m.a,m.b],r1=[m.c,m.d],kx=d3_transformNormalize(r0),kz=d3_transformDot(r0,r1),ky=d3_transformNormalize(d3_transformCombine(r1,r0,-kz))||0;r0[0]*r1[1]<r1[0]*r0[1]&&(r0[0]*=-1,r0[1]*=-1,kx*=-1,kz*=-1),this.rotate=(kx?Math.atan2(r0[1],r0[0]):Math.atan2(-r1[0],r1[1]))*d3_degrees,this.translate=[m.e,m.f],this.scale=[kx,ky],this.skew=ky?Math.atan2(kz,ky)*d3_degrees:0}function d3_transformDot(a,b){return a[0]*b[0]+a[1]*b[1]}function d3_transformNormalize(a){var k=Math.sqrt(d3_transformDot(a,a));return k&&(a[0]/=k,a[1]/=k),k}function d3_transformCombine(a,b,k){return a[0]+=k*b[0],a[1]+=k*b[1],a}function d3_interpolateTransform(a,b){var n,s=[],q=[],A=d3.transform(a),B=d3.transform(b),ta=A.translate,tb=B.translate,ra=A.rotate,rb=B.rotate,wa=A.skew,wb=B.skew,ka=A.scale,kb=B.scale;return ta[0]!=tb[0]||ta[1]!=tb[1]?(s.push("translate(",null,",",null,")"),q.push({i:1,x:d3_interpolateNumber(ta[0],tb[0])},{i:3,x:d3_interpolateNumber(ta[1],tb[1])})):tb[0]||tb[1]?s.push("translate("+tb+")"):s.push(""),ra!=rb?(ra-rb>180?rb+=360:rb-ra>180&&(ra+=360),q.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:d3_interpolateNumber(ra,rb)})):rb&&s.push(s.pop()+"rotate("+rb+")"),wa!=wb?q.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:d3_interpolateNumber(wa,wb)}):wb&&s.push(s.pop()+"skewX("+wb+")"),ka[0]!=kb[0]||ka[1]!=kb[1]?(n=s.push(s.pop()+"scale(",null,",",null,")"),q.push({i:n-4,x:d3_interpolateNumber(ka[0],kb[0])},{i:n-2,x:d3_interpolateNumber(ka[1],kb[1])})):(1!=kb[0]||1!=kb[1])&&s.push(s.pop()+"scale("+kb+")"),n=q.length,function(t){for(var o,i=-1;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}function d3_uninterpolateNumber(a,b){return b=(b-=a=+a)||1/b,function(x){return(x-a)/b}}function d3_uninterpolateClamp(a,b){return b=(b-=a=+a)||1/b,function(x){return Math.max(0,Math.min(1,(x-a)/b))}}function d3_layout_bundlePath(link){for(var start=link.source,end=link.target,lca=d3_layout_bundleLeastCommonAncestor(start,end),points=[start];start!==lca;)start=start.parent,points.push(start);for(var k=points.length;end!==lca;)points.splice(k,0,end),end=end.parent;return points}function d3_layout_bundleAncestors(node){for(var ancestors=[],parent=node.parent;null!=parent;)ancestors.push(node),node=parent,parent=parent.parent;return ancestors.push(node),ancestors}function d3_layout_bundleLeastCommonAncestor(a,b){if(a===b)return a;for(var aNodes=d3_layout_bundleAncestors(a),bNodes=d3_layout_bundleAncestors(b),aNode=aNodes.pop(),bNode=bNodes.pop(),sharedNode=null;aNode===bNode;)sharedNode=aNode,aNode=aNodes.pop(),bNode=bNodes.pop();return sharedNode}function d3_layout_forceDragstart(d){d.fixed|=2}function d3_layout_forceDragend(d){d.fixed&=-7}function d3_layout_forceMouseover(d){d.fixed|=4,d.px=d.x,d.py=d.y}function d3_layout_forceMouseout(d){d.fixed&=-5}function d3_layout_forceAccumulate(quad,alpha,charges){var cx=0,cy=0;if(quad.charge=0,!quad.leaf)for(var c,nodes=quad.nodes,n=nodes.length,i=-1;++i<n;)c=nodes[i],null!=c&&(d3_layout_forceAccumulate(c,alpha,charges),quad.charge+=c.charge,cx+=c.charge*c.cx,cy+=c.charge*c.cy);if(quad.point){quad.leaf||(quad.point.x+=Math.random()-.5,quad.point.y+=Math.random()-.5);var k=alpha*charges[quad.point.index];quad.charge+=quad.pointCharge=k,cx+=k*quad.point.x,cy+=k*quad.point.y}quad.cx=cx/quad.charge,quad.cy=cy/quad.charge}function d3_layout_hierarchyRebind(object,hierarchy){return d3.rebind(object,hierarchy,"sort","children","value"),object.nodes=object,object.links=d3_layout_hierarchyLinks,object}function d3_layout_hierarchyVisitBefore(node,callback){for(var nodes=[node];null!=(node=nodes.pop());)if(callback(node),(children=node.children)&&(n=children.length))for(var n,children;--n>=0;)nodes.push(children[n])}function d3_layout_hierarchyVisitAfter(node,callback){for(var nodes=[node],nodes2=[];null!=(node=nodes.pop());)if(nodes2.push(node),(children=node.children)&&(n=children.length))for(var n,children,i=-1;++i<n;)nodes.push(children[i]);for(;null!=(node=nodes2.pop());)callback(node)}function d3_layout_hierarchyChildren(d){return d.children}function d3_layout_hierarchyValue(d){return d.value}function d3_layout_hierarchySort(a,b){return b.value-a.value}function d3_layout_hierarchyLinks(nodes){return d3.merge(nodes.map(function(parent){return(parent.children||[]).map(function(child){return{source:parent,target:child}})}))}function d3_layout_stackX(d){return d.x}function d3_layout_stackY(d){return d.y}function d3_layout_stackOut(d,y0,y){d.y0=y0,d.y=y}function d3_layout_stackOrderDefault(data){return d3.range(data.length)}function d3_layout_stackOffsetZero(data){for(var j=-1,m=data[0].length,y0=[];++j<m;)y0[j]=0;return y0}function d3_layout_stackMaxIndex(array){for(var k,i=1,j=0,v=array[0][1],n=array.length;n>i;++i)(k=array[i][1])>v&&(j=i,v=k);return j}function d3_layout_stackReduceSum(d){return d.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(p,d){return p+d[1]}function d3_layout_histogramBinSturges(range,values){return d3_layout_histogramBinFixed(range,Math.ceil(Math.log(values.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(range,n){for(var x=-1,b=+range[0],m=(range[1]-b)/n,f=[];++x<=n;)f[x]=m*x+b;return f}function d3_layout_histogramRange(values){return[d3.min(values),d3.max(values)]}function d3_layout_packSort(a,b){return a.value-b.value}function d3_layout_packInsert(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function d3_layout_packSplice(a,b){a._pack_next=b,b._pack_prev=a}function d3_layout_packIntersects(a,b){var dx=b.x-a.x,dy=b.y-a.y,dr=a.r+b.r;return.999*dr*dr>dx*dx+dy*dy}function d3_layout_packSiblings(node){function bound(node){xMin=Math.min(node.x-node.r,xMin),xMax=Math.max(node.x+node.r,xMax),yMin=Math.min(node.y-node.r,yMin),
yMax=Math.max(node.y+node.r,yMax)}if((nodes=node.children)&&(n=nodes.length)){var nodes,a,b,c,i,j,k,n,xMin=1/0,xMax=-(1/0),yMin=1/0,yMax=-(1/0);if(nodes.forEach(d3_layout_packLink),a=nodes[0],a.x=-a.r,a.y=0,bound(a),n>1&&(b=nodes[1],b.x=b.r,b.y=0,bound(b),n>2))for(c=nodes[2],d3_layout_packPlace(a,b,c),bound(c),d3_layout_packInsert(a,c),a._pack_prev=c,d3_layout_packInsert(c,b),b=a._pack_next,i=3;n>i;i++){d3_layout_packPlace(a,b,c=nodes[i]);var isect=0,s1=1,s2=1;for(j=b._pack_next;j!==b;j=j._pack_next,s1++)if(d3_layout_packIntersects(j,c)){isect=1;break}if(1==isect)for(k=a._pack_prev;k!==j._pack_prev&&!d3_layout_packIntersects(k,c);k=k._pack_prev,s2++);isect?(s2>s1||s1==s2&&b.r<a.r?d3_layout_packSplice(a,b=j):d3_layout_packSplice(a=k,b),i--):(d3_layout_packInsert(a,c),b=c,bound(c))}var cx=(xMin+xMax)/2,cy=(yMin+yMax)/2,cr=0;for(i=0;n>i;i++)c=nodes[i],c.x-=cx,c.y-=cy,cr=Math.max(cr,c.r+Math.sqrt(c.x*c.x+c.y*c.y));node.r=cr,nodes.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(node){node._pack_next=node._pack_prev=node}function d3_layout_packUnlink(node){delete node._pack_next,delete node._pack_prev}function d3_layout_packTransform(node,x,y,k){var children=node.children;if(node.x=x+=k*node.x,node.y=y+=k*node.y,node.r*=k,children)for(var i=-1,n=children.length;++i<n;)d3_layout_packTransform(children[i],x,y,k)}function d3_layout_packPlace(a,b,c){var db=a.r+c.r,dx=b.x-a.x,dy=b.y-a.y;if(db&&(dx||dy)){var da=b.r+c.r,dc=dx*dx+dy*dy;da*=da,db*=db;var x=.5+(db-da)/(2*dc),y=Math.sqrt(Math.max(0,2*da*(db+dc)-(db-=dc)*db-da*da))/(2*dc);c.x=a.x+x*dx+y*dy,c.y=a.y+x*dy-y*dx}else c.x=a.x+db,c.y=a.y}function d3_layout_treeSeparation(a,b){return a.parent==b.parent?1:2}function d3_layout_treeLeft(v){var children=v.children;return children.length?children[0]:v.t}function d3_layout_treeRight(v){var n,children=v.children;return(n=children.length)?children[n-1]:v.t}function d3_layout_treeMove(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change,wp.s+=shift,wm.c+=change,wp.z+=shift,wp.m+=shift}function d3_layout_treeShift(v){for(var w,shift=0,change=0,children=v.children,i=children.length;--i>=0;)w=children[i],w.z+=shift,w.m+=shift,shift+=w.s+(change+=w.c)}function d3_layout_treeAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function d3_layout_clusterY(children){return 1+d3.max(children,function(child){return child.y})}function d3_layout_clusterX(children){return children.reduce(function(x,child){return x+child.x},0)/children.length}function d3_layout_clusterLeft(node){var children=node.children;return children&&children.length?d3_layout_clusterLeft(children[0]):node}function d3_layout_clusterRight(node){var n,children=node.children;return children&&(n=children.length)?d3_layout_clusterRight(children[n-1]):node}function d3_layout_treemapPadNull(node){return{x:node.x,y:node.y,dx:node.dx,dy:node.dy}}function d3_layout_treemapPad(node,padding){var x=node.x+padding[3],y=node.y+padding[0],dx=node.dx-padding[1]-padding[3],dy=node.dy-padding[0]-padding[2];return 0>dx&&(x+=dx/2,dx=0),0>dy&&(y+=dy/2,dy=0),{x:x,y:y,dx:dx,dy:dy}}function d3_scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return stop>start?[start,stop]:[stop,start]}function d3_scaleRange(scale){return scale.rangeExtent?scale.rangeExtent():d3_scaleExtent(scale.range())}function d3_scale_bilinear(domain,range,uninterpolate,interpolate){var u=uninterpolate(domain[0],domain[1]),i=interpolate(range[0],range[1]);return function(x){return i(u(x))}}function d3_scale_nice(domain,nice){var dx,i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1];return x0>x1&&(dx=i0,i0=i1,i1=dx,dx=x0,x0=x1,x1=dx),domain[i0]=nice.floor(x0),domain[i1]=nice.ceil(x1),domain}function d3_scale_niceStep(step){return step?{floor:function(x){return Math.floor(x/step)*step},ceil:function(x){return Math.ceil(x/step)*step}}:d3_scale_niceIdentity}function d3_scale_polylinear(domain,range,uninterpolate,interpolate){var u=[],i=[],j=0,k=Math.min(domain.length,range.length)-1;for(domain[k]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++j<=k;)u.push(uninterpolate(domain[j-1],domain[j])),i.push(interpolate(range[j-1],range[j]));return function(x){var j=d3.bisect(domain,x,1,k)-1;return i[j](u[j](x))}}function d3_scale_linear(domain,range,interpolate,clamp){function rescale(){var linear=Math.min(domain.length,range.length)>2?d3_scale_polylinear:d3_scale_bilinear,uninterpolate=clamp?d3_uninterpolateClamp:d3_uninterpolateNumber;return output=linear(domain,range,uninterpolate,interpolate),input=linear(range,domain,uninterpolate,d3_interpolate),scale}function scale(x){return output(x)}var output,input;return scale.invert=function(y){return input(y)},scale.domain=function(x){return arguments.length?(domain=x.map(Number),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.rangeRound=function(x){return scale.range(x).interpolate(d3_interpolateRound)},scale.clamp=function(x){return arguments.length?(clamp=x,rescale()):clamp},scale.interpolate=function(x){return arguments.length?(interpolate=x,rescale()):interpolate},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return d3_scale_linearNice(domain,m),rescale()},scale.copy=function(){return d3_scale_linear(domain,range,interpolate,clamp)},rescale()}function d3_scale_linearRebind(scale,linear){return d3.rebind(scale,linear,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(domain,m){return d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2]))}function d3_scale_linearTickRange(domain,m){null==m&&(m=10);var extent=d3_scaleExtent(domain),span=extent[1]-extent[0],step=Math.pow(10,Math.floor(Math.log(span/m)/Math.LN10)),err=m/span*step;return.15>=err?step*=10:.35>=err?step*=5:.75>=err&&(step*=2),extent[0]=Math.ceil(extent[0]/step)*step,extent[1]=Math.floor(extent[1]/step)*step+.5*step,extent[2]=step,extent}function d3_scale_linearTicks(domain,m){return d3.range.apply(d3,d3_scale_linearTickRange(domain,m))}function d3_scale_linearTickFormat(domain,m,format){var range=d3_scale_linearTickRange(domain,m);if(format){var match=d3_format_re.exec(format);if(match.shift(),"s"===match[8]){var prefix=d3.formatPrefix(Math.max(abs(range[0]),abs(range[1])));return match[7]||(match[7]="."+d3_scale_linearPrecision(prefix.scale(range[2]))),match[8]="f",format=d3.format(match.join("")),function(d){return format(prefix.scale(d))+prefix.symbol}}match[7]||(match[7]="."+d3_scale_linearFormatPrecision(match[8],range)),format=match.join("")}else format=",."+d3_scale_linearPrecision(range[2])+"f";return d3.format(format)}function d3_scale_linearPrecision(value){return-Math.floor(Math.log(value)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(type,range){var p=d3_scale_linearPrecision(range[2]);return type in d3_scale_linearFormatSignificant?Math.abs(p-d3_scale_linearPrecision(Math.max(abs(range[0]),abs(range[1]))))+ +("e"!==type):p-2*("%"===type)}function d3_scale_log(linear,base,positive,domain){function log(x){return(positive?Math.log(0>x?0:x):-Math.log(x>0?0:-x))/Math.log(base)}function pow(x){return positive?Math.pow(base,x):-Math.pow(base,-x)}function scale(x){return linear(log(x))}return scale.invert=function(x){return pow(linear.invert(x))},scale.domain=function(x){return arguments.length?(positive=x[0]>=0,linear.domain((domain=x.map(Number)).map(log)),scale):domain},scale.base=function(_){return arguments.length?(base=+_,linear.domain(domain.map(log)),scale):base},scale.nice=function(){var niced=d3_scale_nice(domain.map(log),positive?Math:d3_scale_logNiceNegative);return linear.domain(niced),domain=niced.map(pow),scale},scale.ticks=function(){var extent=d3_scaleExtent(domain),ticks=[],u=extent[0],v=extent[1],i=Math.floor(log(u)),j=Math.ceil(log(v)),n=base%1?2:base;if(isFinite(j-i)){if(positive){for(;j>i;i++)for(var k=1;n>k;k++)ticks.push(pow(i)*k);ticks.push(pow(i))}else for(ticks.push(pow(i));i++<j;)for(var k=n-1;k>0;k--)ticks.push(pow(i)*k);for(i=0;ticks[i]<u;i++);for(j=ticks.length;ticks[j-1]>v;j--);ticks=ticks.slice(i,j)}return ticks},scale.tickFormat=function(n,format){if(!arguments.length)return d3_scale_logFormat;arguments.length<2?format=d3_scale_logFormat:"function"!=typeof format&&(format=d3.format(format));var e,k=Math.max(.1,n/scale.ticks().length),f=positive?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor);return function(d){return d/pow(f(log(d)+e))<=k?format(d):""}},scale.copy=function(){return d3_scale_log(linear.copy(),base,positive,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_pow(linear,exponent,domain){function scale(x){return linear(powp(x))}var powp=d3_scale_powPow(exponent),powb=d3_scale_powPow(1/exponent);return scale.invert=function(x){return powb(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain((domain=x.map(Number)).map(powp)),scale):domain},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return scale.domain(d3_scale_linearNice(domain,m))},scale.exponent=function(x){return arguments.length?(powp=d3_scale_powPow(exponent=x),powb=d3_scale_powPow(1/exponent),linear.domain(domain.map(powp)),scale):exponent},scale.copy=function(){return d3_scale_pow(linear.copy(),exponent,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_powPow(e){return function(x){return 0>x?-Math.pow(-x,e):Math.pow(x,e)}}function d3_scale_ordinal(domain,ranger){function scale(x){return range[((index.get(x)||("range"===ranger.t?index.set(x,domain.push(x)):NaN))-1)%range.length]}function steps(start,step){return d3.range(domain.length).map(function(i){return start+step*i})}var index,range,rangeBand;return scale.domain=function(x){if(!arguments.length)return domain;domain=[],index=new d3_Map;for(var xi,i=-1,n=x.length;++i<n;)index.has(xi=x[i])||index.set(xi,domain.push(xi));return scale[ranger.t].apply(scale,ranger.a)},scale.range=function(x){return arguments.length?(range=x,rangeBand=0,ranger={t:"range",a:arguments},scale):range},scale.rangePoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=(start+stop)/2,0):(stop-start)/(domain.length-1+padding);return range=steps(start+step*padding/2,step),rangeBand=0,ranger={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=stop=Math.round((start+stop)/2),0):(stop-start)/(domain.length-1+padding)|0;return range=steps(start+Math.round(step*padding/2+(stop-start-(domain.length-1+padding)*step)/2),step),rangeBand=0,ranger={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=(stop-start)/(domain.length-padding+2*outerPadding);return range=steps(start+step*outerPadding,step),reverse&&range.reverse(),rangeBand=step*(1-padding),ranger={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=Math.floor((stop-start)/(domain.length-padding+2*outerPadding));return range=steps(start+Math.round((stop-start-(domain.length-padding)*step)/2),step),reverse&&range.reverse(),rangeBand=Math.round(step*(1-padding)),ranger={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return rangeBand},scale.rangeExtent=function(){return d3_scaleExtent(ranger.a[0])},scale.copy=function(){return d3_scale_ordinal(domain,ranger)},scale.domain(domain)}function d3_scale_quantile(domain,range){function rescale(){var k=0,q=range.length;for(thresholds=[];++k<q;)thresholds[k-1]=d3.quantile(domain,k/q);return scale}function scale(x){return isNaN(x=+x)?void 0:range[d3.bisect(thresholds,x)]}var thresholds;return scale.domain=function(x){return arguments.length?(domain=x.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.quantiles=function(){return thresholds},scale.invertExtent=function(y){return y=range.indexOf(y),0>y?[NaN,NaN]:[y>0?thresholds[y-1]:domain[0],y<thresholds.length?thresholds[y]:domain[domain.length-1]]},scale.copy=function(){return d3_scale_quantile(domain,range)},rescale()}function d3_scale_quantize(x0,x1,range){function scale(x){return range[Math.max(0,Math.min(i,Math.floor(kx*(x-x0))))]}function rescale(){return kx=range.length/(x1-x0),i=range.length-1,scale}var kx,i;return scale.domain=function(x){return arguments.length?(x0=+x[0],x1=+x[x.length-1],rescale()):[x0,x1]},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.invertExtent=function(y){return y=range.indexOf(y),y=0>y?NaN:y/kx+x0,[y,y+1/kx]},scale.copy=function(){return d3_scale_quantize(x0,x1,range)},rescale()}function d3_scale_threshold(domain,range){function scale(x){return x>=x?range[d3.bisect(domain,x)]:void 0}return scale.domain=function(_){return arguments.length?(domain=_,scale):domain},scale.range=function(_){return arguments.length?(range=_,scale):range},scale.invertExtent=function(y){return y=range.indexOf(y),[domain[y-1],domain[y]]},scale.copy=function(){return d3_scale_threshold(domain,range)},scale}function d3_scale_identity(domain){function identity(x){return+x}return identity.invert=identity,identity.domain=identity.range=function(x){return arguments.length?(domain=x.map(identity),identity):domain},identity.ticks=function(m){return d3_scale_linearTicks(domain,m)},identity.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},identity.copy=function(){return d3_scale_identity(domain)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(d){return d.innerRadius}function d3_svg_arcOuterRadius(d){return d.outerRadius}function d3_svg_arcStartAngle(d){return d.startAngle}function d3_svg_arcEndAngle(d){return d.endAngle}function d3_svg_arcPadAngle(d){return d&&d.padAngle}function d3_svg_arcSweep(x0,y0,x1,y1){return(x0-x1)*y0-(y0-y1)*x0>0?0:1}function d3_svg_arcCornerTangents(p0,p1,r1,rc,cw){var x01=p0[0]-p1[0],y01=p0[1]-p1[1],lo=(cw?rc:-rc)/Math.sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x1=p0[0]+ox,y1=p0[1]+oy,x2=p1[0]+ox,y2=p1[1]+oy,x3=(x1+x2)/2,y3=(y1+y2)/2,dx=x2-x1,dy=y2-y1,d2=dx*dx+dy*dy,r=r1-rc,D=x1*y2-x2*y1,d=(0>dy?-1:1)*Math.sqrt(r*r*d2-D*D),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x3,dy0=cy0-y3,dx1=cx1-x3,dy1=cy1-y3;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),[[cx0-ox,cy0-oy],[cx0*r1/r,cy0*r1/r]]}function d3_svg_line(projection){function line(data){function segment(){segments.push("M",interpolate(projection(points),tension))}for(var d,segments=[],points=[],i=-1,n=data.length,fx=d3_functor(x),fy=d3_functor(y);++i<n;)defined.call(this,d=data[i],i)?points.push([+fx.call(this,d,i),+fy.call(this,d,i)]):points.length&&(segment(),points=[]);return points.length&&segment(),segments.length?segments.join(""):null}var x=d3_geom_pointX,y=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,tension=.7;return line.x=function(_){return arguments.length?(x=_,line):x},line.y=function(_){return arguments.length?(y=_,line):y},line.defined=function(_){return arguments.length?(defined=_,line):defined},line.interpolate=function(_){return arguments.length?(interpolateKey="function"==typeof _?interpolate=_:(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,line):interpolateKey},line.tension=function(_){return arguments.length?(tension=_,line):tension},line}function d3_svg_lineLinear(points){return points.join("L")}function d3_svg_lineLinearClosed(points){return d3_svg_lineLinear(points)+"Z"}function d3_svg_lineStep(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p[0]+(p=points[i])[0])/2,"V",p[1]);return n>1&&path.push("H",p[0]),path.join("")}function d3_svg_lineStepBefore(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("V",(p=points[i])[1],"H",p[0]);return path.join("")}function d3_svg_lineStepAfter(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p=points[i])[0],"V",p[1]);return path.join("")}function d3_svg_lineCardinalOpen(points,tension){return points.length<4?d3_svg_lineLinear(points):points[1]+d3_svg_lineHermite(points.slice(1,-1),d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineCardinalClosed(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite((points.push(points[0]),points),d3_svg_lineCardinalTangents([points[points.length-2]].concat(points,[points[1]]),tension))}function d3_svg_lineCardinal(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineHermite(points,tangents){if(tangents.length<1||points.length!=tangents.length&&points.length!=tangents.length+2)return d3_svg_lineLinear(points);var quad=points.length!=tangents.length,path="",p0=points[0],p=points[1],t0=tangents[0],t=t0,pi=1;if(quad&&(path+="Q"+(p[0]-2*t0[0]/3)+","+(p[1]-2*t0[1]/3)+","+p[0]+","+p[1],p0=points[1],pi=2),tangents.length>1){t=tangents[1],p=points[pi],pi++,path+="C"+(p0[0]+t0[0])+","+(p0[1]+t0[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<tangents.length;i++,pi++)p=points[pi],t=tangents[i],path+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1]}if(quad){var lp=points[pi];path+="Q"+(p[0]+2*t[0]/3)+","+(p[1]+2*t[1]/3)+","+lp[0]+","+lp[1]}return path}function d3_svg_lineCardinalTangents(points,tension){for(var p0,tangents=[],a=(1-tension)/2,p1=points[0],p2=points[1],i=1,n=points.length;++i<n;)p0=p1,p1=p2,p2=points[i],tangents.push([a*(p2[0]-p0[0]),a*(p2[1]-p0[1])]);return tangents}function d3_svg_lineBasis(points){if(points.length<3)return d3_svg_lineLinear(points);var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];for(points.push(points[n-1]);++i<=n;)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return points.pop(),path.push("L",pi),path.join("")}function d3_svg_lineBasisOpen(points){if(points.length<4)return d3_svg_lineLinear(points);for(var pi,path=[],i=-1,n=points.length,px=[0],py=[0];++i<3;)pi=points[i],px.push(pi[0]),py.push(pi[1]);for(path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3,px)+","+d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)),--i;++i<n;)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBasisClosed(points){for(var path,pi,i=-1,n=points.length,m=n+4,px=[],py=[];++i<4;)pi=points[i%n],px.push(pi[0]),py.push(pi[1]);for(path=[d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)],--i;++i<m;)pi=points[i%n],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBundle(points,tension){var n=points.length-1;if(n)for(var p,t,x0=points[0][0],y0=points[0][1],dx=points[n][0]-x0,dy=points[n][1]-y0,i=-1;++i<=n;)p=points[i],t=i/n,p[0]=tension*p[0]+(1-tension)*(x0+t*dx),p[1]=tension*p[1]+(1-tension)*(y0+t*dy);return d3_svg_lineBasis(points)}function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y))}function d3_svg_lineSlope(p0,p1){return(p1[1]-p0[1])/(p1[0]-p0[0])}function d3_svg_lineFiniteDifferences(points){for(var i=0,j=points.length-1,m=[],p0=points[0],p1=points[1],d=m[0]=d3_svg_lineSlope(p0,p1);++i<j;)m[i]=(d+(d=d3_svg_lineSlope(p0=p1,p1=points[i+1])))/2;return m[i]=d,m}function d3_svg_lineMonotoneTangents(points){for(var d,a,b,s,tangents=[],m=d3_svg_lineFiniteDifferences(points),i=-1,j=points.length-1;++i<j;)d=d3_svg_lineSlope(points[i],points[i+1]),abs(d)<ε?m[i]=m[i+1]=0:(a=m[i]/d,b=m[i+1]/d,s=a*a+b*b,s>9&&(s=3*d/Math.sqrt(s),m[i]=s*a,m[i+1]=s*b));for(i=-1;++i<=j;)s=(points[Math.min(j,i+1)][0]-points[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i])),tangents.push([s||0,m[i]*s||0]);return tangents}function d3_svg_lineMonotone(points){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineMonotoneTangents(points))}function d3_svg_lineRadial(points){for(var point,r,a,i=-1,n=points.length;++i<n;)point=points[i],r=point[0],a=point[1]-halfπ,point[0]=r*Math.cos(a),point[1]=r*Math.sin(a);return points}function d3_svg_area(projection){function area(data){function segment(){segments.push("M",interpolate(projection(points1),tension),L,interpolateReverse(projection(points0.reverse()),tension),"Z")}for(var d,x,y,segments=[],points0=[],points1=[],i=-1,n=data.length,fx0=d3_functor(x0),fy0=d3_functor(y0),fx1=x0===x1?function(){return x}:d3_functor(x1),fy1=y0===y1?function(){return y}:d3_functor(y1);++i<n;)defined.call(this,d=data[i],i)?(points0.push([x=+fx0.call(this,d,i),y=+fy0.call(this,d,i)]),points1.push([+fx1.call(this,d,i),+fy1.call(this,d,i)])):points0.length&&(segment(),points0=[],points1=[]);return points0.length&&segment(),segments.length?segments.join(""):null}var x0=d3_geom_pointX,x1=d3_geom_pointX,y0=0,y1=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,interpolateReverse=interpolate,L="L",tension=.7;return area.x=function(_){return arguments.length?(x0=x1=_,area):x1},area.x0=function(_){return arguments.length?(x0=_,area):x0},area.x1=function(_){return arguments.length?(x1=_,area):x1},area.y=function(_){return arguments.length?(y0=y1=_,area):y1},area.y0=function(_){return arguments.length?(y0=_,area):y0},area.y1=function(_){return arguments.length?(y1=_,area):y1},area.defined=function(_){return arguments.length?(defined=_,area):defined},area.interpolate=function(_){return arguments.length?(interpolateKey="function"==typeof _?interpolate=_:(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,interpolateReverse=interpolate.reverse||interpolate,L=interpolate.closed?"M":"L",area):interpolateKey},area.tension=function(_){return arguments.length?(tension=_,area):tension},area}function d3_svg_chordRadius(d){return d.radius}function d3_svg_diagonalProjection(d){return[d.x,d.y]}function d3_svg_diagonalRadialProjection(projection){return function(){var d=projection.apply(this,arguments),r=d[0],a=d[1]-halfπ;return[r*Math.cos(a),r*Math.sin(a)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(size){var r=Math.sqrt(size/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z"}function d3_selection_interruptNS(ns){return function(){var lock,active;(lock=this[ns])&&(active=lock[lock.active])&&(--lock.count?delete lock[lock.active]:delete this[ns],lock.active+=.5,active.event&&active.event.interrupt.call(this,this.__data__,active.index))}}function d3_transition(groups,ns,id){return d3_subclass(groups,d3_transitionPrototype),groups.namespace=ns,groups.id=id,groups}function d3_transition_tween(groups,name,value,tween){var id=groups.id,ns=groups.namespace;return d3_selection_each(groups,"function"==typeof value?function(node,i,j){node[ns][id].tween.set(name,tween(value.call(node,node.__data__,i,j)))}:(value=tween(value),function(node){node[ns][id].tween.set(name,value)}))}function d3_transition_text(b){return null==b&&(b=""),function(){this.textContent=b}}function d3_transitionNamespace(name){return null==name?"__transition__":"__transition_"+name+"__"}function d3_transitionNode(node,i,ns,id,inherit){var lock=node[ns]||(node[ns]={active:0,count:0}),transition=lock[id];if(!transition){var time=inherit.time;transition=lock[id]={tween:new d3_Map,time:time,delay:inherit.delay,duration:inherit.duration,ease:inherit.ease,index:i},inherit=null,++lock.count,d3.timer(function(elapsed){function start(elapsed){if(lock.active>id)return stop();var active=lock[lock.active];active&&(--lock.count,delete lock[lock.active],active.event&&active.event.interrupt.call(node,node.__data__,active.index)),lock.active=id,transition.event&&transition.event.start.call(node,node.__data__,i),transition.tween.forEach(function(key,value){(value=value.call(node,node.__data__,i))&&tweened.push(value)}),ease=transition.ease,duration=transition.duration,d3.timer(function(){return timer.c=tick(elapsed||1)?d3_true:tick,1},0,time)}function tick(elapsed){if(lock.active!==id)return 1;for(var t=elapsed/duration,e=ease(t),n=tweened.length;n>0;)tweened[--n].call(node,e);return t>=1?(transition.event&&transition.event.end.call(node,node.__data__,i),stop()):void 0}function stop(){return--lock.count?delete lock[id]:delete node[ns],1}var duration,ease,delay=transition.delay,timer=d3_timer_active,tweened=[];return timer.t=delay+time,elapsed>=delay?start(elapsed-delay):void(timer.c=start)},0,time)}}function d3_svg_axisX(selection,x0,x1){selection.attr("transform",function(d){var v0=x0(d);return"translate("+(isFinite(v0)?v0:x1(d))+",0)"})}function d3_svg_axisY(selection,y0,y1){selection.attr("transform",function(d){var v0=y0(d);return"translate(0,"+(isFinite(v0)?v0:y1(d))+")"})}function d3_time_formatIsoNative(date){return date.toISOString()}function d3_time_scale(linear,methods,format){function scale(x){return linear(x)}function tickMethod(extent,count){var span=extent[1]-extent[0],target=span/count,i=d3.bisect(d3_time_scaleSteps,target);return i==d3_time_scaleSteps.length?[methods.year,d3_scale_linearTickRange(extent.map(function(d){return d/31536e6}),count)[2]]:i?methods[target/d3_time_scaleSteps[i-1]<d3_time_scaleSteps[i]/target?i-1:i]:[d3_time_scaleMilliseconds,d3_scale_linearTickRange(extent,count)[2]]}return scale.invert=function(x){return d3_time_scaleDate(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain(x),scale):linear.domain().map(d3_time_scaleDate)},scale.nice=function(interval,skip){function skipped(date){return!isNaN(date)&&!interval.range(date,d3_time_scaleDate(+date+1),skip).length}var domain=scale.domain(),extent=d3_scaleExtent(domain),method=null==interval?tickMethod(extent,10):"number"==typeof interval&&tickMethod(extent,interval);return method&&(interval=method[0],skip=method[1]),scale.domain(d3_scale_nice(domain,skip>1?{floor:function(date){for(;skipped(date=interval.floor(date));)date=d3_time_scaleDate(date-1);return date},ceil:function(date){for(;skipped(date=interval.ceil(date));)date=d3_time_scaleDate(+date+1);return date}}:interval))},scale.ticks=function(interval,skip){var extent=d3_scaleExtent(scale.domain()),method=null==interval?tickMethod(extent,10):"number"==typeof interval?tickMethod(extent,interval):!interval.range&&[{range:interval},skip];return method&&(interval=method[0],skip=method[1]),interval.range(extent[0],d3_time_scaleDate(+extent[1]+1),1>skip?1:skip)},scale.tickFormat=function(){return format},scale.copy=function(){return d3_time_scale(linear.copy(),methods,format)},d3_scale_linearRebind(scale,linear)}function d3_time_scaleDate(t){return new Date(t)}function d3_json(request){return JSON.parse(request.responseText)}function d3_html(request){var range=d3_document.createRange();return range.selectNode(d3_document.body),range.createContextualFragment(request.responseText)}var d3={version:"3.5.6"},d3_arraySlice=[].slice,d3_array=function(list){return d3_arraySlice.call(list)},d3_document=this.document;if(d3_document)try{d3_array(d3_document.documentElement.childNodes)[0].nodeType}catch(e){d3_array=function(list){for(var i=list.length,array=new Array(i);i--;)array[i]=list[i];return array}}if(Date.now||(Date.now=function(){return+new Date}),d3_document)try{d3_document.createElement("DIV").style.setProperty("opacity",0,"")}catch(error){var d3_element_prototype=this.Element.prototype,d3_element_setAttribute=d3_element_prototype.setAttribute,d3_element_setAttributeNS=d3_element_prototype.setAttributeNS,d3_style_prototype=this.CSSStyleDeclaration.prototype,d3_style_setProperty=d3_style_prototype.setProperty;d3_element_prototype.setAttribute=function(name,value){d3_element_setAttribute.call(this,name,value+"")},d3_element_prototype.setAttributeNS=function(space,local,value){d3_element_setAttributeNS.call(this,space,local,value+"")},d3_style_prototype.setProperty=function(name,value,priority){d3_style_setProperty.call(this,name,value+"",priority)}}d3.ascending=d3_ascending,d3.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},d3.min=function(array,f){var a,b,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&a>b&&(a=b)}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&a>b&&(a=b)}return a},d3.max=function(array,f){var a,b,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&b>a&&(a=b)}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&b>a&&(a=b)}return a},d3.extent=function(array,f){var a,b,c,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=array[i])&&(a>b&&(a=b),b>c&&(c=b))}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&(a>b&&(a=b),b>c&&(c=b))}return[a,c]},d3.sum=function(array,f){var a,s=0,n=array.length,i=-1;if(1===arguments.length)for(;++i<n;)d3_numeric(a=+array[i])&&(s+=a);else for(;++i<n;)d3_numeric(a=+f.call(array,array[i],i))&&(s+=a);return s},d3.mean=function(array,f){var a,s=0,n=array.length,i=-1,j=n;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))?s+=a:--j;else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))?s+=a:--j;return j?s/j:void 0},d3.quantile=function(values,p){var H=(values.length-1)*p+1,h=Math.floor(H),v=+values[h-1],e=H-h;return e?v+e*(values[h]-v):v},d3.median=function(array,f){var a,numbers=[],n=array.length,i=-1;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))&&numbers.push(a);else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&numbers.push(a);return numbers.length?d3.quantile(numbers.sort(d3_ascending),.5):void 0},d3.variance=function(array,f){var a,d,n=array.length,m=0,s=0,i=-1,j=0;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))&&(d=a-m,m+=d/++j,s+=d*(a-m));else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&(d=a-m,m+=d/++j,s+=d*(a-m));return j>1?s/(j-1):void 0},d3.deviation=function(){var v=d3.variance.apply(this,arguments);return v?Math.sqrt(v):v};var d3_bisect=d3_bisector(d3_ascending);d3.bisectLeft=d3_bisect.left,d3.bisect=d3.bisectRight=d3_bisect.right,d3.bisector=function(f){return d3_bisector(1===f.length?function(d,x){return d3_ascending(f(d),x)}:f)},d3.shuffle=function(array,i0,i1){(m=arguments.length)<3&&(i1=array.length,2>m&&(i0=0));for(var t,i,m=i1-i0;m;)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array},d3.permute=function(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes},d3.pairs=function(array){for(var p0,i=0,n=array.length-1,p1=array[0],pairs=new Array(0>n?0:n);n>i;)pairs[i]=[p0=p1,p1=array[++i]];
return pairs},d3.zip=function(){if(!(n=arguments.length))return[];for(var i=-1,m=d3.min(arguments,d3_zipLength),zips=new Array(m);++i<m;)for(var n,j=-1,zip=zips[i]=new Array(n);++j<n;)zip[j]=arguments[j][i];return zips},d3.transpose=function(matrix){return d3.zip.apply(d3,matrix)},d3.keys=function(map){var keys=[];for(var key in map)keys.push(key);return keys},d3.values=function(map){var values=[];for(var key in map)values.push(map[key]);return values},d3.entries=function(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries},d3.merge=function(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(array=arrays[n],m=array.length;--m>=0;)merged[--j]=array[m];return merged};var abs=Math.abs;d3.range=function(start,stop,step){if(arguments.length<3&&(step=1,arguments.length<2&&(stop=start,start=0)),(stop-start)/step===1/0)throw new Error("infinite range");var j,range=[],k=d3_range_integerScale(abs(step)),i=-1;if(start*=k,stop*=k,step*=k,0>step)for(;(j=start+step*++i)>stop;)range.push(j/k);else for(;(j=start+step*++i)<stop;)range.push(j/k);return range},d3.map=function(object,f){var map=new d3_Map;if(object instanceof d3_Map)object.forEach(function(key,value){map.set(key,value)});else if(Array.isArray(object)){var o,i=-1,n=object.length;if(1===arguments.length)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(f.call(object,o=object[i],i),o)}else for(var key in object)map.set(key,object[key]);return map};var d3_map_proto="__proto__",d3_map_zero="\x00";d3_class(d3_Map,{has:d3_map_has,get:function(key){return this._[d3_map_escape(key)]},set:function(key,value){return this._[d3_map_escape(key)]=value},remove:d3_map_remove,keys:d3_map_keys,values:function(){var values=[];for(var key in this._)values.push(this._[key]);return values},entries:function(){var entries=[];for(var key in this._)entries.push({key:d3_map_unescape(key),value:this._[key]});return entries},size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key),this._[key])}}),d3.nest=function(){function map(mapType,array,depth){if(depth>=keys.length)return rollup?rollup.call(nest,array):sortValues?array.sort(sortValues):array;for(var keyValue,object,setter,values,i=-1,n=array.length,key=keys[depth++],valuesByKey=new d3_Map;++i<n;)(values=valuesByKey.get(keyValue=key(object=array[i])))?values.push(object):valuesByKey.set(keyValue,[object]);return mapType?(object=mapType(),setter=function(keyValue,values){object.set(keyValue,map(mapType,values,depth))}):(object={},setter=function(keyValue,values){object[keyValue]=map(mapType,values,depth)}),valuesByKey.forEach(setter),object}function entries(map,depth){if(depth>=keys.length)return map;var array=[],sortKey=sortKeys[depth++];return map.forEach(function(key,keyMap){array.push({key:key,values:entries(keyMap,depth)})}),sortKey?array.sort(function(a,b){return sortKey(a.key,b.key)}):array}var sortValues,rollup,nest={},keys=[],sortKeys=[];return nest.map=function(array,mapType){return map(mapType,array,0)},nest.entries=function(array){return entries(map(d3.map,array,0),0)},nest.key=function(d){return keys.push(d),nest},nest.sortKeys=function(order){return sortKeys[keys.length-1]=order,nest},nest.sortValues=function(order){return sortValues=order,nest},nest.rollup=function(f){return rollup=f,nest},nest},d3.set=function(array){var set=new d3_Set;if(array)for(var i=0,n=array.length;n>i;++i)set.add(array[i]);return set},d3_class(d3_Set,{has:d3_map_has,add:function(key){return this._[d3_map_escape(key+="")]=!0,key},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key))}}),d3.behavior={},d3.rebind=function(target,source){for(var method,i=1,n=arguments.length;++i<n;)target[method=arguments[i]]=d3_rebind(target,source,source[method]);return target};var d3_vendorPrefixes=["webkit","ms","moz","Moz","o","O"];d3.dispatch=function(){for(var dispatch=new d3_dispatch,i=-1,n=arguments.length;++i<n;)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch},d3_dispatch.prototype.on=function(type,listener){var i=type.indexOf("."),name="";if(i>=0&&(name=type.slice(i+1),type=type.slice(0,i)),type)return arguments.length<2?this[type].on(name):this[type].on(name,listener);if(2===arguments.length){if(null==listener)for(type in this)this.hasOwnProperty(type)&&this[type].on(name,null);return this}},d3.event=null,d3.requote=function(s){return s.replace(d3_requote_re,"\\$&")};var d3_requote_re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,d3_subclass={}.__proto__?function(object,prototype){object.__proto__=prototype}:function(object,prototype){for(var property in prototype)object[property]=prototype[property]},d3_select=function(s,n){return n.querySelector(s)},d3_selectAll=function(s,n){return n.querySelectorAll(s)},d3_selectMatches=function(n,s){var d3_selectMatcher=n.matches||n[d3_vendorSymbol(n,"matchesSelector")];return(d3_selectMatches=function(n,s){return d3_selectMatcher.call(n,s)})(n,s)};"function"==typeof Sizzle&&(d3_select=function(s,n){return Sizzle(s,n)[0]||null},d3_selectAll=Sizzle,d3_selectMatches=Sizzle.matchesSelector),d3.selection=function(){return d3.select(d3_document.documentElement)};var d3_selectionPrototype=d3.selection.prototype=[];d3_selectionPrototype.select=function(selector){var subgroup,subnode,group,node,subgroups=[];selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(subnode=selector.call(node,node.__data__,i,j)),subnode&&"__data__"in node&&(subnode.__data__=node.__data__)):subgroup.push(null)}return d3_selection(subgroups)},d3_selectionPrototype.selectAll=function(selector){var subgroup,node,subgroups=[];selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subgroups.push(subgroup=d3_array(selector.call(node,node.__data__,i,j))),subgroup.parentNode=node);return d3_selection(subgroups)};var d3_nsPrefix={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:d3_nsPrefix,qualify:function(name){var i=name.indexOf(":"),prefix=name;return i>=0&&(prefix=name.slice(0,i),name=name.slice(i+1)),d3_nsPrefix.hasOwnProperty(prefix)?{space:d3_nsPrefix[prefix],local:name}:name}},d3_selectionPrototype.attr=function(name,value){if(arguments.length<2){if("string"==typeof name){var node=this.node();return name=d3.ns.qualify(name),name.local?node.getAttributeNS(name.space,name.local):node.getAttribute(name)}for(value in name)this.each(d3_selection_attr(value,name[value]));return this}return this.each(d3_selection_attr(name,value))},d3_selectionPrototype.classed=function(name,value){if(arguments.length<2){if("string"==typeof name){var node=this.node(),n=(name=d3_selection_classes(name)).length,i=-1;if(value=node.classList){for(;++i<n;)if(!value.contains(name[i]))return!1}else for(value=node.getAttribute("class");++i<n;)if(!d3_selection_classedRe(name[i]).test(value))return!1;return!0}for(value in name)this.each(d3_selection_classed(value,name[value]));return this}return this.each(d3_selection_classed(name,value))},d3_selectionPrototype.style=function(name,value,priority){var n=arguments.length;if(3>n){if("string"!=typeof name){2>n&&(value="");for(priority in name)this.each(d3_selection_style(priority,name[priority],value));return this}if(2>n){var node=this.node();return d3_window(node).getComputedStyle(node,null).getPropertyValue(name)}priority=""}return this.each(d3_selection_style(name,value,priority))},d3_selectionPrototype.property=function(name,value){if(arguments.length<2){if("string"==typeof name)return this.node()[name];for(value in name)this.each(d3_selection_property(value,name[value]));return this}return this.each(d3_selection_property(name,value))},d3_selectionPrototype.text=function(value){return arguments.length?this.each("function"==typeof value?function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}:null==value?function(){this.textContent=""}:function(){this.textContent=value}):this.node().textContent},d3_selectionPrototype.html=function(value){return arguments.length?this.each("function"==typeof value?function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}:null==value?function(){this.innerHTML=""}:function(){this.innerHTML=value}):this.node().innerHTML},d3_selectionPrototype.append=function(name){return name=d3_selection_creator(name),this.select(function(){return this.appendChild(name.apply(this,arguments))})},d3_selectionPrototype.insert=function(name,before){return name=d3_selection_creator(name),before=d3_selection_selector(before),this.select(function(){return this.insertBefore(name.apply(this,arguments),before.apply(this,arguments)||null)})},d3_selectionPrototype.remove=function(){return this.each(d3_selectionRemove)},d3_selectionPrototype.data=function(value,key){function bind(group,groupData){var i,node,nodeData,n=group.length,m=groupData.length,n0=Math.min(n,m),updateNodes=new Array(m),enterNodes=new Array(m),exitNodes=new Array(n);if(key){var keyValue,nodeByKeyValue=new d3_Map,keyValues=new Array(n);for(i=-1;++i<n;)nodeByKeyValue.has(keyValue=key.call(node=group[i],node.__data__,i))?exitNodes[i]=node:nodeByKeyValue.set(keyValue,node),keyValues[i]=keyValue;for(i=-1;++i<m;)(node=nodeByKeyValue.get(keyValue=key.call(groupData,nodeData=groupData[i],i)))?node!==!0&&(updateNodes[i]=node,node.__data__=nodeData):enterNodes[i]=d3_selection_dataNode(nodeData),nodeByKeyValue.set(keyValue,!0);for(i=-1;++i<n;)nodeByKeyValue.get(keyValues[i])!==!0&&(exitNodes[i]=group[i])}else{for(i=-1;++i<n0;)node=group[i],nodeData=groupData[i],node?(node.__data__=nodeData,updateNodes[i]=node):enterNodes[i]=d3_selection_dataNode(nodeData);for(;m>i;++i)enterNodes[i]=d3_selection_dataNode(groupData[i]);for(;n>i;++i)exitNodes[i]=group[i]}enterNodes.update=updateNodes,enterNodes.parentNode=updateNodes.parentNode=exitNodes.parentNode=group.parentNode,enter.push(enterNodes),update.push(updateNodes),exit.push(exitNodes)}var group,node,i=-1,n=this.length;if(!arguments.length){for(value=new Array(n=(group=this[0]).length);++i<n;)(node=group[i])&&(value[i]=node.__data__);return value}var enter=d3_selection_enter([]),update=d3_selection([]),exit=d3_selection([]);if("function"==typeof value)for(;++i<n;)bind(group=this[i],value.call(group,group.parentNode.__data__,i));else for(;++i<n;)bind(group=this[i],value);return update.enter=function(){return enter},update.exit=function(){return exit},update},d3_selectionPrototype.datum=function(value){return arguments.length?this.property("__data__",value):this.property("__data__")},d3_selectionPrototype.filter=function(filter){var subgroup,group,node,subgroups=[];"function"!=typeof filter&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;m>j;j++){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=0,n=group.length;n>i;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_selection(subgroups)},d3_selectionPrototype.order=function(){for(var j=-1,m=this.length;++j<m;)for(var node,group=this[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&next!==node.nextSibling&&next.parentNode.insertBefore(node,next),next=node);return this},d3_selectionPrototype.sort=function(comparator){comparator=d3_selection_sortComparator.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(comparator);return this.order()},d3_selectionPrototype.each=function(callback){return d3_selection_each(this,function(node,i,j){callback.call(node,node.__data__,i,j)})},d3_selectionPrototype.call=function(callback){var args=d3_array(arguments);return callback.apply(args[0]=this,args),this},d3_selectionPrototype.empty=function(){return!this.node()},d3_selectionPrototype.node=function(){for(var j=0,m=this.length;m>j;j++)for(var group=this[j],i=0,n=group.length;n>i;i++){var node=group[i];if(node)return node}return null},d3_selectionPrototype.size=function(){var n=0;return d3_selection_each(this,function(){++n}),n};var d3_selection_enterPrototype=[];d3.selection.enter=d3_selection_enter,d3.selection.enter.prototype=d3_selection_enterPrototype,d3_selection_enterPrototype.append=d3_selectionPrototype.append,d3_selection_enterPrototype.empty=d3_selectionPrototype.empty,d3_selection_enterPrototype.node=d3_selectionPrototype.node,d3_selection_enterPrototype.call=d3_selectionPrototype.call,d3_selection_enterPrototype.size=d3_selectionPrototype.size,d3_selection_enterPrototype.select=function(selector){for(var subgroup,subnode,upgroup,group,node,subgroups=[],j=-1,m=this.length;++j<m;){upgroup=(group=this[j]).update,subgroups.push(subgroup=[]),subgroup.parentNode=group.parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(upgroup[i]=subnode=selector.call(group.parentNode,node.__data__,i,j)),subnode.__data__=node.__data__):subgroup.push(null)}return d3_selection(subgroups)},d3_selection_enterPrototype.insert=function(name,before){return arguments.length<2&&(before=d3_selection_enterInsertBefore(this)),d3_selectionPrototype.insert.call(this,name,before)},d3.select=function(node){var group;return"string"==typeof node?(group=[d3_select(node,d3_document)],group.parentNode=d3_document.documentElement):(group=[node],group.parentNode=d3_documentElement(node)),d3_selection([group])},d3.selectAll=function(nodes){var group;return"string"==typeof nodes?(group=d3_array(d3_selectAll(nodes,d3_document)),group.parentNode=d3_document.documentElement):(group=nodes,group.parentNode=null),d3_selection([group])},d3_selectionPrototype.on=function(type,listener,capture){var n=arguments.length;if(3>n){if("string"!=typeof type){2>n&&(listener=!1);for(capture in type)this.each(d3_selection_on(capture,type[capture],listener));return this}if(2>n)return(n=this.node()["__on"+type])&&n._;capture=!1}return this.each(d3_selection_on(type,listener,capture))};var d3_selection_onFilters=d3.map({mouseenter:"mouseover",mouseleave:"mouseout"});d3_document&&d3_selection_onFilters.forEach(function(k){"on"+k in d3_document&&d3_selection_onFilters.remove(k)});var d3_event_dragSelect,d3_event_dragId=0;d3.mouse=function(container){return d3_mousePoint(container,d3_eventSource())};var d3_mouse_bug44083=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;d3.touch=function(container,touches,identifier){if(arguments.length<3&&(identifier=touches,touches=d3_eventSource().changedTouches),touches)for(var touch,i=0,n=touches.length;n>i;++i)if((touch=touches[i]).identifier===identifier)return d3_mousePoint(container,touch)},d3.behavior.drag=function(){function drag(){this.on("mousedown.drag",mousedown).on("touchstart.drag",touchstart)}function dragstart(id,position,subject,move,end){return function(){function moved(){var dx,dy,position1=position(parent,dragId);position1&&(dx=position1[0]-position0[0],dy=position1[1]-position0[1],dragged|=dx|dy,position0=position1,dispatch({type:"drag",x:position1[0]+dragOffset[0],y:position1[1]+dragOffset[1],dx:dx,dy:dy}))}function ended(){position(parent,dragId)&&(dragSubject.on(move+dragName,null).on(end+dragName,null),dragRestore(dragged&&d3.event.target===target),dispatch({type:"dragend"}))}var dragOffset,that=this,target=d3.event.target,parent=that.parentNode,dispatch=event.of(that,arguments),dragged=0,dragId=id(),dragName=".drag"+(null==dragId?"":"-"+dragId),dragSubject=d3.select(subject(target)).on(move+dragName,moved).on(end+dragName,ended),dragRestore=d3_event_dragSuppress(target),position0=position(parent,dragId);origin?(dragOffset=origin.apply(that,arguments),dragOffset=[dragOffset.x-position0[0],dragOffset.y-position0[1]]):dragOffset=[0,0],dispatch({type:"dragstart"})}}var event=d3_eventDispatch(drag,"drag","dragstart","dragend"),origin=null,mousedown=dragstart(d3_noop,d3.mouse,d3_window,"mousemove","mouseup"),touchstart=dragstart(d3_behavior_dragTouchId,d3.touch,d3_identity,"touchmove","touchend");return drag.origin=function(x){return arguments.length?(origin=x,drag):origin},d3.rebind(drag,event,"on")},d3.touches=function(container,touches){return arguments.length<2&&(touches=d3_eventSource().touches),touches?d3_array(touches).map(function(touch){var point=d3_mousePoint(container,touch);return point.identifier=touch.identifier,point}):[]};var ε=1e-6,ε2=ε*ε,π=Math.PI,τ=2*π,τε=τ-ε,halfπ=π/2,d3_radians=π/180,d3_degrees=180/π,ρ=Math.SQRT2,ρ2=2,ρ4=4;d3.interpolateZoom=function(p0,p1){function interpolate(t){var s=t*S;if(dr){var coshr0=d3_cosh(r0),u=w0/(ρ2*d1)*(coshr0*d3_tanh(ρ*s+r0)-d3_sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/d3_cosh(ρ*s+r0)]}return[ux0+t*dx,uy0+t*dy,w0*Math.exp(ρ*s)]}var ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy,d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+ρ4*d2)/(2*w0*ρ2*d1),b1=(w1*w1-w0*w0-ρ4*d2)/(2*w1*ρ2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1),dr=r1-r0,S=(dr||Math.log(w1/w0))/ρ;return interpolate.duration=1e3*S,interpolate},d3.behavior.zoom=function(){function zoom(g){g.on(mousedown,mousedowned).on(d3_behavior_zoomWheel+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(touchstart,touchstarted)}function location(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function point(l){return[l[0]*view.k+view.x,l[1]*view.k+view.y]}function scaleTo(s){view.k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],s))}function translateTo(p,l){l=point(l),view.x+=p[0]-l[0],view.y+=p[1]-l[1]}function zoomTo(that,p,l,k){that.__chart__={x:view.x,y:view.y,k:view.k},scaleTo(Math.pow(2,k)),translateTo(center0=p,l),that=d3.select(that),duration>0&&(that=that.transition().duration(duration)),that.call(zoom.event)}function rescale(){x1&&x1.domain(x0.range().map(function(x){return(x-view.x)/view.k}).map(x0.invert)),y1&&y1.domain(y0.range().map(function(y){return(y-view.y)/view.k}).map(y0.invert))}function zoomstarted(dispatch){zooming++||dispatch({type:"zoomstart"})}function zoomed(dispatch){rescale(),dispatch({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function zoomended(dispatch){--zooming||(dispatch({type:"zoomend"}),center0=null)}function mousedowned(){function moved(){dragged=1,translateTo(d3.mouse(that),location0),zoomed(dispatch)}function ended(){subject.on(mousemove,null).on(mouseup,null),dragRestore(dragged&&d3.event.target===target),zoomended(dispatch)}var that=this,target=d3.event.target,dispatch=event.of(that,arguments),dragged=0,subject=d3.select(d3_window(that)).on(mousemove,moved).on(mouseup,ended),location0=location(d3.mouse(that)),dragRestore=d3_event_dragSuppress(that);d3_selection_interrupt.call(that),zoomstarted(dispatch)}function touchstarted(){function relocate(){var touches=d3.touches(that);return scale0=view.k,touches.forEach(function(t){t.identifier in locations0&&(locations0[t.identifier]=location(t))}),touches}function started(){var target=d3.event.target;d3.select(target).on(touchmove,moved).on(touchend,ended),targets.push(target);for(var changed=d3.event.changedTouches,i=0,n=changed.length;n>i;++i)locations0[changed[i].identifier]=null;var touches=relocate(),now=Date.now();if(1===touches.length){if(500>now-touchtime){var p=touches[0];zoomTo(that,p,locations0[p.identifier],Math.floor(Math.log(view.k)/Math.LN2)+1),d3_eventPreventDefault()}touchtime=now}else if(touches.length>1){var p=touches[0],q=touches[1],dx=p[0]-q[0],dy=p[1]-q[1];distance0=dx*dx+dy*dy}}function moved(){var p0,l0,p1,l1,touches=d3.touches(that);d3_selection_interrupt.call(that);for(var i=0,n=touches.length;n>i;++i,l1=null)if(p1=touches[i],l1=locations0[p1.identifier]){if(l0)break;p0=p1,l0=l1}if(l1){var distance1=(distance1=p1[0]-p0[0])*distance1+(distance1=p1[1]-p0[1])*distance1,scale1=distance0&&Math.sqrt(distance1/distance0);p0=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l0=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2],scaleTo(scale1*scale0)}touchtime=null,translateTo(p0,l0),zoomed(dispatch)}function ended(){if(d3.event.touches.length){for(var changed=d3.event.changedTouches,i=0,n=changed.length;n>i;++i)delete locations0[changed[i].identifier];for(var identifier in locations0)return void relocate()}d3.selectAll(targets).on(zoomName,null),subject.on(mousedown,mousedowned).on(touchstart,touchstarted),dragRestore(),zoomended(dispatch)}var scale0,that=this,dispatch=event.of(that,arguments),locations0={},distance0=0,zoomName=".zoom-"+d3.event.changedTouches[0].identifier,touchmove="touchmove"+zoomName,touchend="touchend"+zoomName,targets=[],subject=d3.select(that),dragRestore=d3_event_dragSuppress(that);started(),zoomstarted(dispatch),subject.on(mousedown,null).on(touchstart,started)}function mousewheeled(){var dispatch=event.of(this,arguments);mousewheelTimer?clearTimeout(mousewheelTimer):(d3_selection_interrupt.call(this),translate0=location(center0=center||d3.mouse(this)),zoomstarted(dispatch)),mousewheelTimer=setTimeout(function(){mousewheelTimer=null,zoomended(dispatch)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*d3_behavior_zoomDelta())*view.k),translateTo(center0,translate0),zoomed(dispatch)}function dblclicked(){var p=d3.mouse(this),k=Math.log(view.k)/Math.LN2;zoomTo(this,p,location(p),d3.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1)}var translate0,center0,center,mousewheelTimer,touchtime,x0,x1,y0,y1,view={x:0,y:0,k:1},size=[960,500],scaleExtent=d3_behavior_zoomInfinity,duration=250,zooming=0,mousedown="mousedown.zoom",mousemove="mousemove.zoom",mouseup="mouseup.zoom",touchstart="touchstart.zoom",event=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return d3_behavior_zoomWheel||(d3_behavior_zoomWheel="onwheel"in d3_document?(d3_behavior_zoomDelta=function(){return-d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d3_document?(d3_behavior_zoomDelta=function(){return d3.event.wheelDelta},"mousewheel"):(d3_behavior_zoomDelta=function(){return-d3.event.detail},"MozMousePixelScroll")),zoom.event=function(g){g.each(function(){var dispatch=event.of(this,arguments),view1=view;d3_transitionInheritId?d3.select(this).transition().each("start.zoom",function(){view=this.__chart__||{x:0,y:0,k:1},zoomstarted(dispatch)}).tween("zoom:zoom",function(){var dx=size[0],dy=size[1],cx=center0?center0[0]:dx/2,cy=center0?center0[1]:dy/2,i=d3.interpolateZoom([(cx-view.x)/view.k,(cy-view.y)/view.k,dx/view.k],[(cx-view1.x)/view1.k,(cy-view1.y)/view1.k,dx/view1.k]);return function(t){var l=i(t),k=dx/l[2];this.__chart__=view={x:cx-l[0]*k,y:cy-l[1]*k,k:k},zoomed(dispatch)}}).each("interrupt.zoom",function(){zoomended(dispatch)}).each("end.zoom",function(){zoomended(dispatch)}):(this.__chart__=view,zoomstarted(dispatch),zoomed(dispatch),zoomended(dispatch))})},zoom.translate=function(_){return arguments.length?(view={x:+_[0],y:+_[1],k:view.k},rescale(),zoom):[view.x,view.y]},zoom.scale=function(_){return arguments.length?(view={x:view.x,y:view.y,k:+_},rescale(),zoom):view.k},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent=null==_?d3_behavior_zoomInfinity:[+_[0],+_[1]],zoom):scaleExtent},zoom.center=function(_){return arguments.length?(center=_&&[+_[0],+_[1]],zoom):center},zoom.size=function(_){return arguments.length?(size=_&&[+_[0],+_[1]],zoom):size},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.x=function(z){return arguments.length?(x1=z,x0=z.copy(),view={x:0,y:0,k:1},zoom):x1},zoom.y=function(z){return arguments.length?(y1=z,y0=z.copy(),view={x:0,y:0,k:1},zoom):y1},d3.rebind(zoom,event,"on")};var d3_behavior_zoomDelta,d3_behavior_zoomWheel,d3_behavior_zoomInfinity=[0,1/0];d3.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},d3.hsl=d3_hsl;var d3_hslPrototype=d3_hsl.prototype=new d3_color;d3_hslPrototype.brighter=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,this.l/k)},d3_hslPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,k*this.l)},d3_hslPrototype.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},d3.hcl=d3_hcl;var d3_hclPrototype=d3_hcl.prototype=new d3_color;d3_hclPrototype.brighter=function(k){return new d3_hcl(this.h,this.c,Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.darker=function(k){return new d3_hcl(this.h,this.c,Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},d3.lab=d3_lab;var d3_lab_K=18,d3_lab_X=.95047,d3_lab_Y=1,d3_lab_Z=1.08883,d3_labPrototype=d3_lab.prototype=new d3_color;d3_labPrototype.brighter=function(k){return new d3_lab(Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.darker=function(k){return new d3_lab(Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},d3.rgb=d3_rgb;var d3_rgbPrototype=d3_rgb.prototype=new d3_color;d3_rgbPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;return r||g||b?(r&&i>r&&(r=i),g&&i>g&&(g=i),b&&i>b&&(b=i),new d3_rgb(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k))):new d3_rgb(i,i,i)},d3_rgbPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_rgb(k*this.r,k*this.g,k*this.b)},d3_rgbPrototype.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},d3_rgbPrototype.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var d3_rgb_names=d3.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});d3_rgb_names.forEach(function(key,value){d3_rgb_names.set(key,d3_rgbNumber(value))}),d3.functor=d3_functor,d3.xhr=d3_xhrType(d3_identity),d3.dsv=function(delimiter,mimeType){function dsv(url,row,callback){arguments.length<3&&(callback=row,row=null);var xhr=d3_xhr(url,mimeType,null==row?response:typedResponse(row),callback);return xhr.row=function(_){return arguments.length?xhr.response(null==(row=_)?response:typedResponse(_)):row},xhr}function response(request){return dsv.parse(request.responseText)}function typedResponse(f){return function(request){return dsv.parse(request.responseText,f)}}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(text){return reFormat.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}var reFormat=new RegExp('["'+delimiter+"\n]"),delimiterCode=delimiter.charCodeAt(0);return dsv.parse=function(text,f){var o;return dsv.parseRows(text,function(row,i){if(o)return o(row,i-1);var a=new Function("d","return {"+row.map(function(name,i){return JSON.stringify(name)+": d["+i+"]"}).join(",")+"}");o=f?function(row,i){return f(a(row),i)}:a})},dsv.parseRows=function(text,f){function token(){if(I>=N)return EOF;if(eol)return eol=!1,EOL;var j=I;if(34===text.charCodeAt(j)){for(var i=j;i++<N;)if(34===text.charCodeAt(i)){if(34!==text.charCodeAt(i+1))break;++i}I=i+2;var c=text.charCodeAt(i+1);return 13===c?(eol=!0,10===text.charCodeAt(i+2)&&++I):10===c&&(eol=!0),text.slice(j+1,i).replace(/""/g,'"')}for(;N>I;){var c=text.charCodeAt(I++),k=1;if(10===c)eol=!0;else if(13===c)eol=!0,10===text.charCodeAt(I)&&(++I,++k);else if(c!==delimiterCode)continue;return text.slice(j,I-k)}return text.slice(j)}for(var t,eol,EOL={},EOF={},rows=[],N=text.length,I=0,n=0;(t=token())!==EOF;){for(var a=[];t!==EOL&&t!==EOF;)a.push(t),t=token();f&&null==(a=f(a,n++))||rows.push(a)}return rows},dsv.format=function(rows){if(Array.isArray(rows[0]))return dsv.formatRows(rows);var fieldSet=new d3_Set,fields=[];return rows.forEach(function(row){for(var field in row)fieldSet.has(field)||fields.push(fieldSet.add(field))}),[fields.map(formatValue).join(delimiter)].concat(rows.map(function(row){return fields.map(function(field){return formatValue(row[field])}).join(delimiter)})).join("\n")},dsv.formatRows=function(rows){return rows.map(formatRow).join("\n")},dsv},d3.csv=d3.dsv(",","text/csv"),d3.tsv=d3.dsv("	","text/tab-separated-values");var d3_timer_queueHead,d3_timer_queueTail,d3_timer_interval,d3_timer_timeout,d3_timer_active,d3_timer_frame=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(callback){setTimeout(callback,17)};d3.timer=function(callback,delay,then){var n=arguments.length;2>n&&(delay=0),3>n&&(then=Date.now());var time=then+delay,timer={c:callback,t:time,f:!1,n:null};d3_timer_queueTail?d3_timer_queueTail.n=timer:d3_timer_queueHead=timer,d3_timer_queueTail=timer,d3_timer_interval||(d3_timer_timeout=clearTimeout(d3_timer_timeout),d3_timer_interval=1,d3_timer_frame(d3_timer_step))},d3.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},d3.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x)};var d3_formatPrefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);d3.formatPrefix=function(value,precision){var i=0;return value&&(0>value&&(value*=-1),precision&&(value=d3.round(value,d3_format_precision(value,precision))),i=1+Math.floor(1e-12+Math.log(value)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),d3_formatPrefixes[8+i/3]};var d3_format_re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,d3_format_types=d3.map({
b:function(x){return x.toString(2)},c:function(x){return String.fromCharCode(x)},o:function(x){return x.toString(8)},x:function(x){return x.toString(16)},X:function(x){return x.toString(16).toUpperCase()},g:function(x,p){return x.toPrecision(p)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},r:function(x,p){return(x=d3.round(x,d3_format_precision(x,p))).toFixed(Math.max(0,Math.min(20,d3_format_precision(x*(1+1e-15),p))))}}),d3_time=d3.time={},d3_date=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){d3_time_prototype.setUTCDate.apply(this._,arguments)},setDay:function(){d3_time_prototype.setUTCDay.apply(this._,arguments)},setFullYear:function(){d3_time_prototype.setUTCFullYear.apply(this._,arguments)},setHours:function(){d3_time_prototype.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){d3_time_prototype.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){d3_time_prototype.setUTCMinutes.apply(this._,arguments)},setMonth:function(){d3_time_prototype.setUTCMonth.apply(this._,arguments)},setSeconds:function(){d3_time_prototype.setUTCSeconds.apply(this._,arguments)},setTime:function(){d3_time_prototype.setTime.apply(this._,arguments)}};var d3_time_prototype=Date.prototype;d3_time.year=d3_time_interval(function(date){return date=d3_time.day(date),date.setMonth(0,1),date},function(date,offset){date.setFullYear(date.getFullYear()+offset)},function(date){return date.getFullYear()}),d3_time.years=d3_time.year.range,d3_time.years.utc=d3_time.year.utc.range,d3_time.day=d3_time_interval(function(date){var day=new d3_date(2e3,0);return day.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),day},function(date,offset){date.setDate(date.getDate()+offset)},function(date){return date.getDate()-1}),d3_time.days=d3_time.day.range,d3_time.days.utc=d3_time.day.utc.range,d3_time.dayOfYear=function(date){var year=d3_time.year(date);return Math.floor((date-year-6e4*(date.getTimezoneOffset()-year.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(day,i){i=7-i;var interval=d3_time[day]=d3_time_interval(function(date){return(date=d3_time.day(date)).setDate(date.getDate()-(date.getDay()+i)%7),date},function(date,offset){date.setDate(date.getDate()+7*Math.floor(offset))},function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)-(day!==i)});d3_time[day+"s"]=interval.range,d3_time[day+"s"].utc=interval.utc.range,d3_time[day+"OfYear"]=function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)}}),d3_time.week=d3_time.sunday,d3_time.weeks=d3_time.sunday.range,d3_time.weeks.utc=d3_time.sunday.utc.range,d3_time.weekOfYear=d3_time.sundayOfYear;var d3_time_formatPads={"-":"",_:" ",0:"0"},d3_time_numberRe=/^\s*\d+/,d3_time_percentRe=/^%/;d3.locale=function(locale){return{numberFormat:d3_locale_numberFormat(locale),timeFormat:d3_locale_timeFormat(locale)}};var d3_locale_enUS=d3.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});d3.format=d3_locale_enUS.numberFormat,d3.geo={},d3_adder.prototype={s:0,t:0,add:function(y){d3_adderSum(y,this.t,d3_adderTemp),d3_adderSum(d3_adderTemp.s,this.s,this),this.s?this.t+=d3_adderTemp.t:this.s=d3_adderTemp.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var d3_adderTemp=new d3_adder;d3.geo.stream=function(object,listener){object&&d3_geo_streamObjectType.hasOwnProperty(object.type)?d3_geo_streamObjectType[object.type](object,listener):d3_geo_streamGeometry(object,listener)};var d3_geo_streamObjectType={Feature:function(feature,listener){d3_geo_streamGeometry(feature.geometry,listener)},FeatureCollection:function(object,listener){for(var features=object.features,i=-1,n=features.length;++i<n;)d3_geo_streamGeometry(features[i].geometry,listener)}},d3_geo_streamGeometryType={Sphere:function(object,listener){listener.sphere()},Point:function(object,listener){object=object.coordinates,listener.point(object[0],object[1],object[2])},MultiPoint:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],listener.point(object[0],object[1],object[2])},LineString:function(object,listener){d3_geo_streamLine(object.coordinates,listener,0)},MultiLineString:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)d3_geo_streamLine(coordinates[i],listener,0)},Polygon:function(object,listener){d3_geo_streamPolygon(object.coordinates,listener)},MultiPolygon:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)d3_geo_streamPolygon(coordinates[i],listener)},GeometryCollection:function(object,listener){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)d3_geo_streamGeometry(geometries[i],listener)}};d3.geo.area=function(object){return d3_geo_areaSum=0,d3.geo.stream(object,d3_geo_area),d3_geo_areaSum};var d3_geo_areaSum,d3_geo_areaRingSum=new d3_adder,d3_geo_area={sphere:function(){d3_geo_areaSum+=4*π},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_areaRingSum.reset(),d3_geo_area.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var area=2*d3_geo_areaRingSum;d3_geo_areaSum+=0>area?4*π+area:area,d3_geo_area.lineStart=d3_geo_area.lineEnd=d3_geo_area.point=d3_noop}};d3.geo.bounds=function(){function point(λ,φ){ranges.push(range=[λ0=λ,λ1=λ]),φ0>φ&&(φ0=φ),φ>φ1&&(φ1=φ)}function linePoint(λ,φ){var p=d3_geo_cartesian([λ*d3_radians,φ*d3_radians]);if(p0){var normal=d3_geo_cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=d3_geo_cartesianCross(equatorial,normal);d3_geo_cartesianNormalize(inflection),inflection=d3_geo_spherical(inflection);var dλ=λ-λ_,s=dλ>0?1:-1,λi=inflection[0]*d3_degrees*s,antimeridian=abs(dλ)>180;if(antimeridian^(λi>s*λ_&&s*λ>λi)){var φi=inflection[1]*d3_degrees;φi>φ1&&(φ1=φi)}else if(λi=(λi+360)%360-180,antimeridian^(λi>s*λ_&&s*λ>λi)){var φi=-inflection[1]*d3_degrees;φ0>φi&&(φ0=φi)}else φ0>φ&&(φ0=φ),φ>φ1&&(φ1=φ);antimeridian?λ_>λ?angle(λ0,λ)>angle(λ0,λ1)&&(λ1=λ):angle(λ,λ1)>angle(λ0,λ1)&&(λ0=λ):λ1>=λ0?(λ0>λ&&(λ0=λ),λ>λ1&&(λ1=λ)):λ>λ_?angle(λ0,λ)>angle(λ0,λ1)&&(λ1=λ):angle(λ,λ1)>angle(λ0,λ1)&&(λ0=λ)}else point(λ,φ);p0=p,λ_=λ}function lineStart(){bound.point=linePoint}function lineEnd(){range[0]=λ0,range[1]=λ1,bound.point=point,p0=null}function ringPoint(λ,φ){if(p0){var dλ=λ-λ_;dλSum+=abs(dλ)>180?dλ+(dλ>0?360:-360):dλ}else λ__=λ,φ__=φ;d3_geo_area.point(λ,φ),linePoint(λ,φ)}function ringStart(){d3_geo_area.lineStart()}function ringEnd(){ringPoint(λ__,φ__),d3_geo_area.lineEnd(),abs(dλSum)>ε&&(λ0=-(λ1=180)),range[0]=λ0,range[1]=λ1,p0=null}function angle(λ0,λ1){return(λ1-=λ0)<0?λ1+360:λ1}function compareRanges(a,b){return a[0]-b[0]}function withinRange(x,range){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}var λ0,φ0,λ1,φ1,λ_,λ__,φ__,p0,dλSum,ranges,range,bound={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){bound.point=ringPoint,bound.lineStart=ringStart,bound.lineEnd=ringEnd,dλSum=0,d3_geo_area.polygonStart()},polygonEnd:function(){d3_geo_area.polygonEnd(),bound.point=point,bound.lineStart=lineStart,bound.lineEnd=lineEnd,0>d3_geo_areaRingSum?(λ0=-(λ1=180),φ0=-(φ1=90)):dλSum>ε?φ1=90:-ε>dλSum&&(φ0=-90),range[0]=λ0,range[1]=λ1}};return function(feature){φ1=λ1=-(λ0=φ0=1/0),ranges=[],d3.geo.stream(feature,bound);var n=ranges.length;if(n){ranges.sort(compareRanges);for(var b,i=1,a=ranges[0],merged=[a];n>i;++i)b=ranges[i],withinRange(b[0],a)||withinRange(b[1],a)?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(var dλ,b,best=-(1/0),n=merged.length-1,i=0,a=merged[n];n>=i;a=b,++i)b=merged[i],(dλ=angle(a[1],b[0]))>best&&(best=dλ,λ0=b[0],λ1=a[1])}return ranges=range=null,λ0===1/0||φ0===1/0?[[NaN,NaN],[NaN,NaN]]:[[λ0,φ0],[λ1,φ1]]}}(),d3.geo.centroid=function(object){d3_geo_centroidW0=d3_geo_centroidW1=d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,d3_geo_centroid);var x=d3_geo_centroidX2,y=d3_geo_centroidY2,z=d3_geo_centroidZ2,m=x*x+y*y+z*z;return ε2>m&&(x=d3_geo_centroidX1,y=d3_geo_centroidY1,z=d3_geo_centroidZ1,ε>d3_geo_centroidW1&&(x=d3_geo_centroidX0,y=d3_geo_centroidY0,z=d3_geo_centroidZ0),m=x*x+y*y+z*z,ε2>m)?[NaN,NaN]:[Math.atan2(y,x)*d3_degrees,d3_asin(z/Math.sqrt(m))*d3_degrees]};var d3_geo_centroidW0,d3_geo_centroidW1,d3_geo_centroidX0,d3_geo_centroidY0,d3_geo_centroidZ0,d3_geo_centroidX1,d3_geo_centroidY1,d3_geo_centroidZ1,d3_geo_centroidX2,d3_geo_centroidY2,d3_geo_centroidZ2,d3_geo_centroid={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){d3_geo_centroid.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){d3_geo_centroid.lineStart=d3_geo_centroidLineStart}},d3_geo_clipAntimeridian=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-π,-π/2]),d3_geo_clipExtentMAX=1e9;d3.geo.clipExtent=function(){var x0,y0,x1,y1,stream,clip,clipExtent={stream:function(output){return stream&&(stream.valid=!1),stream=clip(output),stream.valid=!0,stream},extent:function(_){return arguments.length?(clip=d3_geo_clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),stream&&(stream.valid=!1,stream=null),clipExtent):[[x0,y0],[x1,y1]]}};return clipExtent.extent([[0,0],[960,500]])},(d3.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,d3.geo.albers=function(){return d3.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},d3.geo.albersUsa=function(){function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point(x,y),point||(alaskaPoint(x,y),point)||hawaiiPoint(x,y),point}var point,lower48Point,alaskaPoint,hawaiiPoint,lower48=d3.geo.albers(),alaska=d3.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=d3.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&.234>y&&x>=-.425&&-.214>x?alaska:y>=.166&&.234>y&&x>=-.214&&-.115>x?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){var lower48Stream=lower48.stream(stream),alaskaStream=alaska.stream(stream),hawaiiStream=hawaii.stream(stream);return{point:function(x,y){lower48Stream.point(x,y),alaskaStream.point(x,y),hawaiiStream.point(x,y)},sphere:function(){lower48Stream.sphere(),alaskaStream.sphere(),hawaiiStream.sphere()},lineStart:function(){lower48Stream.lineStart(),alaskaStream.lineStart(),hawaiiStream.lineStart()},lineEnd:function(){lower48Stream.lineEnd(),alaskaStream.lineEnd(),hawaiiStream.lineEnd()},polygonStart:function(){lower48Stream.polygonStart(),alaskaStream.polygonStart(),hawaiiStream.polygonStart()},polygonEnd:function(){lower48Stream.polygonEnd(),alaskaStream.polygonEnd(),hawaiiStream.polygonEnd()}}},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),albersUsa):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream).point,alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(pointStream).point,hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(pointStream).point,albersUsa},albersUsa.scale(1070)};var d3_geo_pathAreaSum,d3_geo_pathAreaPolygon,d3_geo_pathBoundsX0,d3_geo_pathBoundsY0,d3_geo_pathBoundsX1,d3_geo_pathBoundsY1,d3_geo_pathArea={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_pathAreaPolygon=0,d3_geo_pathArea.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){d3_geo_pathArea.lineStart=d3_geo_pathArea.lineEnd=d3_geo_pathArea.point=d3_noop,d3_geo_pathAreaSum+=abs(d3_geo_pathAreaPolygon/2)}},d3_geo_pathBounds={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_pathCentroid={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint,d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidLineStart,d3_geo_pathCentroid.lineEnd=d3_geo_pathCentroidLineEnd}};d3.geo.path=function(){function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),cacheStream&&cacheStream.valid||(cacheStream=projectStream(contextStream)),d3.geo.stream(object,cacheStream)),contextStream.result()}function reset(){return cacheStream=null,path}var projection,context,projectStream,contextStream,cacheStream,pointRadius=4.5;return path.area=function(object){return d3_geo_pathAreaSum=0,d3.geo.stream(object,projectStream(d3_geo_pathArea)),d3_geo_pathAreaSum},path.centroid=function(object){return d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,projectStream(d3_geo_pathCentroid)),d3_geo_centroidZ2?[d3_geo_centroidX2/d3_geo_centroidZ2,d3_geo_centroidY2/d3_geo_centroidZ2]:d3_geo_centroidZ1?[d3_geo_centroidX1/d3_geo_centroidZ1,d3_geo_centroidY1/d3_geo_centroidZ1]:d3_geo_centroidZ0?[d3_geo_centroidX0/d3_geo_centroidZ0,d3_geo_centroidY0/d3_geo_centroidZ0]:[NaN,NaN]},path.bounds=function(object){return d3_geo_pathBoundsX1=d3_geo_pathBoundsY1=-(d3_geo_pathBoundsX0=d3_geo_pathBoundsY0=1/0),d3.geo.stream(object,projectStream(d3_geo_pathBounds)),[[d3_geo_pathBoundsX0,d3_geo_pathBoundsY0],[d3_geo_pathBoundsX1,d3_geo_pathBoundsY1]]},path.projection=function(_){return arguments.length?(projectStream=(projection=_)?_.stream||d3_geo_pathProjectStream(_):d3_identity,reset()):projection},path.context=function(_){return arguments.length?(contextStream=null==(context=_)?new d3_geo_pathBuffer:new d3_geo_pathContext(_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),reset()):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(d3.geo.albersUsa()).context(null)},d3.geo.transform=function(methods){return{stream:function(stream){var transform=new d3_geo_transform(stream);for(var k in methods)transform[k]=methods[k];return transform}}},d3_geo_transform.prototype={point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},d3.geo.projection=d3_geo_projection,d3.geo.projectionMutator=d3_geo_projectionMutator,(d3.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,d3.geo.rotation=function(rotate){function forward(coordinates){return coordinates=rotate(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates}return rotate=d3_geo_rotation(rotate[0]%360*d3_radians,rotate[1]*d3_radians,rotate.length>2?rotate[2]*d3_radians:0),forward.invert=function(coordinates){return coordinates=rotate.invert(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,d3.geo.circle=function(){function circle(){var center="function"==typeof origin?origin.apply(this,arguments):origin,rotate=d3_geo_rotation(-center[0]*d3_radians,-center[1]*d3_radians,0).invert,ring=[];return interpolate(null,null,1,{point:function(x,y){ring.push(x=rotate(x,y)),x[0]*=d3_degrees,x[1]*=d3_degrees}}),{type:"Polygon",coordinates:[ring]}}var angle,interpolate,origin=[0,0],precision=6;return circle.origin=function(x){return arguments.length?(origin=x,circle):origin},circle.angle=function(x){return arguments.length?(interpolate=d3_geo_circleInterpolate((angle=+x)*d3_radians,precision*d3_radians),circle):angle},circle.precision=function(_){return arguments.length?(interpolate=d3_geo_circleInterpolate(angle*d3_radians,(precision=+_)*d3_radians),circle):precision},circle.angle(90)},d3.geo.distance=function(a,b){var t,Δλ=(b[0]-a[0])*d3_radians,φ0=a[1]*d3_radians,φ1=b[1]*d3_radians,sinΔλ=Math.sin(Δλ),cosΔλ=Math.cos(Δλ),sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),sinφ1=Math.sin(φ1),cosφ1=Math.cos(φ1);return Math.atan2(Math.sqrt((t=cosφ1*sinΔλ)*t+(t=cosφ0*sinφ1-sinφ0*cosφ1*cosΔλ)*t),sinφ0*sinφ1+cosφ0*cosφ1*cosΔλ)},d3.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return d3.range(Math.ceil(X0/DX)*DX,X1,DX).map(X).concat(d3.range(Math.ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3.range(Math.ceil(x0/dx)*dx,x1,dx).filter(function(x){return abs(x%DX)>ε}).map(x)).concat(d3.range(Math.ceil(y0/dy)*dy,y1,dy).filter(function(y){return abs(y%DY)>ε}).map(y))}var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;return graticule.lines=function(){return lines().map(function(coordinates){return{type:"LineString",coordinates:coordinates}})},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.majorExtent(_).minorExtent(_):graticule.minorExtent()},graticule.majorExtent=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.minorExtent=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.majorStep(_).minorStep(_):graticule.minorStep()},graticule.majorStep=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.minorStep=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=d3_geo_graticuleX(y0,y1,90),y=d3_geo_graticuleY(x0,x1,precision),X=d3_geo_graticuleX(Y0,Y1,90),Y=d3_geo_graticuleY(X0,X1,precision),graticule):precision},graticule.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]])},d3.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[source_||source.apply(this,arguments),target_||target.apply(this,arguments)]}}var source_,target_,source=d3_source,target=d3_target;return greatArc.distance=function(){return d3.geo.distance(source_||source.apply(this,arguments),target_||target.apply(this,arguments))},greatArc.source=function(_){return arguments.length?(source=_,source_="function"==typeof _?null:_,greatArc):source},greatArc.target=function(_){return arguments.length?(target=_,target_="function"==typeof _?null:_,greatArc):target},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},d3.geo.interpolate=function(source,target){return d3_geo_interpolate(source[0]*d3_radians,source[1]*d3_radians,target[0]*d3_radians,target[1]*d3_radians)},d3.geo.length=function(object){return d3_geo_lengthSum=0,d3.geo.stream(object,d3_geo_length),d3_geo_lengthSum};var d3_geo_lengthSum,d3_geo_length={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_azimuthalEqualArea=d3_geo_azimuthal(function(cosλcosφ){return Math.sqrt(2/(1+cosλcosφ))},function(ρ){return 2*Math.asin(ρ/2)});(d3.geo.azimuthalEqualArea=function(){return d3_geo_projection(d3_geo_azimuthalEqualArea)}).raw=d3_geo_azimuthalEqualArea;var d3_geo_azimuthalEquidistant=d3_geo_azimuthal(function(cosλcosφ){var c=Math.acos(cosλcosφ);return c&&c/Math.sin(c)},d3_identity);(d3.geo.azimuthalEquidistant=function(){return d3_geo_projection(d3_geo_azimuthalEquidistant)}).raw=d3_geo_azimuthalEquidistant,(d3.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(d3.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var d3_geo_gnomonic=d3_geo_azimuthal(function(cosλcosφ){return 1/cosλcosφ},Math.atan);(d3.geo.gnomonic=function(){return d3_geo_projection(d3_geo_gnomonic)}).raw=d3_geo_gnomonic,d3_geo_mercator.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-halfπ]},(d3.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var d3_geo_orthographic=d3_geo_azimuthal(function(){return 1},Math.asin);(d3.geo.orthographic=function(){return d3_geo_projection(d3_geo_orthographic)}).raw=d3_geo_orthographic;var d3_geo_stereographic=d3_geo_azimuthal(function(cosλcosφ){return 1/(1+cosλcosφ)},function(ρ){return 2*Math.atan(ρ)});(d3.geo.stereographic=function(){return d3_geo_projection(d3_geo_stereographic)}).raw=d3_geo_stereographic,d3_geo_transverseMercator.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-halfπ]},(d3.geo.transverseMercator=function(){var projection=d3_geo_mercatorProjection(d3_geo_transverseMercator),center=projection.center,rotate=projection.rotate;return projection.center=function(_){return _?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])},projection.rotate=function(_){return _?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])},rotate([0,0,90])}).raw=d3_geo_transverseMercator,d3.geom={},d3.geom.hull=function(vertices){function hull(data){if(data.length<3)return[];var i,fx=d3_functor(x),fy=d3_functor(y),n=data.length,points=[],flippedPoints=[];for(i=0;n>i;i++)points.push([+fx.call(this,data[i],i),+fy.call(this,data[i],i),i]);for(points.sort(d3_geom_hullOrder),i=0;n>i;i++)flippedPoints.push([points[i][0],-points[i][1]]);var upper=d3_geom_hullUpper(points),lower=d3_geom_hullUpper(flippedPoints),skipLeft=lower[0]===upper[0],skipRight=lower[lower.length-1]===upper[upper.length-1],polygon=[];for(i=upper.length-1;i>=0;--i)polygon.push(data[points[upper[i]][2]]);for(i=+skipLeft;i<lower.length-skipRight;++i)polygon.push(data[points[lower[i]][2]]);return polygon}var x=d3_geom_pointX,y=d3_geom_pointY;return arguments.length?hull(vertices):(hull.x=function(_){return arguments.length?(x=_,hull):x},hull.y=function(_){return arguments.length?(y=_,hull):y},hull)},d3.geom.polygon=function(coordinates){return d3_subclass(coordinates,d3_geom_polygonPrototype),coordinates};var d3_geom_polygonPrototype=d3.geom.polygon.prototype=[];d3_geom_polygonPrototype.area=function(){for(var a,i=-1,n=this.length,b=this[n-1],area=0;++i<n;)a=b,b=this[i],area+=a[1]*b[0]-a[0]*b[1];return.5*area},d3_geom_polygonPrototype.centroid=function(k){var a,c,i=-1,n=this.length,x=0,y=0,b=this[n-1];for(arguments.length||(k=-1/(6*this.area()));++i<n;)a=b,b=this[i],c=a[0]*b[1]-b[0]*a[1],x+=(a[0]+b[0])*c,y+=(a[1]+b[1])*c;return[x*k,y*k]},d3_geom_polygonPrototype.clip=function(subject){for(var input,j,m,b,c,d,closed=d3_geom_polygonClosed(subject),i=-1,n=this.length-d3_geom_polygonClosed(this),a=this[n-1];++i<n;){for(input=subject.slice(),subject.length=0,b=this[i],c=input[(m=input.length-closed)-1],j=-1;++j<m;)d=input[j],d3_geom_polygonInside(d,a,b)?(d3_geom_polygonInside(c,a,b)||subject.push(d3_geom_polygonIntersect(c,d,a,b)),subject.push(d)):d3_geom_polygonInside(c,a,b)&&subject.push(d3_geom_polygonIntersect(c,d,a,b)),c=d;closed&&subject.push(subject[0]),a=b}return subject};var d3_geom_voronoiEdges,d3_geom_voronoiCells,d3_geom_voronoiBeaches,d3_geom_voronoiFirstCircle,d3_geom_voronoiCircles,d3_geom_voronoiBeachPool=[],d3_geom_voronoiCirclePool=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var edge,halfEdges=this.edges,iHalfEdge=halfEdges.length;iHalfEdge--;)edge=halfEdges[iHalfEdge].edge,edge.b&&edge.a||halfEdges.splice(iHalfEdge,1);return halfEdges.sort(d3_geom_voronoiHalfEdgeOrder),halfEdges.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(after,node){var parent,grandpa,uncle;if(after){if(node.P=after,node.N=after.N,after.N&&(after.N.P=node),after.N=node,after.R){for(after=after.R;after.L;)after=after.L;after.L=node}else after.R=node;parent=after}else this._?(after=d3_geom_voronoiRedBlackFirst(this._),node.P=null,node.N=after,after.P=after.L=node,parent=after):(node.P=node.N=null,this._=node,parent=null);for(node.L=node.R=null,node.U=parent,node.C=!0,after=node;parent&&parent.C;)grandpa=parent.U,parent===grandpa.L?(uncle=grandpa.R,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.R&&(d3_geom_voronoiRedBlackRotateLeft(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateRight(this,grandpa))):(uncle=grandpa.L,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.L&&(d3_geom_voronoiRedBlackRotateRight(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,grandpa))),parent=after.U;this._.C=!1},remove:function(node){node.N&&(node.N.P=node.P),node.P&&(node.P.N=node.N),node.N=node.P=null;var sibling,next,red,parent=node.U,left=node.L,right=node.R;if(next=left?right?d3_geom_voronoiRedBlackFirst(right):left:right,parent?parent.L===node?parent.L=next:parent.R=next:this._=next,left&&right?(red=next.C,next.C=node.C,next.L=left,left.U=next,next!==right?(parent=next.U,next.U=node.U,node=next.R,parent.L=node,next.R=right,right.U=next):(next.U=parent,parent=next,node=next.R)):(red=node.C,node=next),node&&(node.U=parent),!red){if(node&&node.C)return void(node.C=!1);do{if(node===this._)break;if(node===parent.L){if(sibling=parent.R,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,parent),sibling=parent.R),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.R&&sibling.R.C||(sibling.L.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateRight(this,sibling),sibling=parent.R),sibling.C=parent.C,parent.C=sibling.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,parent),node=this._;break}}else if(sibling=parent.L,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateRight(this,parent),sibling=parent.L),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.L&&sibling.L.C||(sibling.R.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,sibling),sibling=parent.L),sibling.C=parent.C,parent.C=sibling.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,parent),node=this._;break}sibling.C=!0,node=parent,parent=parent.U}while(!node.C);node&&(node.C=!1)}}},d3.geom.voronoi=function(points){function voronoi(data){var polygons=new Array(data.length),x0=clipExtent[0][0],y0=clipExtent[0][1],x1=clipExtent[1][0],y1=clipExtent[1][1];return d3_geom_voronoi(sites(data),clipExtent).cells.forEach(function(cell,i){var edges=cell.edges,site=cell.site,polygon=polygons[i]=edges.length?edges.map(function(e){var s=e.start();return[s.x,s.y]}):site.x>=x0&&site.x<=x1&&site.y>=y0&&site.y<=y1?[[x0,y1],[x1,y1],[x1,y0],[x0,y0]]:[];polygon.point=data[i]}),polygons}function sites(data){return data.map(function(d,i){return{x:Math.round(fx(d,i)/ε)*ε,y:Math.round(fy(d,i)/ε)*ε,i:i}})}var x=d3_geom_pointX,y=d3_geom_pointY,fx=x,fy=y,clipExtent=d3_geom_voronoiClipExtent;return points?voronoi(points):(voronoi.links=function(data){return d3_geom_voronoi(sites(data)).edges.filter(function(edge){return edge.l&&edge.r}).map(function(edge){return{source:data[edge.l.i],target:data[edge.r.i]}})},voronoi.triangles=function(data){var triangles=[];return d3_geom_voronoi(sites(data)).cells.forEach(function(cell,i){for(var e0,s0,site=cell.site,edges=cell.edges.sort(d3_geom_voronoiHalfEdgeOrder),j=-1,m=edges.length,e1=edges[m-1].edge,s1=e1.l===site?e1.r:e1.l;++j<m;)e0=e1,s0=s1,e1=edges[j].edge,s1=e1.l===site?e1.r:e1.l,i<s0.i&&i<s1.i&&d3_geom_voronoiTriangleArea(site,s0,s1)<0&&triangles.push([data[i],data[s0.i],data[s1.i]])}),triangles},voronoi.x=function(_){return arguments.length?(fx=d3_functor(x=_),voronoi):x},voronoi.y=function(_){return arguments.length?(fy=d3_functor(y=_),voronoi):y},voronoi.clipExtent=function(_){return arguments.length?(clipExtent=null==_?d3_geom_voronoiClipExtent:_,voronoi):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent},voronoi.size=function(_){return arguments.length?voronoi.clipExtent(_&&[[0,0],_]):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent&&clipExtent[1]},voronoi)};var d3_geom_voronoiClipExtent=[[-1e6,-1e6],[1e6,1e6]];d3.geom.delaunay=function(vertices){return d3.geom.voronoi().triangles(vertices)},d3.geom.quadtree=function(points,x1,y1,x2,y2){function quadtree(data){function insert(n,d,x,y,x1,y1,x2,y2){if(!isNaN(x)&&!isNaN(y))if(n.leaf){var nx=n.x,ny=n.y;if(null!=nx)if(abs(nx-x)+abs(ny-y)<.01)insertChild(n,d,x,y,x1,y1,x2,y2);else{var nPoint=n.point;n.x=n.y=n.point=null,insertChild(n,nPoint,nx,ny,x1,y1,x2,y2),insertChild(n,d,x,y,x1,y1,x2,y2)}else n.x=x,n.y=y,n.point=d}else insertChild(n,d,x,y,x1,y1,x2,y2)}function insertChild(n,d,x,y,x1,y1,x2,y2){var xm=.5*(x1+x2),ym=.5*(y1+y2),right=x>=xm,below=y>=ym,i=below<<1|right;n.leaf=!1,n=n.nodes[i]||(n.nodes[i]=d3_geom_quadtreeNode()),right?x1=xm:x2=xm,below?y1=ym:y2=ym,insert(n,d,x,y,x1,y1,x2,y2)}var d,xs,ys,i,n,x1_,y1_,x2_,y2_,fx=d3_functor(x),fy=d3_functor(y);if(null!=x1)x1_=x1,y1_=y1,x2_=x2,y2_=y2;else if(x2_=y2_=-(x1_=y1_=1/0),xs=[],ys=[],n=data.length,compat)for(i=0;n>i;++i)d=data[i],d.x<x1_&&(x1_=d.x),d.y<y1_&&(y1_=d.y),d.x>x2_&&(x2_=d.x),d.y>y2_&&(y2_=d.y),xs.push(d.x),ys.push(d.y);else for(i=0;n>i;++i){var x_=+fx(d=data[i],i),y_=+fy(d,i);x1_>x_&&(x1_=x_),y1_>y_&&(y1_=y_),x_>x2_&&(x2_=x_),y_>y2_&&(y2_=y_),xs.push(x_),ys.push(y_)}var dx=x2_-x1_,dy=y2_-y1_;dx>dy?y2_=y1_+dx:x2_=x1_+dy;var root=d3_geom_quadtreeNode();if(root.add=function(d){insert(root,d,+fx(d,++i),+fy(d,i),x1_,y1_,x2_,y2_)},root.visit=function(f){d3_geom_quadtreeVisit(f,root,x1_,y1_,x2_,y2_)},root.find=function(point){return d3_geom_quadtreeFind(root,point[0],point[1],x1_,y1_,x2_,y2_)},i=-1,null==x1){for(;++i<n;)insert(root,data[i],xs[i],ys[i],x1_,y1_,x2_,y2_);
--i}else data.forEach(root.add);return xs=ys=data=d=null,root}var compat,x=d3_geom_pointX,y=d3_geom_pointY;return(compat=arguments.length)?(x=d3_geom_quadtreeCompatX,y=d3_geom_quadtreeCompatY,3===compat&&(y2=y1,x2=x1,y1=x1=0),quadtree(points)):(quadtree.x=function(_){return arguments.length?(x=_,quadtree):x},quadtree.y=function(_){return arguments.length?(y=_,quadtree):y},quadtree.extent=function(_){return arguments.length?(null==_?x1=y1=x2=y2=null:(x1=+_[0][0],y1=+_[0][1],x2=+_[1][0],y2=+_[1][1]),quadtree):null==x1?null:[[x1,y1],[x2,y2]]},quadtree.size=function(_){return arguments.length?(null==_?x1=y1=x2=y2=null:(x1=y1=0,x2=+_[0],y2=+_[1]),quadtree):null==x1?null:[x2-x1,y2-y1]},quadtree)},d3.interpolateRgb=d3_interpolateRgb,d3.interpolateObject=d3_interpolateObject,d3.interpolateNumber=d3_interpolateNumber,d3.interpolateString=d3_interpolateString;var d3_interpolate_numberA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d3_interpolate_numberB=new RegExp(d3_interpolate_numberA.source,"g");d3.interpolate=d3_interpolate,d3.interpolators=[function(a,b){var t=typeof b;return("string"===t?d3_rgb_names.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?d3_interpolateRgb:d3_interpolateString:b instanceof d3_color?d3_interpolateRgb:Array.isArray(b)?d3_interpolateArray:"object"===t&&isNaN(b)?d3_interpolateObject:d3_interpolateNumber)(a,b)}],d3.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},d3_ease=d3.map({linear:d3_ease_default,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),d3_ease_mode=d3.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(f){return d3_ease_reflect(d3_ease_reverse(f))}});d3.ease=function(name){var i=name.indexOf("-"),t=i>=0?name.slice(0,i):name,m=i>=0?name.slice(i+1):"in";return t=d3_ease.get(t)||d3_ease_default,m=d3_ease_mode.get(m)||d3_identity,d3_ease_clamp(m(t.apply(null,d3_arraySlice.call(arguments,1))))},d3.interpolateHcl=d3_interpolateHcl,d3.interpolateHsl=d3_interpolateHsl,d3.interpolateLab=d3_interpolateLab,d3.interpolateRound=d3_interpolateRound,d3.transform=function(string){var g=d3_document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(string){if(null!=string){g.setAttribute("transform",string);var t=g.transform.baseVal.consolidate()}return new d3_transform(t?t.matrix:d3_transformIdentity)})(string)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var d3_transformIdentity={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolateTransform=d3_interpolateTransform,d3.layout={},d3.layout.bundle=function(){return function(links){for(var paths=[],i=-1,n=links.length;++i<n;)paths.push(d3_layout_bundlePath(links[i]));return paths}},d3.layout.chord=function(){function relayout(){var k,x,x0,i,j,subgroups={},groupSums=[],groupIndex=d3.range(n),subgroupIndex=[];for(chords=[],groups=[],k=0,i=-1;++i<n;){for(x=0,j=-1;++j<n;)x+=matrix[i][j];groupSums.push(x),subgroupIndex.push(d3.range(n)),k+=x}for(sortGroups&&groupIndex.sort(function(a,b){return sortGroups(groupSums[a],groupSums[b])}),sortSubgroups&&subgroupIndex.forEach(function(d,i){d.sort(function(a,b){return sortSubgroups(matrix[i][a],matrix[i][b])})}),k=(τ-padding*n)/k,x=0,i=-1;++i<n;){for(x0=x,j=-1;++j<n;){var di=groupIndex[i],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[di+"-"+dj]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:(x-x0)/k},x+=padding}for(i=-1;++i<n;)for(j=i-1;++j<n;){var source=subgroups[i+"-"+j],target=subgroups[j+"-"+i];(source.value||target.value)&&chords.push(source.value<target.value?{source:target,target:source}:{source:source,target:target})}sortChords&&resort()}function resort(){chords.sort(function(a,b){return sortChords((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var chords,groups,matrix,n,sortGroups,sortSubgroups,sortChords,chord={},padding=0;return chord.matrix=function(x){return arguments.length?(n=(matrix=x)&&matrix.length,chords=groups=null,chord):matrix},chord.padding=function(x){return arguments.length?(padding=x,chords=groups=null,chord):padding},chord.sortGroups=function(x){return arguments.length?(sortGroups=x,chords=groups=null,chord):sortGroups},chord.sortSubgroups=function(x){return arguments.length?(sortSubgroups=x,chords=null,chord):sortSubgroups},chord.sortChords=function(x){return arguments.length?(sortChords=x,chords&&resort(),chord):sortChords},chord.chords=function(){return chords||relayout(),chords},chord.groups=function(){return groups||relayout(),groups},chord},d3.layout.force=function(){function repulse(node){return function(quad,x1,_,x2){if(quad.point!==node){var dx=quad.cx-node.x,dy=quad.cy-node.y,dw=x2-x1,dn=dx*dx+dy*dy;if(dn>dw*dw/theta2){if(chargeDistance2>dn){var k=quad.charge/dn;node.px-=dx*k,node.py-=dy*k}return!0}if(quad.point&&dn&&chargeDistance2>dn){var k=quad.pointCharge/dn;node.px-=dx*k,node.py-=dy*k}}return!quad.charge}}function dragmove(d){d.px=d3.event.x,d.py=d3.event.y,force.resume()}var drag,alpha,distances,strengths,charges,force={},event=d3.dispatch("start","tick","end"),size=[1,1],friction=.9,linkDistance=d3_layout_forceLinkDistance,linkStrength=d3_layout_forceLinkStrength,charge=-30,chargeDistance2=d3_layout_forceChargeDistance2,gravity=.1,theta2=.64,nodes=[],links=[];return force.tick=function(){if((alpha*=.99)<.005)return event.end({type:"end",alpha:alpha=0}),!0;var q,i,o,s,t,l,k,x,y,n=nodes.length,m=links.length;for(i=0;m>i;++i)o=links[i],s=o.source,t=o.target,x=t.x-s.x,y=t.y-s.y,(l=x*x+y*y)&&(l=alpha*strengths[i]*((l=Math.sqrt(l))-distances[i])/l,x*=l,y*=l,t.x-=x*(k=s.weight/(t.weight+s.weight)),t.y-=y*k,s.x+=x*(k=1-k),s.y+=y*k);if((k=alpha*gravity)&&(x=size[0]/2,y=size[1]/2,i=-1,k))for(;++i<n;)o=nodes[i],o.x+=(x-o.x)*k,o.y+=(y-o.y)*k;if(charge)for(d3_layout_forceAccumulate(q=d3.geom.quadtree(nodes),alpha,charges),i=-1;++i<n;)(o=nodes[i]).fixed||q.visit(repulse(o));for(i=-1;++i<n;)o=nodes[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*friction,o.y-=(o.py-(o.py=o.y))*friction);event.tick({type:"tick",alpha:alpha})},force.nodes=function(x){return arguments.length?(nodes=x,force):nodes},force.links=function(x){return arguments.length?(links=x,force):links},force.size=function(x){return arguments.length?(size=x,force):size},force.linkDistance=function(x){return arguments.length?(linkDistance="function"==typeof x?x:+x,force):linkDistance},force.distance=force.linkDistance,force.linkStrength=function(x){return arguments.length?(linkStrength="function"==typeof x?x:+x,force):linkStrength},force.friction=function(x){return arguments.length?(friction=+x,force):friction},force.charge=function(x){return arguments.length?(charge="function"==typeof x?x:+x,force):charge},force.chargeDistance=function(x){return arguments.length?(chargeDistance2=x*x,force):Math.sqrt(chargeDistance2)},force.gravity=function(x){return arguments.length?(gravity=+x,force):gravity},force.theta=function(x){return arguments.length?(theta2=x*x,force):Math.sqrt(theta2)},force.alpha=function(x){return arguments.length?(x=+x,alpha?alpha=x>0?x:0:x>0&&(event.start({type:"start",alpha:alpha=x}),d3.timer(force.tick)),force):alpha},force.start=function(){function position(dimension,size){if(!neighbors){for(neighbors=new Array(n),j=0;n>j;++j)neighbors[j]=[];for(j=0;m>j;++j){var o=links[j];neighbors[o.source.index].push(o.target),neighbors[o.target.index].push(o.source)}}for(var x,candidates=neighbors[i],j=-1,l=candidates.length;++j<l;)if(!isNaN(x=candidates[j][dimension]))return x;return Math.random()*size}var i,neighbors,o,n=nodes.length,m=links.length,w=size[0],h=size[1];for(i=0;n>i;++i)(o=nodes[i]).index=i,o.weight=0;for(i=0;m>i;++i)o=links[i],"number"==typeof o.source&&(o.source=nodes[o.source]),"number"==typeof o.target&&(o.target=nodes[o.target]),++o.source.weight,++o.target.weight;for(i=0;n>i;++i)o=nodes[i],isNaN(o.x)&&(o.x=position("x",w)),isNaN(o.y)&&(o.y=position("y",h)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(distances=[],"function"==typeof linkDistance)for(i=0;m>i;++i)distances[i]=+linkDistance.call(this,links[i],i);else for(i=0;m>i;++i)distances[i]=linkDistance;if(strengths=[],"function"==typeof linkStrength)for(i=0;m>i;++i)strengths[i]=+linkStrength.call(this,links[i],i);else for(i=0;m>i;++i)strengths[i]=linkStrength;if(charges=[],"function"==typeof charge)for(i=0;n>i;++i)charges[i]=+charge.call(this,nodes[i],i);else for(i=0;n>i;++i)charges[i]=charge;return force.resume()},force.resume=function(){return force.alpha(.1)},force.stop=function(){return force.alpha(0)},force.drag=function(){return drag||(drag=d3.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),arguments.length?void this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(drag):drag},d3.rebind(force,event,"on")};var d3_layout_forceLinkDistance=20,d3_layout_forceLinkStrength=1,d3_layout_forceChargeDistance2=1/0;d3.layout.hierarchy=function(){function hierarchy(root){var node,stack=[root],nodes=[];for(root.depth=0;null!=(node=stack.pop());)if(nodes.push(node),(childs=children.call(hierarchy,node,node.depth))&&(n=childs.length)){for(var n,childs,child;--n>=0;)stack.push(child=childs[n]),child.parent=node,child.depth=node.depth+1;value&&(node.value=0),node.children=childs}else value&&(node.value=+value.call(hierarchy,node,node.depth)||0),delete node.children;return d3_layout_hierarchyVisitAfter(root,function(node){var childs,parent;sort&&(childs=node.children)&&childs.sort(sort),value&&(parent=node.parent)&&(parent.value+=node.value)}),nodes}var sort=d3_layout_hierarchySort,children=d3_layout_hierarchyChildren,value=d3_layout_hierarchyValue;return hierarchy.sort=function(x){return arguments.length?(sort=x,hierarchy):sort},hierarchy.children=function(x){return arguments.length?(children=x,hierarchy):children},hierarchy.value=function(x){return arguments.length?(value=x,hierarchy):value},hierarchy.revalue=function(root){return value&&(d3_layout_hierarchyVisitBefore(root,function(node){node.children&&(node.value=0)}),d3_layout_hierarchyVisitAfter(root,function(node){var parent;node.children||(node.value=+value.call(hierarchy,node,node.depth)||0),(parent=node.parent)&&(parent.value+=node.value)})),root},hierarchy},d3.layout.partition=function(){function position(node,x,dx,dy){var children=node.children;if(node.x=x,node.y=node.depth*dy,node.dx=dx,node.dy=dy,children&&(n=children.length)){var n,c,d,i=-1;for(dx=node.value?dx/node.value:0;++i<n;)position(c=children[i],x,d=c.value*dx,dy),x+=d}}function depth(node){var children=node.children,d=0;if(children&&(n=children.length))for(var n,i=-1;++i<n;)d=Math.max(d,depth(children[i]));return 1+d}function partition(d,i){var nodes=hierarchy.call(this,d,i);return position(nodes[0],0,size[0],size[1]/depth(nodes[0])),nodes}var hierarchy=d3.layout.hierarchy(),size=[1,1];return partition.size=function(x){return arguments.length?(size=x,partition):size},d3_layout_hierarchyRebind(partition,hierarchy)},d3.layout.pie=function(){function pie(data){var v,n=data.length,values=data.map(function(d,i){return+value.call(pie,d,i)}),a=+("function"==typeof startAngle?startAngle.apply(this,arguments):startAngle),da=("function"==typeof endAngle?endAngle.apply(this,arguments):endAngle)-a,p=Math.min(Math.abs(da)/n,+("function"==typeof padAngle?padAngle.apply(this,arguments):padAngle)),pa=p*(0>da?-1:1),k=(da-n*pa)/d3.sum(values),index=d3.range(n),arcs=[];return null!=sort&&index.sort(sort===d3_layout_pieSortByValue?function(i,j){return values[j]-values[i]}:function(i,j){return sort(data[i],data[j])}),index.forEach(function(i){arcs[i]={data:data[i],value:v=values[i],startAngle:a,endAngle:a+=v*k+pa,padAngle:p}}),arcs}var value=Number,sort=d3_layout_pieSortByValue,startAngle=0,endAngle=τ,padAngle=0;return pie.value=function(_){return arguments.length?(value=_,pie):value},pie.sort=function(_){return arguments.length?(sort=_,pie):sort},pie.startAngle=function(_){return arguments.length?(startAngle=_,pie):startAngle},pie.endAngle=function(_){return arguments.length?(endAngle=_,pie):endAngle},pie.padAngle=function(_){return arguments.length?(padAngle=_,pie):padAngle},pie};var d3_layout_pieSortByValue={};d3.layout.stack=function(){function stack(data,index){if(!(n=data.length))return data;var series=data.map(function(d,i){return values.call(stack,d,i)}),points=series.map(function(d){return d.map(function(v,i){return[x.call(stack,v,i),y.call(stack,v,i)]})}),orders=order.call(stack,points,index);series=d3.permute(series,orders),points=d3.permute(points,orders);var n,i,j,o,offsets=offset.call(stack,points,index),m=series[0].length;for(j=0;m>j;++j)for(out.call(stack,series[0][j],o=offsets[j],points[0][j][1]),i=1;n>i;++i)out.call(stack,series[i][j],o+=points[i-1][j][1],points[i][j][1]);return data}var values=d3_identity,order=d3_layout_stackOrderDefault,offset=d3_layout_stackOffsetZero,out=d3_layout_stackOut,x=d3_layout_stackX,y=d3_layout_stackY;return stack.values=function(x){return arguments.length?(values=x,stack):values},stack.order=function(x){return arguments.length?(order="function"==typeof x?x:d3_layout_stackOrders.get(x)||d3_layout_stackOrderDefault,stack):order},stack.offset=function(x){return arguments.length?(offset="function"==typeof x?x:d3_layout_stackOffsets.get(x)||d3_layout_stackOffsetZero,stack):offset},stack.x=function(z){return arguments.length?(x=z,stack):x},stack.y=function(z){return arguments.length?(y=z,stack):y},stack.out=function(z){return arguments.length?(out=z,stack):out},stack};var d3_layout_stackOrders=d3.map({"inside-out":function(data){var i,j,n=data.length,max=data.map(d3_layout_stackMaxIndex),sums=data.map(d3_layout_stackReduceSum),index=d3.range(n).sort(function(a,b){return max[a]-max[b]}),top=0,bottom=0,tops=[],bottoms=[];for(i=0;n>i;++i)j=index[i],bottom>top?(top+=sums[j],tops.push(j)):(bottom+=sums[j],bottoms.push(j));return bottoms.reverse().concat(tops)},reverse:function(data){return d3.range(data.length).reverse()},"default":d3_layout_stackOrderDefault}),d3_layout_stackOffsets=d3.map({silhouette:function(data){var i,j,o,n=data.length,m=data[0].length,sums=[],max=0,y0=[];for(j=0;m>j;++j){for(i=0,o=0;n>i;i++)o+=data[i][j][1];o>max&&(max=o),sums.push(o)}for(j=0;m>j;++j)y0[j]=(max-sums[j])/2;return y0},wiggle:function(data){var i,j,k,s1,s2,s3,dx,o,o0,n=data.length,x=data[0],m=x.length,y0=[];for(y0[0]=o=o0=0,j=1;m>j;++j){for(i=0,s1=0;n>i;++i)s1+=data[i][j][1];for(i=0,s2=0,dx=x[j][0]-x[j-1][0];n>i;++i){for(k=0,s3=(data[i][j][1]-data[i][j-1][1])/(2*dx);i>k;++k)s3+=(data[k][j][1]-data[k][j-1][1])/dx;s2+=s3*data[i][j][1]}y0[j]=o-=s1?s2/s1*dx:0,o0>o&&(o0=o)}for(j=0;m>j;++j)y0[j]-=o0;return y0},expand:function(data){var i,j,o,n=data.length,m=data[0].length,k=1/n,y0=[];for(j=0;m>j;++j){for(i=0,o=0;n>i;i++)o+=data[i][j][1];if(o)for(i=0;n>i;i++)data[i][j][1]/=o;else for(i=0;n>i;i++)data[i][j][1]=k}for(j=0;m>j;++j)y0[j]=0;return y0},zero:d3_layout_stackOffsetZero});d3.layout.histogram=function(){function histogram(data,i){for(var bin,x,bins=[],values=data.map(valuer,this),range=ranger.call(this,values,i),thresholds=binner.call(this,range,values,i),i=-1,n=values.length,m=thresholds.length-1,k=frequency?1:1/n;++i<m;)bin=bins[i]=[],bin.dx=thresholds[i+1]-(bin.x=thresholds[i]),bin.y=0;if(m>0)for(i=-1;++i<n;)x=values[i],x>=range[0]&&x<=range[1]&&(bin=bins[d3.bisect(thresholds,x,1,m)-1],bin.y+=k,bin.push(data[i]));return bins}var frequency=!0,valuer=Number,ranger=d3_layout_histogramRange,binner=d3_layout_histogramBinSturges;return histogram.value=function(x){return arguments.length?(valuer=x,histogram):valuer},histogram.range=function(x){return arguments.length?(ranger=d3_functor(x),histogram):ranger},histogram.bins=function(x){return arguments.length?(binner="number"==typeof x?function(range){return d3_layout_histogramBinFixed(range,x)}:d3_functor(x),histogram):binner},histogram.frequency=function(x){return arguments.length?(frequency=!!x,histogram):frequency},histogram},d3.layout.pack=function(){function pack(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],w=size[0],h=size[1],r=null==radius?Math.sqrt:"function"==typeof radius?radius:function(){return radius};if(root.x=root.y=0,d3_layout_hierarchyVisitAfter(root,function(d){d.r=+r(d.value)}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),padding){var dr=padding*(radius?1:Math.max(2*root.r/w,2*root.r/h))/2;d3_layout_hierarchyVisitAfter(root,function(d){d.r+=dr}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(root,function(d){d.r-=dr})}return d3_layout_packTransform(root,w/2,h/2,radius?1:1/Math.max(2*root.r/w,2*root.r/h)),nodes}var radius,hierarchy=d3.layout.hierarchy().sort(d3_layout_packSort),padding=0,size=[1,1];return pack.size=function(_){return arguments.length?(size=_,pack):size},pack.radius=function(_){return arguments.length?(radius=null==_||"function"==typeof _?_:+_,pack):radius},pack.padding=function(_){return arguments.length?(padding=+_,pack):padding},d3_layout_hierarchyRebind(pack,hierarchy)},d3.layout.tree=function(){function tree(d,i){var nodes=hierarchy.call(this,d,i),root0=nodes[0],root1=wrapTree(root0);if(d3_layout_hierarchyVisitAfter(root1,firstWalk),root1.parent.m=-root1.z,d3_layout_hierarchyVisitBefore(root1,secondWalk),nodeSize)d3_layout_hierarchyVisitBefore(root0,sizeNode);else{var left=root0,right=root0,bottom=root0;d3_layout_hierarchyVisitBefore(root0,function(node){node.x<left.x&&(left=node),node.x>right.x&&(right=node),node.depth>bottom.depth&&(bottom=node)});var tx=separation(left,right)/2-left.x,kx=size[0]/(right.x+separation(right,left)/2+tx),ky=size[1]/(bottom.depth||1);d3_layout_hierarchyVisitBefore(root0,function(node){node.x=(node.x+tx)*kx,node.y=node.depth*ky})}return nodes}function wrapTree(root0){for(var node1,root1={A:null,children:[root0]},queue=[root1];null!=(node1=queue.pop());)for(var child,children=node1.children,i=0,n=children.length;n>i;++i)queue.push((children[i]=child={_:children[i],parent:node1,children:(child=children[i].children)&&child.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=child);return root1.children[0]}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children.length){d3_layout_treeShift(v);var midpoint=(children[0].z+children[children.length-1].z)/2;w?(v.z=w.z+separation(v._,w._),v.m=v.z-midpoint):v.z=midpoint}else w&&(v.z=w.z+separation(v._,w._));v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){for(var shift,vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m;vim=d3_layout_treeRight(vim),vip=d3_layout_treeLeft(vip),vim&&vip;)vom=d3_layout_treeLeft(vom),vop=d3_layout_treeRight(vop),vop.a=v,shift=vim.z+sim-vip.z-sip+separation(vim._,vip._),shift>0&&(d3_layout_treeMove(d3_layout_treeAncestor(vim,v,ancestor),v,shift),sip+=shift,sop+=shift),sim+=vim.m,sip+=vip.m,som+=vom.m,sop+=vop.m;vim&&!d3_layout_treeRight(vop)&&(vop.t=vim,vop.m+=sim-sop),vip&&!d3_layout_treeLeft(vom)&&(vom.t=vip,vom.m+=sip-som,ancestor=v)}return ancestor}function sizeNode(node){node.x*=size[0],node.y=node.depth*size[1]}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=null;return tree.separation=function(x){return arguments.length?(separation=x,tree):separation},tree.size=function(x){return arguments.length?(nodeSize=null==(size=x)?sizeNode:null,tree):nodeSize?null:size},tree.nodeSize=function(x){return arguments.length?(nodeSize=null==(size=x)?null:sizeNode,tree):nodeSize?size:null},d3_layout_hierarchyRebind(tree,hierarchy)},d3.layout.cluster=function(){function cluster(d,i){var previousNode,nodes=hierarchy.call(this,d,i),root=nodes[0],x=0;d3_layout_hierarchyVisitAfter(root,function(node){var children=node.children;children&&children.length?(node.x=d3_layout_clusterX(children),node.y=d3_layout_clusterY(children)):(node.x=previousNode?x+=separation(node,previousNode):0,node.y=0,previousNode=node)});var left=d3_layout_clusterLeft(root),right=d3_layout_clusterRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return d3_layout_hierarchyVisitAfter(root,nodeSize?function(node){node.x=(node.x-root.x)*size[0],node.y=(root.y-node.y)*size[1]}:function(node){node.x=(node.x-x0)/(x1-x0)*size[0],node.y=(1-(root.y?node.y/root.y:1))*size[1]}),nodes}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=!1;return cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation},cluster.size=function(x){return arguments.length?(nodeSize=null==(size=x),cluster):nodeSize?null:size},cluster.nodeSize=function(x){return arguments.length?(nodeSize=null!=(size=x),cluster):nodeSize?size:null},d3_layout_hierarchyRebind(cluster,hierarchy)},d3.layout.treemap=function(){function scale(children,k){for(var child,area,i=-1,n=children.length;++i<n;)area=(child=children[i]).value*(0>k?0:k),child.area=isNaN(area)||0>=area?0:area}function squarify(node){var children=node.children;if(children&&children.length){var child,score,n,rect=pad(node),row=[],remaining=children.slice(),best=1/0,u="slice"===mode?rect.dx:"dice"===mode?rect.dy:"slice-dice"===mode?1&node.depth?rect.dy:rect.dx:Math.min(rect.dx,rect.dy);for(scale(remaining,rect.dx*rect.dy/node.value),row.area=0;(n=remaining.length)>0;)row.push(child=remaining[n-1]),row.area+=child.area,"squarify"!==mode||(score=worst(row,u))<=best?(remaining.pop(),best=score):(row.area-=row.pop().area,position(row,u,rect,!1),u=Math.min(rect.dx,rect.dy),row.length=row.area=0,best=1/0);row.length&&(position(row,u,rect,!0),row.length=row.area=0),children.forEach(squarify)}}function stickify(node){var children=node.children;if(children&&children.length){var child,rect=pad(node),remaining=children.slice(),row=[];for(scale(remaining,rect.dx*rect.dy/node.value),row.area=0;child=remaining.pop();)row.push(child),row.area+=child.area,null!=child.z&&(position(row,child.z?rect.dx:rect.dy,rect,!remaining.length),row.length=row.area=0);children.forEach(stickify)}}function worst(row,u){for(var r,s=row.area,rmax=0,rmin=1/0,i=-1,n=row.length;++i<n;)(r=row[i].area)&&(rmin>r&&(rmin=r),r>rmax&&(rmax=r));return s*=s,u*=u,s?Math.max(u*rmax*ratio/s,s/(u*rmin*ratio)):1/0}function position(row,u,rect,flush){var o,i=-1,n=row.length,x=rect.x,y=rect.y,v=u?round(row.area/u):0;if(u==rect.dx){for((flush||v>rect.dy)&&(v=rect.dy);++i<n;)o=row[i],o.x=x,o.y=y,o.dy=v,x+=o.dx=Math.min(rect.x+rect.dx-x,v?round(o.area/v):0);o.z=!0,o.dx+=rect.x+rect.dx-x,rect.y+=v,rect.dy-=v}else{for((flush||v>rect.dx)&&(v=rect.dx);++i<n;)o=row[i],o.x=x,o.y=y,o.dx=v,y+=o.dy=Math.min(rect.y+rect.dy-y,v?round(o.area/v):0);o.z=!1,o.dy+=rect.y+rect.dy-y,rect.x+=v,rect.dx-=v}}function treemap(d){var nodes=stickies||hierarchy(d),root=nodes[0];return root.x=0,root.y=0,root.dx=size[0],root.dy=size[1],stickies&&hierarchy.revalue(root),scale([root],root.dx*root.dy/root.value),(stickies?stickify:squarify)(root),sticky&&(stickies=nodes),nodes}var stickies,hierarchy=d3.layout.hierarchy(),round=Math.round,size=[1,1],padding=null,pad=d3_layout_treemapPadNull,sticky=!1,mode="squarify",ratio=.5*(1+Math.sqrt(5));return treemap.size=function(x){return arguments.length?(size=x,treemap):size},treemap.padding=function(x){function padFunction(node){var p=x.call(treemap,node,node.depth);return null==p?d3_layout_treemapPadNull(node):d3_layout_treemapPad(node,"number"==typeof p?[p,p,p,p]:p)}function padConstant(node){return d3_layout_treemapPad(node,x)}if(!arguments.length)return padding;var type;return pad=null==(padding=x)?d3_layout_treemapPadNull:"function"==(type=typeof x)?padFunction:"number"===type?(x=[x,x,x,x],padConstant):padConstant,treemap},treemap.round=function(x){return arguments.length?(round=x?Math.round:Number,treemap):round!=Number},treemap.sticky=function(x){return arguments.length?(sticky=x,stickies=null,treemap):sticky},treemap.ratio=function(x){return arguments.length?(ratio=x,treemap):ratio},treemap.mode=function(x){return arguments.length?(mode=x+"",treemap):mode},d3_layout_hierarchyRebind(treemap,hierarchy)},d3.random={normal:function(µ,σ){var n=arguments.length;return 2>n&&(σ=1),1>n&&(µ=0),function(){var x,y,r;do x=2*Math.random()-1,y=2*Math.random()-1,r=x*x+y*y;while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var random=d3.random.normal.apply(d3,arguments);return function(){return Math.exp(random())}},bates:function(m){var random=d3.random.irwinHall(m);return function(){return random()/m}},irwinHall:function(m){return function(){for(var s=0,j=0;m>j;j++)s+=Math.random();return s}}},d3.scale={};var d3_scale_niceIdentity={floor:d3_identity,ceil:d3_identity};d3.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var d3_scale_linearFormatSignificant={s:1,g:1,p:1,r:1,e:1};d3.scale.log=function(){return d3_scale_log(d3.scale.linear().domain([0,1]),10,!0,[1,10])};var d3_scale_logFormat=d3.format(".0e"),d3_scale_logNiceNegative={floor:function(x){return-Math.ceil(-x)},ceil:function(x){return-Math.floor(-x)}};d3.scale.pow=function(){return d3_scale_pow(d3.scale.linear(),1,[0,1])},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(d3_category10)},d3.scale.category20=function(){return d3.scale.ordinal().range(d3_category20)},d3.scale.category20b=function(){return d3.scale.ordinal().range(d3_category20b)},d3.scale.category20c=function(){return d3.scale.ordinal().range(d3_category20c)};var d3_category10=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),d3_category20=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),d3_category20b=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),d3_category20c=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);d3.scale.quantile=function(){return d3_scale_quantile([],[])},d3.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},d3.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},d3.scale.identity=function(){return d3_scale_identity([0,1])},d3.svg={},d3.svg.arc=function(){function arc(){var r0=Math.max(0,+innerRadius.apply(this,arguments)),r1=Math.max(0,+outerRadius.apply(this,arguments)),a0=startAngle.apply(this,arguments)-halfπ,a1=endAngle.apply(this,arguments)-halfπ,da=Math.abs(a1-a0),cw=a0>a1?0:1;if(r0>r1&&(rc=r1,r1=r0,r0=rc),da>=τε)return circleSegment(r1,cw)+(r0?circleSegment(r0,1-cw):"")+"Z";var rc,cr,rp,ap,x0,y0,x1,y1,x2,y2,x3,y3,p0=0,p1=0,path=[];if((ap=(+padAngle.apply(this,arguments)||0)/2)&&(rp=padRadius===d3_svg_arcAuto?Math.sqrt(r0*r0+r1*r1):+padRadius.apply(this,arguments),cw||(p1*=-1),r1&&(p1=d3_asin(rp/r1*Math.sin(ap))),r0&&(p0=d3_asin(rp/r0*Math.sin(ap)))),r1){x0=r1*Math.cos(a0+p1),y0=r1*Math.sin(a0+p1),x1=r1*Math.cos(a1-p1),y1=r1*Math.sin(a1-p1);var l1=Math.abs(a1-a0-2*p1)<=π?0:1;if(p1&&d3_svg_arcSweep(x0,y0,x1,y1)===cw^l1){var h1=(a0+a1)/2;x0=r1*Math.cos(h1),y0=r1*Math.sin(h1),x1=y1=null}}else x0=y0=0;if(r0){x2=r0*Math.cos(a1-p0),y2=r0*Math.sin(a1-p0),x3=r0*Math.cos(a0+p0),y3=r0*Math.sin(a0+p0);var l0=Math.abs(a0-a1+2*p0)<=π?0:1;if(p0&&d3_svg_arcSweep(x2,y2,x3,y3)===1-cw^l0){var h0=(a0+a1)/2;x2=r0*Math.cos(h0),y2=r0*Math.sin(h0),x3=y3=null}}else x2=y2=0;if((rc=Math.min(Math.abs(r1-r0)/2,+cornerRadius.apply(this,arguments)))>.001){cr=r1>r0^cw?0:1;var oc=null==x3?[x2,y2]:null==x1?[x0,y0]:d3_geom_polygonIntersect([x0,y0],[x3,y3],[x1,y1],[x2,y2]),ax=x0-oc[0],ay=y0-oc[1],bx=x1-oc[0],by=y1-oc[1],kc=1/Math.sin(Math.acos((ax*bx+ay*by)/(Math.sqrt(ax*ax+ay*ay)*Math.sqrt(bx*bx+by*by)))/2),lc=Math.sqrt(oc[0]*oc[0]+oc[1]*oc[1]);if(null!=x1){var rc1=Math.min(rc,(r1-lc)/(kc+1)),t30=d3_svg_arcCornerTangents(null==x3?[x2,y2]:[x3,y3],[x0,y0],r1,rc1,cw),t12=d3_svg_arcCornerTangents([x1,y1],[x2,y2],r1,rc1,cw);rc===rc1?path.push("M",t30[0],"A",rc1,",",rc1," 0 0,",cr," ",t30[1],"A",r1,",",r1," 0 ",1-cw^d3_svg_arcSweep(t30[1][0],t30[1][1],t12[1][0],t12[1][1]),",",cw," ",t12[1],"A",rc1,",",rc1," 0 0,",cr," ",t12[0]):path.push("M",t30[0],"A",rc1,",",rc1," 0 1,",cr," ",t12[0])}else path.push("M",x0,",",y0);if(null!=x3){var rc0=Math.min(rc,(r0-lc)/(kc-1)),t03=d3_svg_arcCornerTangents([x0,y0],[x3,y3],r0,-rc0,cw),t21=d3_svg_arcCornerTangents([x2,y2],null==x1?[x0,y0]:[x1,y1],r0,-rc0,cw);rc===rc0?path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t21[1],"A",r0,",",r0," 0 ",cw^d3_svg_arcSweep(t21[1][0],t21[1][1],t03[1][0],t03[1][1]),",",1-cw," ",t03[1],"A",rc0,",",rc0," 0 0,",cr," ",t03[0]):path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t03[0])}else path.push("L",x2,",",y2)}else path.push("M",x0,",",y0),null!=x1&&path.push("A",r1,",",r1," 0 ",l1,",",cw," ",x1,",",y1),path.push("L",x2,",",y2),null!=x3&&path.push("A",r0,",",r0," 0 ",l0,",",1-cw," ",x3,",",y3);return path.push("Z"),path.join("")}function circleSegment(r1,cw){return"M0,"+r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+-r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+r1}var innerRadius=d3_svg_arcInnerRadius,outerRadius=d3_svg_arcOuterRadius,cornerRadius=d3_zero,padRadius=d3_svg_arcAuto,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle,padAngle=d3_svg_arcPadAngle;return arc.innerRadius=function(v){return arguments.length?(innerRadius=d3_functor(v),arc):innerRadius},arc.outerRadius=function(v){return arguments.length?(outerRadius=d3_functor(v),arc):outerRadius},arc.cornerRadius=function(v){return arguments.length?(cornerRadius=d3_functor(v),arc):cornerRadius},arc.padRadius=function(v){return arguments.length?(padRadius=v==d3_svg_arcAuto?d3_svg_arcAuto:d3_functor(v),arc):padRadius},arc.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),arc):startAngle},arc.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),arc):endAngle},arc.padAngle=function(v){return arguments.length?(padAngle=d3_functor(v),arc):padAngle},arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-halfπ;return[Math.cos(a)*r,Math.sin(a)*r]},arc};var d3_svg_arcAuto="auto";d3.svg.line=function(){return d3_svg_line(d3_identity)};var d3_svg_lineInterpolators=d3.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});d3_svg_lineInterpolators.forEach(function(key,value){value.key=key,value.closed=/-closed$/.test(key)});var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var line=d3_svg_line(d3_svg_lineRadial);return line.radius=line.x,delete line.x,line.angle=line.y,delete line.y,line},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,
d3.svg.area=function(){return d3_svg_area(d3_identity)},d3.svg.area.radial=function(){var area=d3_svg_area(d3_svg_lineRadial);return area.radius=area.x,delete area.x,area.innerRadius=area.x0,delete area.x0,area.outerRadius=area.x1,delete area.x1,area.angle=area.y,delete area.y,area.startAngle=area.y0,delete area.y0,area.endAngle=area.y1,delete area.y1,area},d3.svg.chord=function(){function chord(d,i){var s=subgroup(this,source,d,i),t=subgroup(this,target,d,i);return"M"+s.p0+arc(s.r,s.p1,s.a1-s.a0)+(equals(s,t)?curve(s.r,s.p1,s.r,s.p0):curve(s.r,s.p1,t.r,t.p0)+arc(t.r,t.p1,t.a1-t.a0)+curve(t.r,t.p1,s.r,s.p0))+"Z"}function subgroup(self,f,d,i){var subgroup=f.call(self,d,i),r=radius.call(self,subgroup,i),a0=startAngle.call(self,subgroup,i)-halfπ,a1=endAngle.call(self,subgroup,i)-halfπ;return{r:r,a0:a0,a1:a1,p0:[r*Math.cos(a0),r*Math.sin(a0)],p1:[r*Math.cos(a1),r*Math.sin(a1)]}}function equals(a,b){return a.a0==b.a0&&a.a1==b.a1}function arc(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p}function curve(r0,p0,r1,p1){return"Q 0,0 "+p1}var source=d3_source,target=d3_target,radius=d3_svg_chordRadius,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle;return chord.radius=function(v){return arguments.length?(radius=d3_functor(v),chord):radius},chord.source=function(v){return arguments.length?(source=d3_functor(v),chord):source},chord.target=function(v){return arguments.length?(target=d3_functor(v),chord):target},chord.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),chord):startAngle},chord.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),chord):endAngle},chord},d3.svg.diagonal=function(){function diagonal(d,i){var p0=source.call(this,d,i),p3=target.call(this,d,i),m=(p0.y+p3.y)/2,p=[p0,{x:p0.x,y:m},{x:p3.x,y:m},p3];return p=p.map(projection),"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3]}var source=d3_source,target=d3_target,projection=d3_svg_diagonalProjection;return diagonal.source=function(x){return arguments.length?(source=d3_functor(x),diagonal):source},diagonal.target=function(x){return arguments.length?(target=d3_functor(x),diagonal):target},diagonal.projection=function(x){return arguments.length?(projection=x,diagonal):projection},diagonal},d3.svg.diagonal.radial=function(){var diagonal=d3.svg.diagonal(),projection=d3_svg_diagonalProjection,projection_=diagonal.projection;return diagonal.projection=function(x){return arguments.length?projection_(d3_svg_diagonalRadialProjection(projection=x)):projection},diagonal},d3.svg.symbol=function(){function symbol(d,i){return(d3_svg_symbols.get(type.call(this,d,i))||d3_svg_symbolCircle)(size.call(this,d,i))}var type=d3_svg_symbolType,size=d3_svg_symbolSize;return symbol.type=function(x){return arguments.length?(type=d3_functor(x),symbol):type},symbol.size=function(x){return arguments.length?(size=d3_functor(x),symbol):size},symbol};var d3_svg_symbols=d3.map({circle:d3_svg_symbolCircle,cross:function(size){var r=Math.sqrt(size/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z"},diamond:function(size){var ry=Math.sqrt(size/(2*d3_svg_symbolTan30)),rx=ry*d3_svg_symbolTan30;return"M0,"+-ry+"L"+rx+",0 0,"+ry+" "+-rx+",0Z"},square:function(size){var r=Math.sqrt(size)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z"},"triangle-down":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+ry+"L"+rx+","+-ry+" "+-rx+","+-ry+"Z"},"triangle-up":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+-ry+"L"+rx+","+ry+" "+-rx+","+ry+"Z"}});d3.svg.symbolTypes=d3_svg_symbols.keys();var d3_svg_symbolSqrt3=Math.sqrt(3),d3_svg_symbolTan30=Math.tan(30*d3_radians);d3_selectionPrototype.transition=function(name){for(var subgroup,node,id=d3_transitionInheritId||++d3_transitionId,ns=d3_transitionNamespace(name),subgroups=[],transition=d3_transitionInherit||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&d3_transitionNode(node,i,ns,id,transition),subgroup.push(node)}return d3_transition(subgroups,ns,id)},d3_selectionPrototype.interrupt=function(name){return this.each(null==name?d3_selection_interrupt:d3_selection_interruptNS(d3_transitionNamespace(name)))};var d3_transitionInheritId,d3_transitionInherit,d3_selection_interrupt=d3_selection_interruptNS(d3_transitionNamespace()),d3_transitionPrototype=[],d3_transitionId=0;d3_transitionPrototype.call=d3_selectionPrototype.call,d3_transitionPrototype.empty=d3_selectionPrototype.empty,d3_transitionPrototype.node=d3_selectionPrototype.node,d3_transitionPrototype.size=d3_selectionPrototype.size,d3.transition=function(selection,name){return selection&&selection.transition?d3_transitionInheritId?selection.transition(name):selection:d3.selection().transition(selection)},d3.transition.prototype=d3_transitionPrototype,d3_transitionPrototype.select=function(selector){var subgroup,subnode,node,id=this.id,ns=this.namespace,subgroups=[];selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subnode=selector.call(node,node.__data__,i,j))?("__data__"in node&&(subnode.__data__=node.__data__),d3_transitionNode(subnode,i,ns,id,node[ns][id]),subgroup.push(subnode)):subgroup.push(null)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.selectAll=function(selector){var subgroup,subnodes,node,subnode,transition,id=this.id,ns=this.namespace,subgroups=[];selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)if(node=group[i]){transition=node[ns][id],subnodes=selector.call(node,node.__data__,i,j),subgroups.push(subgroup=[]);for(var k=-1,o=subnodes.length;++k<o;)(subnode=subnodes[k])&&d3_transitionNode(subnode,k,ns,id,transition),subgroup.push(subnode)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.filter=function(filter){var subgroup,group,node,subgroups=[];"function"!=typeof filter&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;m>j;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;n>i;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_transition(subgroups,this.namespace,this.id)},d3_transitionPrototype.tween=function(name,tween){var id=this.id,ns=this.namespace;return arguments.length<2?this.node()[ns][id].tween.get(name):d3_selection_each(this,null==tween?function(node){node[ns][id].tween.remove(name)}:function(node){node[ns][id].tween.set(name,tween)})},d3_transitionPrototype.attr=function(nameNS,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrTween(b){return null==b?attrNull:(b+="",function(){var i,a=this.getAttribute(name);return a!==b&&(i=interpolate(a,b),function(t){this.setAttribute(name,i(t))})})}function attrTweenNS(b){return null==b?attrNullNS:(b+="",function(){var i,a=this.getAttributeNS(name.space,name.local);return a!==b&&(i=interpolate(a,b),function(t){this.setAttributeNS(name.space,name.local,i(t))})})}if(arguments.length<2){for(value in nameNS)this.attr(value,nameNS[value]);return this}var interpolate="transform"==nameNS?d3_interpolateTransform:d3_interpolate,name=d3.ns.qualify(nameNS);return d3_transition_tween(this,"attr."+nameNS,value,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.attrTween=function(nameNS,tween){function attrTween(d,i){var f=tween.call(this,d,i,this.getAttribute(name));return f&&function(t){this.setAttribute(name,f(t))}}function attrTweenNS(d,i){var f=tween.call(this,d,i,this.getAttributeNS(name.space,name.local));return f&&function(t){this.setAttributeNS(name.space,name.local,f(t))}}var name=d3.ns.qualify(nameNS);return this.tween("attr."+nameNS,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.style=function(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleString(b){return null==b?styleNull:(b+="",function(){var i,a=d3_window(this).getComputedStyle(this,null).getPropertyValue(name);return a!==b&&(i=d3_interpolate(a,b),function(t){this.style.setProperty(name,i(t),priority)})})}var n=arguments.length;if(3>n){if("string"!=typeof name){2>n&&(value="");for(priority in name)this.style(priority,name[priority],value);return this}priority=""}return d3_transition_tween(this,"style."+name,value,styleString)},d3_transitionPrototype.styleTween=function(name,tween,priority){function styleTween(d,i){var f=tween.call(this,d,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(name));return f&&function(t){this.style.setProperty(name,f(t),priority)}}return arguments.length<3&&(priority=""),this.tween("style."+name,styleTween)},d3_transitionPrototype.text=function(value){return d3_transition_tween(this,"text",value,d3_transition_text)},d3_transitionPrototype.remove=function(){var ns=this.namespace;return this.each("end.transition",function(){var p;this[ns].count<2&&(p=this.parentNode)&&p.removeChild(this)})},d3_transitionPrototype.ease=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].ease:("function"!=typeof value&&(value=d3.ease.apply(d3,arguments)),d3_selection_each(this,function(node){node[ns][id].ease=value}))},d3_transitionPrototype.delay=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].delay:d3_selection_each(this,"function"==typeof value?function(node,i,j){node[ns][id].delay=+value.call(node,node.__data__,i,j)}:(value=+value,function(node){node[ns][id].delay=value}))},d3_transitionPrototype.duration=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].duration:d3_selection_each(this,"function"==typeof value?function(node,i,j){node[ns][id].duration=Math.max(1,value.call(node,node.__data__,i,j))}:(value=Math.max(1,value),function(node){node[ns][id].duration=value}))},d3_transitionPrototype.each=function(type,listener){var id=this.id,ns=this.namespace;if(arguments.length<2){var inherit=d3_transitionInherit,inheritId=d3_transitionInheritId;try{d3_transitionInheritId=id,d3_selection_each(this,function(node,i,j){d3_transitionInherit=node[ns][id],type.call(node,node.__data__,i,j)})}finally{d3_transitionInherit=inherit,d3_transitionInheritId=inheritId}}else d3_selection_each(this,function(node){var transition=node[ns][id];(transition.event||(transition.event=d3.dispatch("start","end","interrupt"))).on(type,listener)});return this},d3_transitionPrototype.transition=function(){for(var subgroup,group,node,transition,id0=this.id,id1=++d3_transitionId,ns=this.namespace,subgroups=[],j=0,m=this.length;m>j;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;n>i;i++)(node=group[i])&&(transition=node[ns][id0],d3_transitionNode(node,i,ns,id1,{time:transition.time,ease:transition.ease,delay:transition.delay+transition.duration,duration:transition.duration})),subgroup.push(node)}return d3_transition(subgroups,ns,id1)},d3.svg.axis=function(){function axis(g){g.each(function(){var tickTransform,g=d3.select(this),scale0=this.__chart__||scale,scale1=this.__chart__=scale.copy(),ticks=null==tickValues?scale1.ticks?scale1.ticks.apply(scale1,tickArguments_):scale1.domain():tickValues,tickFormat=null==tickFormat_?scale1.tickFormat?scale1.tickFormat.apply(scale1,tickArguments_):d3_identity:tickFormat_,tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),tickExit=d3.transition(tick.exit()).style("opacity",ε).remove(),tickUpdate=d3.transition(tick.order()).style("opacity",1),tickSpacing=Math.max(innerTickSize,0)+tickPadding,range=d3_scaleRange(scale1),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),d3.transition(path));tickEnter.append("line"),tickEnter.append("text");var x1,x2,y1,y2,lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),text=tick.select("text").text(tickFormat),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text"),sign="top"===orient||"left"===orient?-1:1;if("bottom"===orient||"top"===orient?(tickTransform=d3_svg_axisX,x1="x",y1="y",x2="x2",y2="y2",text.attr("dy",0>sign?"0em":".71em").style("text-anchor","middle"),pathUpdate.attr("d","M"+range[0]+","+sign*outerTickSize+"V0H"+range[1]+"V"+sign*outerTickSize)):(tickTransform=d3_svg_axisY,x1="y",y1="x",x2="y2",y2="x2",text.attr("dy",".32em").style("text-anchor",0>sign?"end":"start"),pathUpdate.attr("d","M"+sign*outerTickSize+","+range[0]+"H0V"+range[1]+"H"+sign*outerTickSize)),lineEnter.attr(y2,sign*innerTickSize),textEnter.attr(y1,sign*tickSpacing),lineUpdate.attr(x2,0).attr(y2,sign*innerTickSize),textUpdate.attr(x1,0).attr(y1,sign*tickSpacing),scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else scale0.rangeBand?scale0=scale1:tickExit.call(tickTransform,scale1,scale0);tickEnter.call(tickTransform,scale0,scale1),tickUpdate.call(tickTransform,scale1,scale1)})}var tickFormat_,scale=d3.scale.linear(),orient=d3_svg_axisDefaultOrient,innerTickSize=6,outerTickSize=6,tickPadding=3,tickArguments_=[10],tickValues=null;return axis.scale=function(x){return arguments.length?(scale=x,axis):scale},axis.orient=function(x){return arguments.length?(orient=x in d3_svg_axisOrients?x+"":d3_svg_axisDefaultOrient,axis):orient},axis.ticks=function(){return arguments.length?(tickArguments_=arguments,axis):tickArguments_},axis.tickValues=function(x){return arguments.length?(tickValues=x,axis):tickValues},axis.tickFormat=function(x){return arguments.length?(tickFormat_=x,axis):tickFormat_},axis.tickSize=function(x){var n=arguments.length;return n?(innerTickSize=+x,outerTickSize=+arguments[n-1],axis):innerTickSize},axis.innerTickSize=function(x){return arguments.length?(innerTickSize=+x,axis):innerTickSize},axis.outerTickSize=function(x){return arguments.length?(outerTickSize=+x,axis):outerTickSize},axis.tickPadding=function(x){return arguments.length?(tickPadding=+x,axis):tickPadding},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var d3_svg_axisDefaultOrient="bottom",d3_svg_axisOrients={top:1,right:1,bottom:1,left:1};d3.svg.brush=function(){function brush(g){g.each(function(){var g=d3.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),background=g.selectAll(".background").data([0]);background.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var resize=g.selectAll(".resize").data(resizes,d3_identity);resize.exit().remove(),resize.enter().append("g").attr("class",function(d){return"resize "+d}).style("cursor",function(d){return d3_svg_brushCursor[d]}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null}).attr("y",function(d){return/^[ns]/.test(d)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),resize.style("display",brush.empty()?"none":null);var range,gUpdate=d3.transition(g),backgroundUpdate=d3.transition(background);x&&(range=d3_scaleRange(x),backgroundUpdate.attr("x",range[0]).attr("width",range[1]-range[0]),redrawX(gUpdate)),y&&(range=d3_scaleRange(y),backgroundUpdate.attr("y",range[0]).attr("height",range[1]-range[0]),redrawY(gUpdate)),redraw(gUpdate)})}function redraw(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+xExtent[+/e$/.test(d)]+","+yExtent[+/^s/.test(d)]+")"})}function redrawX(g){g.select(".extent").attr("x",xExtent[0]),g.selectAll(".extent,.n>rect,.s>rect").attr("width",xExtent[1]-xExtent[0])}function redrawY(g){g.select(".extent").attr("y",yExtent[0]),g.selectAll(".extent,.e>rect,.w>rect").attr("height",yExtent[1]-yExtent[0])}function brushstart(){function keydown(){32==d3.event.keyCode&&(dragging||(center=null,origin[0]-=xExtent[1],origin[1]-=yExtent[1],dragging=2),d3_eventPreventDefault())}function keyup(){32==d3.event.keyCode&&2==dragging&&(origin[0]+=xExtent[1],origin[1]+=yExtent[1],dragging=0,d3_eventPreventDefault())}function brushmove(){var point=d3.mouse(target),moved=!1;offset&&(point[0]+=offset[0],point[1]+=offset[1]),dragging||(d3.event.altKey?(center||(center=[(xExtent[0]+xExtent[1])/2,(yExtent[0]+yExtent[1])/2]),origin[0]=xExtent[+(point[0]<center[0])],origin[1]=yExtent[+(point[1]<center[1])]):center=null),resizingX&&move1(point,x,0)&&(redrawX(g),moved=!0),resizingY&&move1(point,y,1)&&(redrawY(g),moved=!0),moved&&(redraw(g),event_({type:"brush",mode:dragging?"move":"resize"}))}function move1(point,scale,i){var min,max,range=d3_scaleRange(scale),r0=range[0],r1=range[1],position=origin[i],extent=i?yExtent:xExtent,size=extent[1]-extent[0];return dragging&&(r0-=position,r1-=size+position),min=(i?yClamp:xClamp)?Math.max(r0,Math.min(r1,point[i])):point[i],dragging?max=(min+=position)+size:(center&&(position=Math.max(r0,Math.min(r1,2*center[i]-min))),min>position?(max=min,min=position):max=position),extent[0]!=min||extent[1]!=max?(i?yExtentDomain=null:xExtentDomain=null,extent[0]=min,extent[1]=max,!0):void 0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),dragRestore(),event_({type:"brushend"})}var center,offset,target=this,eventTarget=d3.select(d3.event.target),event_=event.of(target,arguments),g=d3.select(target),resizing=eventTarget.datum(),resizingX=!/^(n|s)$/.test(resizing)&&x,resizingY=!/^(e|w)$/.test(resizing)&&y,dragging=eventTarget.classed("extent"),dragRestore=d3_event_dragSuppress(target),origin=d3.mouse(target),w=d3.select(d3_window(target)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(d3.event.changedTouches?w.on("touchmove.brush",brushmove).on("touchend.brush",brushend):w.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),dragging)origin[0]=xExtent[0]-origin[0],origin[1]=yExtent[0]-origin[1];else if(resizing){var ex=+/w$/.test(resizing),ey=+/^n/.test(resizing);offset=[xExtent[1-ex]-origin[0],yExtent[1-ey]-origin[1]],origin[0]=xExtent[ex],origin[1]=yExtent[ey]}else d3.event.altKey&&(center=origin.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",eventTarget.style("cursor")),event_({type:"brushstart"}),brushmove()}var xExtentDomain,yExtentDomain,event=d3_eventDispatch(brush,"brushstart","brush","brushend"),x=null,y=null,xExtent=[0,0],yExtent=[0,0],xClamp=!0,yClamp=!0,resizes=d3_svg_brushResizes[0];return brush.event=function(g){g.each(function(){var event_=event.of(this,arguments),extent1={x:xExtent,y:yExtent,i:xExtentDomain,j:yExtentDomain},extent0=this.__chart__||extent1;this.__chart__=extent1,d3_transitionInheritId?d3.select(this).transition().each("start.brush",function(){xExtentDomain=extent0.i,yExtentDomain=extent0.j,xExtent=extent0.x,yExtent=extent0.y,event_({type:"brushstart"})}).tween("brush:brush",function(){var xi=d3_interpolateArray(xExtent,extent1.x),yi=d3_interpolateArray(yExtent,extent1.y);return xExtentDomain=yExtentDomain=null,function(t){xExtent=extent1.x=xi(t),yExtent=extent1.y=yi(t),event_({type:"brush",mode:"resize"})}}).each("end.brush",function(){xExtentDomain=extent1.i,yExtentDomain=extent1.j,event_({type:"brush",mode:"resize"}),event_({type:"brushend"})}):(event_({type:"brushstart"}),event_({type:"brush",mode:"resize"}),event_({type:"brushend"}))})},brush.x=function(z){return arguments.length?(x=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):x},brush.y=function(z){return arguments.length?(y=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):y},brush.clamp=function(z){return arguments.length?(x&&y?(xClamp=!!z[0],yClamp=!!z[1]):x?xClamp=!!z:y&&(yClamp=!!z),brush):x&&y?[xClamp,yClamp]:x?xClamp:y?yClamp:null},brush.extent=function(z){var x0,x1,y0,y1,t;return arguments.length?(x&&(x0=z[0],x1=z[1],y&&(x0=x0[0],x1=x1[0]),xExtentDomain=[x0,x1],x.invert&&(x0=x(x0),x1=x(x1)),x0>x1&&(t=x0,x0=x1,x1=t),(x0!=xExtent[0]||x1!=xExtent[1])&&(xExtent=[x0,x1])),y&&(y0=z[0],y1=z[1],x&&(y0=y0[1],y1=y1[1]),yExtentDomain=[y0,y1],y.invert&&(y0=y(y0),y1=y(y1)),y0>y1&&(t=y0,y0=y1,y1=t),(y0!=yExtent[0]||y1!=yExtent[1])&&(yExtent=[y0,y1])),brush):(x&&(xExtentDomain?(x0=xExtentDomain[0],x1=xExtentDomain[1]):(x0=xExtent[0],x1=xExtent[1],x.invert&&(x0=x.invert(x0),x1=x.invert(x1)),x0>x1&&(t=x0,x0=x1,x1=t))),y&&(yExtentDomain?(y0=yExtentDomain[0],y1=yExtentDomain[1]):(y0=yExtent[0],y1=yExtent[1],y.invert&&(y0=y.invert(y0),y1=y.invert(y1)),y0>y1&&(t=y0,y0=y1,y1=t))),x&&y?[[x0,y0],[x1,y1]]:x?[x0,x1]:y&&[y0,y1])},brush.clear=function(){return brush.empty()||(xExtent=[0,0],yExtent=[0,0],xExtentDomain=yExtentDomain=null),brush},brush.empty=function(){return!!x&&xExtent[0]==xExtent[1]||!!y&&yExtent[0]==yExtent[1]},d3.rebind(brush,event,"on")};var d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},d3_svg_brushResizes=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],d3_time_format=d3_time.format=d3_locale_enUS.timeFormat,d3_time_formatUtc=d3_time_format.utc,d3_time_formatIso=d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");d3_time_format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:d3_time_formatIso,d3_time_formatIsoNative.parse=function(string){var date=new Date(string);return isNaN(date)?null:date},d3_time_formatIsoNative.toString=d3_time_formatIso.toString,d3_time.second=d3_time_interval(function(date){return new d3_date(1e3*Math.floor(date/1e3))},function(date,offset){date.setTime(date.getTime()+1e3*Math.floor(offset))},function(date){return date.getSeconds()}),d3_time.seconds=d3_time.second.range,d3_time.seconds.utc=d3_time.second.utc.range,d3_time.minute=d3_time_interval(function(date){return new d3_date(6e4*Math.floor(date/6e4))},function(date,offset){date.setTime(date.getTime()+6e4*Math.floor(offset))},function(date){return date.getMinutes()}),d3_time.minutes=d3_time.minute.range,d3_time.minutes.utc=d3_time.minute.utc.range,d3_time.hour=d3_time_interval(function(date){var timezone=date.getTimezoneOffset()/60;return new d3_date(36e5*(Math.floor(date/36e5-timezone)+timezone))},function(date,offset){date.setTime(date.getTime()+36e5*Math.floor(offset))},function(date){return date.getHours()}),d3_time.hours=d3_time.hour.range,d3_time.hours.utc=d3_time.hour.utc.range,d3_time.month=d3_time_interval(function(date){return date=d3_time.day(date),date.setDate(1),date},function(date,offset){date.setMonth(date.getMonth()+offset)},function(date){return date.getMonth()}),d3_time.months=d3_time.month.range,d3_time.months.utc=d3_time.month.utc.range;var d3_time_scaleSteps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],d3_time_scaleLocalMethods=[[d3_time.second,1],[d3_time.second,5],[d3_time.second,15],[d3_time.second,30],[d3_time.minute,1],[d3_time.minute,5],[d3_time.minute,15],[d3_time.minute,30],[d3_time.hour,1],[d3_time.hour,3],[d3_time.hour,6],[d3_time.hour,12],[d3_time.day,1],[d3_time.day,2],[d3_time.week,1],[d3_time.month,1],[d3_time.month,3],[d3_time.year,1]],d3_time_scaleLocalFormat=d3_time_format.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%a %d",function(d){return d.getDay()&&1!=d.getDate()}],["%b %d",function(d){return 1!=d.getDate()}],["%B",function(d){return d.getMonth()}],["%Y",d3_true]]),d3_time_scaleMilliseconds={range:function(start,stop,step){return d3.range(Math.ceil(start/step)*step,+stop,step).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};d3_time_scaleLocalMethods.year=d3_time.year,d3_time.scale=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleLocalMethods,d3_time_scaleLocalFormat)};var d3_time_scaleUtcMethods=d3_time_scaleLocalMethods.map(function(m){return[m[0].utc,m[1]]}),d3_time_scaleUtcFormat=d3_time_formatUtc.multi([[".%L",function(d){return d.getUTCMilliseconds()}],[":%S",function(d){return d.getUTCSeconds()}],["%I:%M",function(d){return d.getUTCMinutes()}],["%I %p",function(d){return d.getUTCHours()}],["%a %d",function(d){return d.getUTCDay()&&1!=d.getUTCDate()}],["%b %d",function(d){return 1!=d.getUTCDate()}],["%B",function(d){return d.getUTCMonth()}],["%Y",d3_true]]);d3_time_scaleUtcMethods.year=d3_time.year.utc,d3_time.scale.utc=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleUtcMethods,d3_time_scaleUtcFormat)},d3.text=d3_xhrType(function(request){return request.responseText}),d3.json=function(url,callback){return d3_xhr(url,"application/json",d3_json,callback)},d3.html=function(url,callback){return d3_xhr(url,"text/html",d3_html,callback)},d3.xml=d3_xhrType(function(request){return request.responseXML}),"function"==typeof define&&define.amd?define(d3):"object"==typeof module&&module.exports&&(module.exports=d3),this.d3=d3}()}.call(System.global),System.get("@@global-helpers").retrieveGlobal(__module.id,"d3")}),System.register("npm:core-js@0.9.18/library/modules/$.shared",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),SHARED="__core-js_shared__",store=$.g[SHARED]||($.g[SHARED]={});return module.exports=function(key){return store[key]||(store[key]={})},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.uid",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){function uid(key){return"Symbol(".concat(void 0===key?"":key,")_",(++sid+Math.random()).toString(36))}var global=System.global,__define=global.define;global.define=void 0;var sid=0;return uid.safe=require("npm:core-js@0.9.18/library/modules/$").g.Symbol||uid,module.exports=uid,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.redef",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:core-js@0.9.18/library/modules/$").hide,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.string-at",["npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$");return module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String($.assertDefined(that)),i=$.toInteger(pos),l=s.length;return 0>i||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),55296>a||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.iter",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.cof","npm:core-js@0.9.18/library/modules/$.assert","npm:core-js@0.9.18/library/modules/$.wks","npm:core-js@0.9.18/library/modules/$.shared"],!0,function(require,exports,module){function setIterator(O,value){$.hide(O,SYMBOL_ITERATOR,value),FF_ITERATOR in[]&&$.hide(O,FF_ITERATOR,value)}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),cof=require("npm:core-js@0.9.18/library/modules/$.cof"),classof=cof.classof,assert=require("npm:core-js@0.9.18/library/modules/$.assert"),assertObject=assert.obj,SYMBOL_ITERATOR=require("npm:core-js@0.9.18/library/modules/$.wks")("iterator"),FF_ITERATOR="@@iterator",Iterators=require("npm:core-js@0.9.18/library/modules/$.shared")("iterators"),IteratorPrototype={};return setIterator(IteratorPrototype,$.that),module.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:Iterators,step:function(done,value){return{value:value,done:!!done}},is:function(it){var O=Object(it),Symbol=$.g.Symbol;return(Symbol&&Symbol.iterator||FF_ITERATOR)in O||SYMBOL_ITERATOR in O||$.has(Iterators,classof(O))},get:function(it){var getIter,Symbol=$.g.Symbol;return void 0!=it&&(getIter=it[Symbol&&Symbol.iterator||FF_ITERATOR]||it[SYMBOL_ITERATOR]||Iterators[classof(it)]),assert($.isFunction(getIter),it," is not iterable!"),assertObject(getIter.call(it))},set:setIterator,create:function(Constructor,NAME,next,proto){Constructor.prototype=$.create(proto||IteratorPrototype,{next:$.desc(1,next)}),cof.set(Constructor,NAME+" Iterator")}},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.iter-define",["npm:core-js@0.9.18/library/modules/$.def","npm:core-js@0.9.18/library/modules/$.redef","npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.cof","npm:core-js@0.9.18/library/modules/$.iter","npm:core-js@0.9.18/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $def=require("npm:core-js@0.9.18/library/modules/$.def"),$redef=require("npm:core-js@0.9.18/library/modules/$.redef"),$=require("npm:core-js@0.9.18/library/modules/$"),cof=require("npm:core-js@0.9.18/library/modules/$.cof"),$iter=require("npm:core-js@0.9.18/library/modules/$.iter"),SYMBOL_ITERATOR=require("npm:core-js@0.9.18/library/modules/$.wks")("iterator"),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",Iterators=$iter.Iterators;return module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCE){function createMethod(kind){function $$(that){return new Constructor(that,kind)}switch(kind){case KEYS:return function(){return $$(this)};case VALUES:return function(){return $$(this)}}return function(){return $$(this)}}$iter.create(Constructor,NAME,next);var methods,key,TAG=NAME+" Iterator",proto=Base.prototype,_native=proto[SYMBOL_ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],_default=_native||createMethod(DEFAULT);if(_native){var IteratorPrototype=$.getProto(_default.call(new Base));cof.set(IteratorPrototype,TAG,!0),$.FW&&$.has(proto,FF_ITERATOR)&&$iter.set(IteratorPrototype,$.that)}if(($.FW||FORCE)&&$iter.set(proto,_default),Iterators[NAME]=_default,Iterators[TAG]=$.that,DEFAULT)if(methods={keys:IS_SET?_default:createMethod(KEYS),values:DEFAULT==VALUES?_default:createMethod(VALUES),entries:DEFAULT!=VALUES?_default:createMethod("entries")},FORCE)for(key in methods)key in proto||$redef(proto,key,methods[key]);else $def($def.P+$def.F*$iter.BUGGY,NAME,methods)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.unscope",[],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=function(){},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.iter-call",["npm:core-js@0.9.18/library/modules/$.assert"],!0,function(require,exports,module){function close(iterator){var ret=iterator["return"];void 0!==ret&&assertObject(ret.call(iterator))}function call(iterator,fn,value,entries){try{return entries?fn(assertObject(value)[0],value[1]):fn(value)}catch(e){throw close(iterator),e}}var global=System.global,__define=global.define;global.define=void 0;var assertObject=require("npm:core-js@0.9.18/library/modules/$.assert").obj;return call.close=close,module.exports=call,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.mix",["npm:core-js@0.9.18/library/modules/$.redef"],!0,function(require,exports,module){
var global=System.global,__define=global.define;global.define=void 0;var $redef=require("npm:core-js@0.9.18/library/modules/$.redef");return module.exports=function(target,src){for(var key in src)$redef(target,key,src[key]);return target},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.species",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),SPECIES=require("npm:core-js@0.9.18/library/modules/$.wks")("species");return module.exports=function(C){!$.DESC||SPECIES in C||$.setDesc(C,SPECIES,{configurable:!0,get:$.that})},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.collection-to-json",["npm:core-js@0.9.18/library/modules/$.def","npm:core-js@0.9.18/library/modules/$.for-of"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $def=require("npm:core-js@0.9.18/library/modules/$.def"),forOf=require("npm:core-js@0.9.18/library/modules/$.for-of");return module.exports=function(NAME){$def($def.P,NAME,{toJSON:function(){var arr=[];return forOf(this,!1,arr.push,arr),arr}})},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/object/get-own-property-names",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/es6.object.statics-accept-primitives"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$");return require("npm:core-js@0.9.18/library/modules/es6.object.statics-accept-primitives"),module.exports=function(it){return $.getNames(it)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.iter-detect",["npm:core-js@0.9.18/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var SYMBOL_ITERATOR=require("npm:core-js@0.9.18/library/modules/$.wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][SYMBOL_ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}return module.exports=function(exec){if(!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[SYMBOL_ITERATOR]();iter.next=function(){safe=!0},arr[SYMBOL_ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/core.iter-helpers",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.iter"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var core=require("npm:core-js@0.9.18/library/modules/$").core,$iter=require("npm:core-js@0.9.18/library/modules/$.iter");return core.isIterable=$iter.is,core.getIterator=$iter.get,global.define=__define,module.exports}),System.register("github:moment/moment@2.10.6/moment",[],!1,function(__require,__exports,__module){return System.get("@@global-helpers").prepareGlobal(__module.id,[]),function(){"format global";!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m);m._isValid=!(isNaN(m._d.getTime())||!(flags.overflow<0)||flags.empty||flags.invalidMonth||flags.invalidWeekday||flags.nullInput||flags.invalidFormat||flags.userInvalidated),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=getParsingFlags(from)),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return 0>number?Math.ceil(number):Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function Locale(){}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data="undefined"==typeof values?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,values){return null!==values?(values.abbr=name,locales[name]=locales[name]||new Locale,locales[name].set(values),locale_locales__getSetGlobalLocale(name),locales[name]):(delete locales[name],null)}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function get_set__set(mom,unit,value){return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function getSet(units,value){var unit;if("object"==typeof units)for(unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),"function"==typeof this[units])return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function isFunction(sth){return"function"==typeof sth&&"[object Function]"===Object.prototype.toString.call(sth)}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m){return this._months[m.month()]}function localeMonthsShort(m){return this._monthsShort[m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),getParsingFlags(m).overflow=overflow),m}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(warn(msg+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(warn(msg),deprecations[name]=!0)}function configFromISO(config){var i,l,string=config._i,match=from_string__isoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0];break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=(match[6]||" ")+isoTimes[i][0];break}string.match(matchOffset)&&(config._f+="Z"),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date(+matched[1])):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=local__createLocal(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var dayOfYear,week1Jan=6+firstDayOfWeek-firstDayOfWeekOfYear,janX=createUTCDate(year,0,1+week1Jan),d=janX.getUTCDay();return firstDayOfWeek>d&&(d+=7),weekday=null!=weekday?1*weekday:firstDayOfWeek,dayOfYear=1+week1Jan+7*(week-1)-d+weekday,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),getParsingFlags(config).bigHour===!0&&config._a[HOUR]<=12&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date:isDate(input)?config._d=new Date(+input):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)(!moments[i].isValid()||moments[i][fn](res))&&(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return 0>offset&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(string){var matches=(string||"").match(matchOffset)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res,res._d.setTime(+res._d+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null!=input?("string"==typeof input&&(input=offsetFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this)}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(this._i)),this}function hasAlignedHourOffset(input){return input=input?local__createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!this._isUTC}function isUtcOffset(){return this._isUTC}function isUtc(){return this._isUTC&&0===this._offset}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=create__isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months)}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(formats&&formats[format]||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this>+input):(inputMs=isMoment(input)?+input:+local__createLocal(input),inputMs<+this.clone().startOf(units))}function isBefore(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+input>+this):(inputMs=isMoment(input)?+input:+local__createLocal(input),+this.clone().endOf(units)<inputMs)}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this===+input):(inputMs=+local__createLocal(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))}function diff(input,units,asFloat){var delta,output,that=cloneWithOffset(input,this),zoneDelta=6e4*(that.utcOffset()-this.utcOffset());return units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return 0>b-anchor?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);
return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")}function to_type__valueOf(){return+this._d-6e4*(this._offset||0)}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function weeksInYear(year,dow,doy){return weekOfYear(local__createLocal([year,11,31+dow-doy]),dow,doy).week}function getSetWeekYear(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")}function getSetISOWeekYear(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function localeWeekdays(m){return this._weekdays[m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName){var i,mom,regex;for(this._weekdaysParse=this._weekdaysParse||[],i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=local__createLocal([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i}function getSetDayOfWeek(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,setter);var i,out=[];for(i=0;count>i;i++)out[i]=lists__get(format,i,field,setter);return out}function lists__listMonths(format,index){return list(format,index,"months",12,"month")}function lists__listMonthsShort(format,index){return list(format,index,"monthsShort",12,"month")}function lists__listWeekdays(format,index){return list(format,index,"weekdays",7,"day")}function lists__listWeekdaysShort(format,index){return list(format,index,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(format,index){return list(format,index,"weekdaysMin",7,"day")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return 0>number?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||0>=milliseconds&&0>=days&&0>=months||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<thresholds.h&&["hh",hours]||1===days&&["d"]||days<thresholds.d&&["dd",days]||1===months&&["M"]||months<thresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0===thresholds[threshold]?!1:void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0)}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(0>total?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,globalLocale,momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",matchWord),addRegexToken("MMMM",matchWord),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!1);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return this>other?this:other}),prototypeMax=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return other>this?this:other});offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchOffset),addRegexToken("ZZ",matchOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,0,"quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",matchWord),addRegexToken("ddd",matchWord),addRegexToken("dddd",matchWord),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config){var weekday=config._locale.weekdaysParse(input);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,function(){return this.hours()%12||12}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=moment_format__toISOString,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar,prototype__proto.calendar=locale_calendar__calendar,prototype__proto._longDateFormat=defaultLongDateFormat,prototype__proto.longDateFormat=longDateFormat,prototype__proto._invalidDate=defaultInvalidDate,prototype__proto.invalidDate=invalidDate,prototype__proto._ordinal=defaultOrdinal,prototype__proto.ordinal=ordinal,prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime=defaultRelativeTime,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto.week=localeWeek,prototype__proto._week=defaultLocaleWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto.isPM=localeIsPM,prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.10.6",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var _moment=utils_hooks__hooks;return _moment})}.call(System.global),System.get("@@global-helpers").retrieveGlobal(__module.id,!1)}),System.register("npm:core-js@0.9.18/library/fn/object/keys",["npm:core-js@0.9.18/library/modules/es6.object.statics-accept-primitives","npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){
var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.18/library/modules/es6.object.statics-accept-primitives"),module.exports=require("npm:core-js@0.9.18/library/modules/$").core.Object.keys,global.define=__define,module.exports}),System.register("npm:classnames@2.1.5/index",[],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(){"use strict";function classNames(){for(var classes="",i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes+=" "+arg;else if(Array.isArray(arg))classes+=" "+classNames.apply(null,arg);else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&(classes+=" "+key)}}return classes.substr(1)}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",function(){return classNames}):window.classNames=classNames}(),global.define=__define,module.exports}),System.register("npm:process@0.11.2",["npm:process@0.11.2/browser"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:process@0.11.2/browser"),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactMultiChildUpdateTypes",["npm:fbjs@0.3.2/lib/keyMirror"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var keyMirror=require("npm:fbjs@0.3.2/lib/keyMirror"),ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});return module.exports=ReactMultiChildUpdateTypes,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/setTextContent",["npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:react@0.14.0/lib/escapeTextContentForBrowser","npm:react@0.14.0/lib/setInnerHTML"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),escapeTextContentForBrowser=require("npm:react@0.14.0/lib/escapeTextContentForBrowser"),setInnerHTML=require("npm:react@0.14.0/lib/setInnerHTML"),setTextContent=function(node,text){node.textContent=text};return ExecutionEnvironment.canUseDOM&&("textContent"in document.documentElement||(setTextContent=function(node,text){setInnerHTML(node,escapeTextContentForBrowser(text))})),module.exports=setTextContent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/DOMPropertyOperations",["npm:react@0.14.0/lib/DOMProperty","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/quoteAttributeValueForBrowser","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function isAttributeNameSafe(attributeName){return validatedAttributeNameCache.hasOwnProperty(attributeName)?!0:illegalAttributeNameCache.hasOwnProperty(attributeName)?!1:VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)?(validatedAttributeNameCache[attributeName]=!0,!0):(illegalAttributeNameCache[attributeName]=!0,"production"!==process.env.NODE_ENV?warning(!1,"Invalid attribute name: `%s`",attributeName):void 0,!1)}function shouldIgnoreValue(propertyInfo,value){return null==value||propertyInfo.hasBooleanValue&&!value||propertyInfo.hasNumericValue&&isNaN(value)||propertyInfo.hasPositiveNumericValue&&1>value||propertyInfo.hasOverloadedBooleanValue&&value===!1}var DOMProperty=require("npm:react@0.14.0/lib/DOMProperty"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),quoteAttributeValueForBrowser=require("npm:react@0.14.0/lib/quoteAttributeValueForBrowser"),warning=require("npm:fbjs@0.3.2/lib/warning"),VALID_ATTRIBUTE_NAME_REGEX=/^[a-zA-Z_][\w\.\-]*$/,illegalAttributeNameCache={},validatedAttributeNameCache={};if("production"!==process.env.NODE_ENV)var reactProps={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},warnedProperties={},warnUnknownProperty=function(name){if(!(reactProps.hasOwnProperty(name)&&reactProps[name]||warnedProperties.hasOwnProperty(name)&&warnedProperties[name])){warnedProperties[name]=!0;var lowerCasedName=name.toLowerCase(),standardName=DOMProperty.isCustomAttribute(lowerCasedName)?lowerCasedName:DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName)?DOMProperty.getPossibleStandardName[lowerCasedName]:null;"production"!==process.env.NODE_ENV?warning(null==standardName,"Unknown DOM property %s. Did you mean %s?",name,standardName):void 0}};var DOMPropertyOperations={createMarkupForID:function(id){return DOMProperty.ID_ATTRIBUTE_NAME+"="+quoteAttributeValueForBrowser(id)},setAttributeForID:function(node,id){node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME,id)},createMarkupForProperty:function(name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){if(shouldIgnoreValue(propertyInfo,value))return"";var attributeName=propertyInfo.attributeName;return propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?attributeName+'=""':attributeName+"="+quoteAttributeValueForBrowser(value)}return DOMProperty.isCustomAttribute(name)?null==value?"":name+"="+quoteAttributeValueForBrowser(value):("production"!==process.env.NODE_ENV&&warnUnknownProperty(name),null)},createMarkupForCustomAttribute:function(name,value){return isAttributeNameSafe(name)&&null!=value?name+"="+quoteAttributeValueForBrowser(value):""},setValueForProperty:function(node,name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,value);else if(shouldIgnoreValue(propertyInfo,value))this.deleteValueForProperty(node,name);else if(propertyInfo.mustUseAttribute){var attributeName=propertyInfo.attributeName,namespace=propertyInfo.attributeNamespace;namespace?node.setAttributeNS(namespace,attributeName,""+value):propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?node.setAttribute(attributeName,""):node.setAttribute(attributeName,""+value)}else{var propName=propertyInfo.propertyName;propertyInfo.hasSideEffects&&""+node[propName]==""+value||(node[propName]=value)}}else DOMProperty.isCustomAttribute(name)?DOMPropertyOperations.setValueForAttribute(node,name,value):"production"!==process.env.NODE_ENV&&warnUnknownProperty(name)},setValueForAttribute:function(node,name,value){isAttributeNameSafe(name)&&(null==value?node.removeAttribute(name):node.setAttribute(name,""+value))},deleteValueForProperty:function(node,name){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,void 0);else if(propertyInfo.mustUseAttribute)node.removeAttribute(propertyInfo.attributeName);else{var propName=propertyInfo.propertyName,defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);propertyInfo.hasSideEffects&&""+node[propName]===defaultValue||(node[propName]=defaultValue)}}else DOMProperty.isCustomAttribute(name)?node.removeAttribute(name):"production"!==process.env.NODE_ENV&&warnUnknownProperty(name)}};ReactPerf.measureMethods(DOMPropertyOperations,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),module.exports=DOMPropertyOperations}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/EventPluginUtils",["npm:react@0.14.0/lib/EventConstants","npm:react@0.14.0/lib/ReactErrorUtils","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}function executeDispatch(event,simulated,listener,domID){var type=event.type||"unknown-event";event.currentTarget=injection.Mount.getNode(domID),simulated?ReactErrorUtils.invokeGuardedCallbackWithCatch(type,listener,event,domID):ReactErrorUtils.invokeGuardedCallback(type,listener,event,domID),event.currentTarget=null}function executeDispatchesInOrder(event,simulated){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if("production"!==process.env.NODE_ENV&&validateEventDispatches(event),Array.isArray(dispatchListeners))for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)executeDispatch(event,simulated,dispatchListeners[i],dispatchIDs[i]);else dispatchListeners&&executeDispatch(event,simulated,dispatchListeners,dispatchIDs);event._dispatchListeners=null,event._dispatchIDs=null}function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if("production"!==process.env.NODE_ENV&&validateEventDispatches(event),Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)if(dispatchListeners[i](event,dispatchIDs[i]))return dispatchIDs[i]}else if(dispatchListeners&&dispatchListeners(event,dispatchIDs))return dispatchIDs;return null}function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);return event._dispatchIDs=null,event._dispatchListeners=null,ret}function executeDirectDispatch(event){"production"!==process.env.NODE_ENV&&validateEventDispatches(event);var dispatchListener=event._dispatchListeners,dispatchID=event._dispatchIDs;Array.isArray(dispatchListener)?"production"!==process.env.NODE_ENV?invariant(!1,"executeDirectDispatch(...): Invalid `event`."):invariant(!1):void 0;var res=dispatchListener?dispatchListener(event,dispatchID):null;return event._dispatchListeners=null,event._dispatchIDs=null,res}function hasDispatches(event){return!!event._dispatchListeners}var validateEventDispatches,EventConstants=require("npm:react@0.14.0/lib/EventConstants"),ReactErrorUtils=require("npm:react@0.14.0/lib/ReactErrorUtils"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning"),injection={Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount,"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(InjectedMount&&InjectedMount.getNode&&InjectedMount.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID."):void 0)}},topLevelTypes=EventConstants.topLevelTypes;"production"!==process.env.NODE_ENV&&(validateEventDispatches=function(event){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs,listenersIsArr=Array.isArray(dispatchListeners),idsIsArr=Array.isArray(dispatchIDs),IDsLen=idsIsArr?dispatchIDs.length:dispatchIDs?1:0,listenersLen=listenersIsArr?dispatchListeners.length:dispatchListeners?1:0;"production"!==process.env.NODE_ENV?warning(idsIsArr===listenersIsArr&&IDsLen===listenersLen,"EventPluginUtils: Invalid `event`."):void 0});var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getNode:function(id){return injection.Mount.getNode(id)},getID:function(node){return injection.Mount.getID(node)},injection:injection};module.exports=EventPluginUtils}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactInstanceHandles",["npm:react@0.14.0/lib/ReactRootIndex","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getReactRootIDString(index){return SEPARATOR+index.toString(36)}function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length}function isValidID(id){return""===id||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR}function isAncestorIDOf(ancestorID,descendantID){return 0===descendantID.indexOf(ancestorID)&&isBoundary(descendantID,ancestorID.length)}function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(ancestorID,destinationID){if(isValidID(ancestorID)&&isValidID(destinationID)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",ancestorID,destinationID):invariant(!1),isAncestorIDOf(ancestorID,destinationID)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",ancestorID,destinationID):invariant(!1),ancestorID===destinationID)return ancestorID;var i,start=ancestorID.length+SEPARATOR_LENGTH;for(i=start;i<destinationID.length&&!isBoundary(destinationID,i);i++);return destinationID.substr(0,i)}function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(0===minLength)return"";for(var lastCommonMarkerIndex=0,i=0;minLength>=i;i++)if(isBoundary(oneID,i)&&isBoundary(twoID,i))lastCommonMarkerIndex=i;else if(oneID.charAt(i)!==twoID.charAt(i))break;var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);return isValidID(longestCommonID)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",oneID,twoID,longestCommonID):invariant(!1),longestCommonID}function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||"",stop=stop||"",start===stop?"production"!==process.env.NODE_ENV?invariant(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",start):invariant(!1):void 0;var traverseUp=isAncestorIDOf(stop,start);traverseUp||isAncestorIDOf(start,stop)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",start,stop):invariant(!1);for(var depth=0,traverse=traverseUp?getParentID:getNextDescendantID,id=start;;id=traverse(id,stop)){var ret;if(skipFirst&&id===start||skipLast&&id===stop||(ret=cb(id,traverseUp,arg)),ret===!1||id===stop)break;depth++<MAX_TREE_DEPTH?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",start,stop,id):invariant(!1)}}var ReactRootIndex=require("npm:react@0.14.0/lib/ReactRootIndex"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),SEPARATOR=".",SEPARATOR_LENGTH=SEPARATOR.length,MAX_TREE_DEPTH=1e4,ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex())},createReactID:function(rootID,name){return rootID+name},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id}return null},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);ancestorID!==leaveID&&traverseParentPath(leaveID,ancestorID,cb,upArg,!1,!0),ancestorID!==enterID&&traverseParentPath(ancestorID,enterID,cb,downArg,!0,!1)},traverseTwoPhase:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!1),traverseParentPath(targetID,"",cb,arg,!1,!0))},traverseTwoPhaseSkipTarget:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!0),traverseParentPath(targetID,"",cb,arg,!0,!0))},traverseAncestors:function(targetID,cb,arg){traverseParentPath("",targetID,cb,arg,!0,!1)},getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactMarkupChecksum",["npm:react@0.14.0/lib/adler32"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var adler32=require("npm:react@0.14.0/lib/adler32"),TAG_END=/\/?>/,ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(TAG_END," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'"$&')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};return module.exports=ReactMarkupChecksum,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactRef",["npm:react@0.14.0/lib/ReactOwner","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function attachRef(ref,component,owner){"function"==typeof ref?ref(component.getPublicInstance()):ReactOwner.addComponentAsRefTo(component,ref,owner)}function detachRef(ref,component,owner){"function"==typeof ref?ref(null):ReactOwner.removeComponentAsRefFrom(component,ref,owner)}var ReactOwner=require("npm:react@0.14.0/lib/ReactOwner"),ReactRef={};ReactRef.attachRefs=function(instance,element){if(null!==element&&element!==!1){var ref=element.ref;null!=ref&&attachRef(ref,instance,element._owner)}},ReactRef.shouldUpdateRefs=function(prevElement,nextElement){var prevEmpty=null===prevElement||prevElement===!1,nextEmpty=null===nextElement||nextElement===!1;return prevEmpty||nextEmpty||nextElement._owner!==prevElement._owner||nextElement.ref!==prevElement.ref},ReactRef.detachRefs=function(instance,element){if(null!==element&&element!==!1){var ref=element.ref;null!=ref&&detachRef(ref,instance,element._owner)}},module.exports=ReactRef}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/CallbackQueue",["npm:react@0.14.0/lib/PooledClass","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function CallbackQueue(){this._callbacks=null,this._contexts=null}var PooledClass=require("npm:react@0.14.0/lib/PooledClass"),assign=require("npm:react@0.14.0/lib/Object.assign"),invariant=require("npm:fbjs@0.3.2/lib/invariant");assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(callback),this._contexts.push(context)},notifyAll:function(){var callbacks=this._callbacks,contexts=this._contexts;if(callbacks){callbacks.length!==contexts.length?"production"!==process.env.NODE_ENV?invariant(!1,"Mismatched list of contexts in callback queue"):invariant(!1):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<callbacks.length;i++)callbacks[i].call(contexts[i]);callbacks.length=0,contexts.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(CallbackQueue),module.exports=CallbackQueue}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/isTextNode",["npm:fbjs@0.3.2/lib/isNode"],!0,function(require,exports,module){function isTextNode(object){return isNode(object)&&3==object.nodeType}var global=System.global,__define=global.define;global.define=void 0;var isNode=require("npm:fbjs@0.3.2/lib/isNode");return module.exports=isTextNode,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactCompositeComponent",["npm:react@0.14.0/lib/ReactComponentEnvironment","npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactInstanceMap","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/ReactPropTypeLocations","npm:react@0.14.0/lib/ReactPropTypeLocationNames","npm:react@0.14.0/lib/ReactReconciler","npm:react@0.14.0/lib/ReactUpdateQueue","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/emptyObject","npm:fbjs@0.3.2/lib/invariant","npm:react@0.14.0/lib/shouldUpdateReactComponent","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getDeclarationErrorAddendum(component){var owner=component._currentElement._owner||null;if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function StatelessComponent(Component){}var ReactComponentEnvironment=require("npm:react@0.14.0/lib/ReactComponentEnvironment"),ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactInstanceMap=require("npm:react@0.14.0/lib/ReactInstanceMap"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),ReactPropTypeLocations=require("npm:react@0.14.0/lib/ReactPropTypeLocations"),ReactPropTypeLocationNames=require("npm:react@0.14.0/lib/ReactPropTypeLocationNames"),ReactReconciler=require("npm:react@0.14.0/lib/ReactReconciler"),ReactUpdateQueue=require("npm:react@0.14.0/lib/ReactUpdateQueue"),assign=require("npm:react@0.14.0/lib/Object.assign"),emptyObject=require("npm:fbjs@0.3.2/lib/emptyObject"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),shouldUpdateReactComponent=require("npm:react@0.14.0/lib/shouldUpdateReactComponent"),warning=require("npm:fbjs@0.3.2/lib/warning");StatelessComponent.prototype.render=function(){var Component=ReactInstanceMap.get(this)._currentElement.type;return Component(this.props,this.context,this.updater)};var nextMountID=1,ReactCompositeComponentMixin={construct:function(element){this._currentElement=element,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(rootID,transaction,context){this._context=context,this._mountOrder=nextMountID++,this._rootNodeID=rootID;var inst,renderedElement,publicProps=this._processProps(this._currentElement.props),publicContext=this._processContext(context),Component=this._currentElement.type,canInstantiate="prototype"in Component;if(canInstantiate)if("production"!==process.env.NODE_ENV){ReactCurrentOwner.current=this;try{inst=new Component(publicProps,publicContext,ReactUpdateQueue)}finally{ReactCurrentOwner.current=null}}else inst=new Component(publicProps,publicContext,ReactUpdateQueue);(!canInstantiate||null===inst||inst===!1||ReactElement.isValidElement(inst))&&(renderedElement=inst,inst=new StatelessComponent(Component)),"production"!==process.env.NODE_ENV&&(null==inst.render?"production"!==process.env.NODE_ENV?warning(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",Component.displayName||Component.name||"Component"):void 0:"production"!==process.env.NODE_ENV?warning(Component.prototype&&Component.prototype.isReactComponent||!canInstantiate||!(inst instanceof Component),"%s(...): React component classes must extend React.Component.",Component.displayName||Component.name||"Component"):void 0),inst.props=publicProps,inst.context=publicContext,inst.refs=emptyObject,inst.updater=ReactUpdateQueue,this._instance=inst,ReactInstanceMap.set(inst,this),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!inst.getInitialState||inst.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):void 0,"production"!==process.env.NODE_ENV?warning(!inst.getDefaultProps||inst.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0,"production"!==process.env.NODE_ENV?warning(!inst.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):void 0,"production"!==process.env.NODE_ENV?warning(!inst.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):void 0,"production"!==process.env.NODE_ENV?warning("function"!=typeof inst.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):void 0,"production"!==process.env.NODE_ENV?warning("function"!=typeof inst.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0,"production"!==process.env.NODE_ENV?warning("function"!=typeof inst.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0);var initialState=inst.state;void 0===initialState&&(inst.state=initialState=null),"object"!=typeof initialState||Array.isArray(initialState)?"production"!==process.env.NODE_ENV?invariant(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):invariant(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,inst.componentWillMount&&(inst.componentWillMount(),this._pendingStateQueue&&(inst.state=this._processPendingState(inst.props,inst.context))),void 0===renderedElement&&(renderedElement=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(renderedElement);var markup=ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,this._processChildContext(context));return inst.componentDidMount&&transaction.getReactMountReady().enqueue(inst.componentDidMount,inst),markup},unmountComponent:function(){var inst=this._instance;inst.componentWillUnmount&&inst.componentWillUnmount(),ReactReconciler.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,ReactInstanceMap.remove(inst)},_maskContext:function(context){var maskedContext=null,Component=this._currentElement.type,contextTypes=Component.contextTypes;if(!contextTypes)return emptyObject;maskedContext={};for(var contextName in contextTypes)maskedContext[contextName]=context[contextName];return maskedContext},_processContext:function(context){var maskedContext=this._maskContext(context);if("production"!==process.env.NODE_ENV){var Component=this._currentElement.type;Component.contextTypes&&this._checkPropTypes(Component.contextTypes,maskedContext,ReactPropTypeLocations.context)}return maskedContext},_processChildContext:function(currentContext){var Component=this._currentElement.type,inst=this._instance,childContext=inst.getChildContext&&inst.getChildContext();if(childContext){"object"!=typeof Component.childContextTypes?"production"!==process.env.NODE_ENV?invariant(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):invariant(!1):void 0,"production"!==process.env.NODE_ENV&&this._checkPropTypes(Component.childContextTypes,childContext,ReactPropTypeLocations.childContext);for(var name in childContext)name in Component.childContextTypes?void 0:"production"!==process.env.NODE_ENV?invariant(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",name):invariant(!1);return assign({},currentContext,childContext)}return currentContext},_processProps:function(newProps){if("production"!==process.env.NODE_ENV){var Component=this._currentElement.type;Component.propTypes&&this._checkPropTypes(Component.propTypes,newProps,ReactPropTypeLocations.prop)}return newProps},_checkPropTypes:function(propTypes,props,location){var componentName=this.getName();for(var propName in propTypes)if(propTypes.hasOwnProperty(propName)){var error;try{"function"!=typeof propTypes[propName]?"production"!==process.env.NODE_ENV?invariant(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",componentName||"React class",ReactPropTypeLocationNames[location],propName):invariant(!1):void 0,error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if(error instanceof Error){var addendum=getDeclarationErrorAddendum(this);location===ReactPropTypeLocations.prop?"production"!==process.env.NODE_ENV?warning(!1,"Failed Composite propType: %s%s",error.message,addendum):void 0:"production"!==process.env.NODE_ENV?warning(!1,"Failed Context Types: %s%s",error.message,addendum):void 0}}},receiveComponent:function(nextElement,transaction,nextContext){var prevElement=this._currentElement,prevContext=this._context;this._pendingElement=null,this.updateComponent(transaction,prevElement,nextElement,prevContext,nextContext)},performUpdateIfNecessary:function(transaction){null!=this._pendingElement&&ReactReconciler.receiveComponent(this,this._pendingElement||this._currentElement,transaction,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(transaction,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(transaction,prevParentElement,nextParentElement,prevUnmaskedContext,nextUnmaskedContext){var nextProps,inst=this._instance,nextContext=this._context===nextUnmaskedContext?inst.context:this._processContext(nextUnmaskedContext);prevParentElement===nextParentElement?nextProps=nextParentElement.props:(nextProps=this._processProps(nextParentElement.props),inst.componentWillReceiveProps&&inst.componentWillReceiveProps(nextProps,nextContext));var nextState=this._processPendingState(nextProps,nextContext),shouldUpdate=this._pendingForceUpdate||!inst.shouldComponentUpdate||inst.shouldComponentUpdate(nextProps,nextState,nextContext);"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning("undefined"!=typeof shouldUpdate,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0),
shouldUpdate?(this._pendingForceUpdate=!1,this._performComponentUpdate(nextParentElement,nextProps,nextState,nextContext,transaction,nextUnmaskedContext)):(this._currentElement=nextParentElement,this._context=nextUnmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext)},_processPendingState:function(props,context){var inst=this._instance,queue=this._pendingStateQueue,replace=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!queue)return inst.state;if(replace&&1===queue.length)return queue[0];for(var nextState=assign({},replace?queue[0]:inst.state),i=replace?1:0;i<queue.length;i++){var partial=queue[i];assign(nextState,"function"==typeof partial?partial.call(inst,nextState,props,context):partial)}return nextState},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction,unmaskedContext){var prevProps,prevState,prevContext,inst=this._instance,hasComponentDidUpdate=Boolean(inst.componentDidUpdate);hasComponentDidUpdate&&(prevProps=inst.props,prevState=inst.state,prevContext=inst.context),inst.componentWillUpdate&&inst.componentWillUpdate(nextProps,nextState,nextContext),this._currentElement=nextElement,this._context=unmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext,this._updateRenderedComponent(transaction,unmaskedContext),hasComponentDidUpdate&&transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),inst)},_updateRenderedComponent:function(transaction,context){var prevComponentInstance=this._renderedComponent,prevRenderedElement=prevComponentInstance._currentElement,nextRenderedElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement))ReactReconciler.receiveComponent(prevComponentInstance,nextRenderedElement,transaction,this._processChildContext(context));else{var thisID=this._rootNodeID,prevComponentID=prevComponentInstance._rootNodeID;ReactReconciler.unmountComponent(prevComponentInstance),this._renderedComponent=this._instantiateReactComponent(nextRenderedElement);var nextMarkup=ReactReconciler.mountComponent(this._renderedComponent,thisID,transaction,this._processChildContext(context));this._replaceNodeWithMarkupByID(prevComponentID,nextMarkup)}},_replaceNodeWithMarkupByID:function(prevComponentID,nextMarkup){ReactComponentEnvironment.replaceNodeWithMarkupByID(prevComponentID,nextMarkup)},_renderValidatedComponentWithoutOwnerOrContext:function(){var inst=this._instance,renderedComponent=inst.render();return"production"!==process.env.NODE_ENV&&"undefined"==typeof renderedComponent&&inst.render._isMockFunction&&(renderedComponent=null),renderedComponent},_renderValidatedComponent:function(){var renderedComponent;ReactCurrentOwner.current=this;try{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext()}finally{ReactCurrentOwner.current=null}return null===renderedComponent||renderedComponent===!1||ReactElement.isValidElement(renderedComponent)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):invariant(!1),renderedComponent},attachRef:function(ref,component){var inst=this.getPublicInstance();null==inst?"production"!==process.env.NODE_ENV?invariant(!1,"Stateless function components cannot have refs."):invariant(!1):void 0;var publicComponentInstance=component.getPublicInstance();if("production"!==process.env.NODE_ENV){var componentName=component&&component.getName?component.getName():"a component";"production"!==process.env.NODE_ENV?warning(null!=publicComponentInstance,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',ref,componentName,this.getName()):void 0}var refs=inst.refs===emptyObject?inst.refs={}:inst.refs;refs[ref]=publicComponentInstance},detachRef:function(ref){var refs=this.getPublicInstance().refs;delete refs[ref]},getName:function(){var type=this._currentElement.type,constructor=this._instance&&this._instance.constructor;return type.displayName||constructor&&constructor.displayName||type.name||constructor&&constructor.name||null},getPublicInstance:function(){var inst=this._instance;return inst instanceof StatelessComponent?null:inst},_instantiateReactComponent:null};ReactPerf.measureMethods(ReactCompositeComponentMixin,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};module.exports=ReactCompositeComponent}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/FallbackCompositionState",["npm:react@0.14.0/lib/PooledClass","npm:react@0.14.0/lib/Object.assign","npm:react@0.14.0/lib/getTextContentAccessor"],!0,function(require,exports,module){function FallbackCompositionState(root){this._root=root,this._startText=this.getText(),this._fallbackText=null}var global=System.global,__define=global.define;global.define=void 0;var PooledClass=require("npm:react@0.14.0/lib/PooledClass"),assign=require("npm:react@0.14.0/lib/Object.assign"),getTextContentAccessor=require("npm:react@0.14.0/lib/getTextContentAccessor");return assign(FallbackCompositionState.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[getTextContentAccessor()]},getData:function(){if(this._fallbackText)return this._fallbackText;var start,end,startValue=this._startText,startLength=startValue.length,endValue=this.getText(),endLength=endValue.length;for(start=0;startLength>start&&startValue[start]===endValue[start];start++);var minEnd=startLength-start;for(end=1;minEnd>=end&&startValue[startLength-end]===endValue[endLength-end];end++);var sliceTail=end>1?1-end:void 0;return this._fallbackText=endValue.slice(start,sliceTail),this._fallbackText}}),PooledClass.addPoolingTo(FallbackCompositionState),module.exports=FallbackCompositionState,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticCompositionEvent",["npm:react@0.14.0/lib/SyntheticEvent"],!0,function(require,exports,module){function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticEvent=require("npm:react@0.14.0/lib/SyntheticEvent"),CompositionEventInterface={data:null};return SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface),module.exports=SyntheticCompositionEvent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ChangeEventPlugin",["npm:react@0.14.0/lib/EventConstants","npm:react@0.14.0/lib/EventPluginHub","npm:react@0.14.0/lib/EventPropagators","npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/SyntheticEvent","npm:react@0.14.0/lib/getEventTarget","npm:react@0.14.0/lib/isEventSupported","npm:react@0.14.0/lib/isTextInputElement","npm:fbjs@0.3.2/lib/keyOf","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function shouldUseChangeEvent(elem){var nodeName=elem.nodeName&&elem.nodeName.toLowerCase();return"select"===nodeName||"input"===nodeName&&"file"===elem.type}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent,getEventTarget(nativeEvent));EventPropagators.accumulateTwoPhaseDispatches(event),ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event),EventPluginHub.processEventQueue(!1)}function startWatchingForChangeEventIE8(target,targetID){activeElement=target,activeElementID=targetID,activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){activeElement&&(activeElement.detachEvent("onchange",manualDispatchChangeEvent),activeElement=null,activeElementID=null)}function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topChange?topLevelTargetID:void 0}function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForChangeEventIE8(),startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForChangeEventIE8()}function startWatchingForValueChange(target,targetID){activeElement=target,activeElementID=targetID,activeElementValue=target.value,activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value"),Object.defineProperty(activeElement,"value",newValueProp),activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){activeElement&&(delete activeElement.value,activeElement.detachEvent("onpropertychange",handlePropertyChange),activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null)}function handlePropertyChange(nativeEvent){if("value"===nativeEvent.propertyName){var value=nativeEvent.srcElement.value;value!==activeElementValue&&(activeElementValue=value,manualDispatchChangeEvent(nativeEvent))}}function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topInput?topLevelTargetID:void 0}function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForValueChange(),startWatchingForValueChange(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForValueChange()}function getTargetIDForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType!==topLevelTypes.topSelectionChange&&topLevelType!==topLevelTypes.topKeyUp&&topLevelType!==topLevelTypes.topKeyDown||!activeElement||activeElement.value===activeElementValue?void 0:(activeElementValue=activeElement.value,activeElementID)}function shouldUseClickEvent(elem){return elem.nodeName&&"input"===elem.nodeName.toLowerCase()&&("checkbox"===elem.type||"radio"===elem.type)}function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topClick?topLevelTargetID:void 0}var EventConstants=require("npm:react@0.14.0/lib/EventConstants"),EventPluginHub=require("npm:react@0.14.0/lib/EventPluginHub"),EventPropagators=require("npm:react@0.14.0/lib/EventPropagators"),ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),SyntheticEvent=require("npm:react@0.14.0/lib/SyntheticEvent"),getEventTarget=require("npm:react@0.14.0/lib/getEventTarget"),isEventSupported=require("npm:react@0.14.0/lib/isEventSupported"),isTextInputElement=require("npm:react@0.14.0/lib/isTextInputElement"),keyOf=require("npm:fbjs@0.3.2/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null,doesChangeEventBubble=!1;ExecutionEnvironment.canUseDOM&&(doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8));var isInputEventSupported=!1;ExecutionEnvironment.canUseDOM&&(isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9));var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val,activeElementValueProp.set.call(this,val)}},ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)?doesChangeEventBubble?getTargetIDFunc=getTargetIDForChangeEvent:handleEventFunc=handleEventsForChangeEventIE8:isTextInputElement(topLevelTarget)?isInputEventSupported?getTargetIDFunc=getTargetIDForInputEvent:(getTargetIDFunc=getTargetIDForInputEventIE,handleEventFunc=handleEventsForInputEventIE):shouldUseClickEvent(topLevelTarget)&&(getTargetIDFunc=getTargetIDForClickEvent),getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent,nativeEventTarget);return event.type="change",EventPropagators.accumulateTwoPhaseDispatches(event),event}}handleEventFunc&&handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID)}};module.exports=ChangeEventPlugin}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticMouseEvent",["npm:react@0.14.0/lib/SyntheticUIEvent","npm:react@0.14.0/lib/ViewportMetrics","npm:react@0.14.0/lib/getEventModifierState"],!0,function(require,exports,module){function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticUIEvent=require("npm:react@0.14.0/lib/SyntheticUIEvent"),ViewportMetrics=require("npm:react@0.14.0/lib/ViewportMetrics"),getEventModifierState=require("npm:react@0.14.0/lib/getEventModifierState"),MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;return"which"in event?button:2===button?2:4===button?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};return SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface),module.exports=SyntheticMouseEvent,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactBrowserComponentMixin",["npm:react@0.14.0/lib/ReactInstanceMap","npm:react@0.14.0/lib/findDOMNode","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var ReactInstanceMap=require("npm:react@0.14.0/lib/ReactInstanceMap"),findDOMNode=require("npm:react@0.14.0/lib/findDOMNode"),warning=require("npm:fbjs@0.3.2/lib/warning"),didWarnKey="_getDOMNodeDidWarn",ReactBrowserComponentMixin={getDOMNode:function(){return"production"!==process.env.NODE_ENV?warning(this.constructor[didWarnKey],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",ReactInstanceMap.get(this).getName()||this.tagName||"Unknown"):void 0,this.constructor[didWarnKey]=!0,findDOMNode(this)}};module.exports=ReactBrowserComponentMixin}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/AutoFocusUtils",["npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/findDOMNode","npm:fbjs@0.3.2/lib/focusNode"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactMount=require("npm:react@0.14.0/lib/ReactMount"),findDOMNode=require("npm:react@0.14.0/lib/findDOMNode"),focusNode=require("npm:fbjs@0.3.2/lib/focusNode"),Mixin={componentDidMount:function(){this.props.autoFocus&&focusNode(findDOMNode(this))}},AutoFocusUtils={Mixin:Mixin,focusDOMComponent:function(){focusNode(ReactMount.getNode(this._rootNodeID))}};return module.exports=AutoFocusUtils,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/camelizeStyleName",["npm:fbjs@0.3.2/lib/camelize"],!0,function(require,exports,module){function camelizeStyleName(string){return camelize(string.replace(msPattern,"ms-"))}var global=System.global,__define=global.define;global.define=void 0;var camelize=require("npm:fbjs@0.3.2/lib/camelize"),msPattern=/^-ms-/;return module.exports=camelizeStyleName,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/hyphenateStyleName",["npm:fbjs@0.3.2/lib/hyphenate"],!0,function(require,exports,module){function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,"-ms-")}var global=System.global,__define=global.define;global.define=void 0;var hyphenate=require("npm:fbjs@0.3.2/lib/hyphenate"),msPattern=/^ms-/;return module.exports=hyphenateStyleName,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactPropTypes",["npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactPropTypeLocationNames","npm:fbjs@0.3.2/lib/emptyFunction","npm:react@0.14.0/lib/getIteratorFn"],!0,function(require,exports,module){function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location,propFullName){if(componentName=componentName||ANONYMOUS,propFullName=propFullName||propName,null==props[propName]){var locationName=ReactPropTypeLocationNames[location];return isRequired?new Error("Required "+locationName+" `"+propFullName+"` was not specified in "+("`"+componentName+"`.")):null}return validate(props,propName,componentName,location,propFullName)}var chainedCheckType=checkType.bind(null,!1);return chainedCheckType.isRequired=checkType.bind(null,!0),chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location],preciseType=getPreciseType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null))}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location],propType=getPropType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]");if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){if(!ReactElement.isValidElement(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location],expectedClassName=expectedClass.name||ANONYMOUS,actualClassName=getClassName(props[propName]);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){function validate(props,propName,componentName,location,propFullName){for(var propValue=props[propName],i=0;i<expectedValues.length;i++)if(propValue===expectedValues[i])return null;var locationName=ReactPropTypeLocationNames[location],valuesString=JSON.stringify(expectedValues);return new Error("Invalid "+locationName+" `"+propFullName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return createChainableTypeChecker(Array.isArray(expectedValues)?validate:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue)if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(null==checker(props,propName,componentName,location,propFullName))return null}var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}return createChainableTypeChecker(Array.isArray(arrayOfTypeCheckers)?validate:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}for(var key in shapeTypes){var checker=shapeTypes[key];if(checker){var error=checker(propValue,key,componentName,location,propFullName+"."+key);if(error)return error}}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return!0;case"boolean":return!propValue;case"object":if(Array.isArray(propValue))return propValue.every(isNode);if(null===propValue||ReactElement.isValidElement(propValue))return!0;var iteratorFn=getIteratorFn(propValue);if(!iteratorFn)return!1;var step,iterator=iteratorFn.call(propValue);if(iteratorFn!==propValue.entries){for(;!(step=iterator.next()).done;)if(!isNode(step.value))return!1}else for(;!(step=iterator.next()).done;){var entry=step.value;if(entry&&!isNode(entry[1]))return!1}return!0;default:return!1}}function getPropType(propValue){var propType=typeof propValue;return Array.isArray(propValue)?"array":propValue instanceof RegExp?"object":propType}function getPreciseType(propValue){var propType=getPropType(propValue);if("object"===propType){if(propValue instanceof Date)return"date";if(propValue instanceof RegExp)return"regexp"}return propType}function getClassName(propValue){return propValue.constructor&&propValue.constructor.name?propValue.constructor.name:"<<anonymous>>"}var global=System.global,__define=global.define;global.define=void 0;var ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactPropTypeLocationNames=require("npm:react@0.14.0/lib/ReactPropTypeLocationNames"),emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),getIteratorFn=require("npm:react@0.14.0/lib/getIteratorFn"),ANONYMOUS="<<anonymous>>",ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};return module.exports=ReactPropTypes,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactChildren",["npm:react@0.14.0/lib/PooledClass","npm:react@0.14.0/lib/ReactElement","npm:fbjs@0.3.2/lib/emptyFunction","npm:react@0.14.0/lib/traverseAllChildren"],!0,function(require,exports,module){function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,"//")}function ForEachBookKeeping(forEachFunction,forEachContext){this.func=forEachFunction,this.context=forEachContext,this.count=0}function forEachSingleChild(bookKeeping,child,name){var func=bookKeeping.func,context=bookKeeping.context;func.call(context,child,bookKeeping.count++)}function forEachChildren(children,forEachFunc,forEachContext){if(null==children)return children;var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext),ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult,this.keyPrefix=keyPrefix,this.func=mapFunction,this.context=mapContext,this.count=0}function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result,keyPrefix=bookKeeping.keyPrefix,func=bookKeeping.func,context=bookKeeping.context,mappedChild=func.call(context,child,bookKeeping.count++);Array.isArray(mappedChild)?mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument):null!=mappedChild&&(ReactElement.isValidElement(mappedChild)&&(mappedChild=ReactElement.cloneAndReplaceKey(mappedChild,keyPrefix+(mappedChild!==child?escapeUserProvidedKey(mappedChild.key||"")+"/":"")+childKey)),result.push(mappedChild))}function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix="";null!=prefix&&(escapedPrefix=escapeUserProvidedKey(prefix)+"/");var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext),MapBookKeeping.release(traverseContext)}function mapChildren(children,func,context){if(null==children)return children;var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,func,context),result}function forEachSingleChildDummy(traverseContext,child,name){return null}function countChildren(children,context){return traverseAllChildren(children,forEachSingleChildDummy,null)}function toArray(children){var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,emptyFunction.thatReturnsArgument),result}var global=System.global,__define=global.define;global.define=void 0;var PooledClass=require("npm:react@0.14.0/lib/PooledClass"),ReactElement=require("npm:react@0.14.0/lib/ReactElement"),emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),traverseAllChildren=require("npm:react@0.14.0/lib/traverseAllChildren"),twoArgumentPooler=PooledClass.twoArgumentPooler,fourArgumentPooler=PooledClass.fourArgumentPooler,userProvidedKeyEscapeRegex=/\/(?!\/)/g;ForEachBookKeeping.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler),MapBookKeeping.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(MapBookKeeping,fourArgumentPooler);var ReactChildren={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};return module.exports=ReactChildren,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactMultiChild",["npm:react@0.14.0/lib/ReactComponentEnvironment","npm:react@0.14.0/lib/ReactMultiChildUpdateTypes","npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/ReactReconciler","npm:react@0.14.0/lib/ReactChildReconciler","npm:react@0.14.0/lib/flattenChildren","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function enqueueInsertMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,content:null,fromIndex:null,toIndex:toIndex})}function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:toIndex})}function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:null})}function enqueueSetMarkup(parentID,markup){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.SET_MARKUP,markupIndex:null,content:markup,fromIndex:null,toIndex:null})}function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,content:textContent,fromIndex:null,toIndex:null})}function processQueue(){updateQueue.length&&(ReactComponentEnvironment.processChildrenUpdates(updateQueue,markupQueue),clearQueue())}function clearQueue(){updateQueue.length=0,markupQueue.length=0}var ReactComponentEnvironment=require("npm:react@0.14.0/lib/ReactComponentEnvironment"),ReactMultiChildUpdateTypes=require("npm:react@0.14.0/lib/ReactMultiChildUpdateTypes"),ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),ReactReconciler=require("npm:react@0.14.0/lib/ReactReconciler"),ReactChildReconciler=require("npm:react@0.14.0/lib/ReactChildReconciler"),flattenChildren=require("npm:react@0.14.0/lib/flattenChildren"),updateDepth=0,updateQueue=[],markupQueue=[],ReactMultiChild={Mixin:{_reconcilerInstantiateChildren:function(nestedChildren,transaction,context){if("production"!==process.env.NODE_ENV&&this._currentElement)try{return ReactCurrentOwner.current=this._currentElement._owner,ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)}finally{ReactCurrentOwner.current=null}return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)},_reconcilerUpdateChildren:function(prevChildren,nextNestedChildrenElements,transaction,context){var nextChildren;if("production"!==process.env.NODE_ENV&&this._currentElement){try{ReactCurrentOwner.current=this._currentElement._owner,nextChildren=flattenChildren(nextNestedChildrenElements)}finally{ReactCurrentOwner.current=null;
}return ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context)}return nextChildren=flattenChildren(nextNestedChildrenElements),ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context)},mountChildren:function(nestedChildren,transaction,context){var children=this._reconcilerInstantiateChildren(nestedChildren,transaction,context);this._renderedChildren=children;var mountImages=[],index=0;for(var name in children)if(children.hasOwnProperty(name)){var child=children[name],rootID=this._rootNodeID+name,mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index++,mountImages.push(mountImage)}return mountImages},updateTextContent:function(nextContent){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChild(prevChildren[name]);this.setTextContent(nextContent),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateMarkup:function(nextMarkup){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChildByName(prevChildren[name],name);this.setMarkup(nextMarkup),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateChildren:function(nextNestedChildrenElements,transaction,context){updateDepth++;var errorThrown=!0;try{this._updateChildren(nextNestedChildrenElements,transaction,context),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},_updateChildren:function(nextNestedChildrenElements,transaction,context){var prevChildren=this._renderedChildren,nextChildren=this._reconcilerUpdateChildren(prevChildren,nextNestedChildrenElements,transaction,context);if(this._renderedChildren=nextChildren,nextChildren||prevChildren){var name,lastIndex=0,nextIndex=0;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){var prevChild=prevChildren&&prevChildren[name],nextChild=nextChildren[name];prevChild===nextChild?(this.moveChild(prevChild,nextIndex,lastIndex),lastIndex=Math.max(prevChild._mountIndex,lastIndex),prevChild._mountIndex=nextIndex):(prevChild&&(lastIndex=Math.max(prevChild._mountIndex,lastIndex),this._unmountChild(prevChild)),this._mountChildByNameAtIndex(nextChild,name,nextIndex,transaction,context)),nextIndex++}for(name in prevChildren)!prevChildren.hasOwnProperty(name)||nextChildren&&nextChildren.hasOwnProperty(name)||this._unmountChild(prevChildren[name])}},unmountChildren:function(){var renderedChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(renderedChildren),this._renderedChildren=null},moveChild:function(child,toIndex,lastIndex){child._mountIndex<lastIndex&&enqueueMove(this._rootNodeID,child._mountIndex,toIndex)},createChild:function(child,mountImage){enqueueInsertMarkup(this._rootNodeID,mountImage,child._mountIndex)},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex)},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent)},setMarkup:function(markup){enqueueSetMarkup(this._rootNodeID,markup)},_mountChildByNameAtIndex:function(child,name,index,transaction,context){var rootID=this._rootNodeID+name,mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index,this.createChild(child,mountImage)},_unmountChild:function(child){this.removeChild(child),child._mountIndex=null}}};module.exports=ReactMultiChild}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactEventListener",["npm:fbjs@0.3.2/lib/EventListener","npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:react@0.14.0/lib/PooledClass","npm:react@0.14.0/lib/ReactInstanceHandles","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/Object.assign","npm:react@0.14.0/lib/getEventTarget","npm:fbjs@0.3.2/lib/getUnboundedScrollPosition","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function findParent(node){var nodeID=ReactMount.getID(node),rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),container=ReactMount.findReactContainerForID(rootID),parent=ReactMount.getFirstReactDOM(container);return parent}function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType,this.nativeEvent=nativeEvent,this.ancestors=[]}function handleTopLevelImpl(bookKeeping){handleTopLevelWithoutPath(bookKeeping)}function handleTopLevelWithoutPath(bookKeeping){for(var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(bookKeeping.nativeEvent))||window,ancestor=topLevelTarget;ancestor;)bookKeeping.ancestors.push(ancestor),ancestor=findParent(ancestor);for(var i=0;i<bookKeeping.ancestors.length;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||"";ReactEventListener._handleTopLevel(bookKeeping.topLevelType,topLevelTarget,topLevelTargetID,bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}}function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition)}var EventListener=require("npm:fbjs@0.3.2/lib/EventListener"),ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),PooledClass=require("npm:react@0.14.0/lib/PooledClass"),ReactInstanceHandles=require("npm:react@0.14.0/lib/ReactInstanceHandles"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),assign=require("npm:react@0.14.0/lib/Object.assign"),getEventTarget=require("npm:react@0.14.0/lib/getEventTarget"),getUnboundedScrollPosition=require("npm:fbjs@0.3.2/lib/getUnboundedScrollPosition");assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);var ReactEventListener={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,"scroll",callback)},dispatchEvent:function(topLevelType,nativeEvent){if(ReactEventListener._enabled){var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}}};module.exports=ReactEventListener}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactComponent",["npm:react@0.14.0/lib/ReactNoopUpdateQueue","npm:fbjs@0.3.2/lib/emptyObject","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function ReactComponent(props,context,updater){this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue}var ReactNoopUpdateQueue=require("npm:react@0.14.0/lib/ReactNoopUpdateQueue"),emptyObject=require("npm:fbjs@0.3.2/lib/emptyObject"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning");if(ReactComponent.prototype.isReactComponent={},ReactComponent.prototype.setState=function(partialState,callback){"object"!=typeof partialState&&"function"!=typeof partialState&&null!=partialState?"production"!==process.env.NODE_ENV?invariant(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):invariant(!1):void 0,"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null!=partialState,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):void 0),this.updater.enqueueSetState(this,partialState),callback&&this.updater.enqueueCallback(this,callback)},ReactComponent.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this),callback&&this.updater.enqueueCallback(this,callback)},"production"!==process.env.NODE_ENV){var deprecatedAPIs={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},defineDeprecationWarning=function(methodName,info){try{Object.defineProperty(ReactComponent.prototype,methodName,{get:function(){return void("production"!==process.env.NODE_ENV?warning(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",info[0],info[1]):void 0)}})}catch(x){}};for(var fnName in deprecatedAPIs)deprecatedAPIs.hasOwnProperty(fnName)&&defineDeprecationWarning(fnName,deprecatedAPIs[fnName])}module.exports=ReactComponent}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMSelection",["npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:react@0.14.0/lib/getNodeForCharacterOffset","npm:react@0.14.0/lib/getTextContentAccessor"],!0,function(require,exports,module){function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset}function getIEOffsets(node){var selection=document.selection,selectedRange=selection.createRange(),selectedLength=selectedRange.text.length,fromStart=selectedRange.duplicate();fromStart.moveToElementText(node),fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length,endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||0===selection.rangeCount)return null;var anchorNode=selection.anchorNode,anchorOffset=selection.anchorOffset,focusNode=selection.focusNode,focusOffset=selection.focusOffset,currentRange=selection.getRangeAt(0);try{currentRange.startContainer.nodeType,currentRange.endContainer.nodeType}catch(e){return null}var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset),rangeLength=isSelectionCollapsed?0:currentRange.toString().length,tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node),tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset),start=isTempRangeCollapsed?0:tempRange.toString().length,end=start+rangeLength,detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset),detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var start,end,range=document.selection.createRange().duplicate();"undefined"==typeof offsets.end?(start=offsets.start,end=start):offsets.start>offsets.end?(start=offsets.end,end=offsets.start):(start=offsets.start,end=offsets.end),range.moveToElementText(node),range.moveStart("character",start),range.setEndPoint("EndToStart",range),range.moveEnd("character",end-start),range.select()}function setModernOffsets(node,offsets){if(window.getSelection){var selection=window.getSelection(),length=node[getTextContentAccessor()].length,start=Math.min(offsets.start,length),end="undefined"==typeof offsets.end?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start,start=temp}var startMarker=getNodeForCharacterOffset(node,start),endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset),selection.removeAllRanges(),start>end?(selection.addRange(range),selection.extend(endMarker.node,endMarker.offset)):(range.setEnd(endMarker.node,endMarker.offset),selection.addRange(range))}}}var global=System.global,__define=global.define;global.define=void 0;var ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),getNodeForCharacterOffset=require("npm:react@0.14.0/lib/getNodeForCharacterOffset"),getTextContentAccessor=require("npm:react@0.14.0/lib/getTextContentAccessor"),useIEOffsets=ExecutionEnvironment.canUseDOM&&"selection"in document&&!("getSelection"in window),ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};return module.exports=ReactDOMSelection,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SyntheticKeyboardEvent",["npm:react@0.14.0/lib/SyntheticUIEvent","npm:react@0.14.0/lib/getEventCharCode","npm:react@0.14.0/lib/getEventKey","npm:react@0.14.0/lib/getEventModifierState"],!0,function(require,exports,module){function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var global=System.global,__define=global.define;global.define=void 0;var SyntheticUIEvent=require("npm:react@0.14.0/lib/SyntheticUIEvent"),getEventCharCode=require("npm:react@0.14.0/lib/getEventCharCode"),getEventKey=require("npm:react@0.14.0/lib/getEventKey"),getEventModifierState=require("npm:react@0.14.0/lib/getEventModifierState"),KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){return"keypress"===event.type?getEventCharCode(event):0},keyCode:function(event){return"keydown"===event.type||"keyup"===event.type?event.keyCode:0},which:function(event){return"keypress"===event.type?getEventCharCode(event):"keydown"===event.type||"keyup"===event.type?event.keyCode:0}};return SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface),module.exports=SyntheticKeyboardEvent,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/performanceNow",["npm:fbjs@0.3.2/lib/performance"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var performance=require("npm:fbjs@0.3.2/lib/performance"),curPerformance=performance;curPerformance&&curPerformance.now||(curPerformance=Date);var performanceNow=curPerformance.now.bind(curPerformance);return module.exports=performanceNow,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactServerRendering",["npm:react@0.14.0/lib/ReactDefaultBatchingStrategy","npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactInstanceHandles","npm:react@0.14.0/lib/ReactMarkupChecksum","npm:react@0.14.0/lib/ReactServerBatchingStrategy","npm:react@0.14.0/lib/ReactServerRenderingTransaction","npm:react@0.14.0/lib/ReactUpdates","npm:fbjs@0.3.2/lib/emptyObject","npm:react@0.14.0/lib/instantiateReactComponent","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function renderToString(element){ReactElement.isValidElement(element)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"renderToString(): You must pass a valid ReactElement."):invariant(!1);var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!1),transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null),markup=componentInstance.mountComponent(id,transaction,emptyObject);return ReactMarkupChecksum.addChecksumToMarkup(markup)},null)}finally{ReactServerRenderingTransaction.release(transaction),ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}function renderToStaticMarkup(element){ReactElement.isValidElement(element)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"renderToStaticMarkup(): You must pass a valid ReactElement."):invariant(!1);var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!0),transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);return componentInstance.mountComponent(id,transaction,emptyObject)},null)}finally{ReactServerRenderingTransaction.release(transaction),ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}var ReactDefaultBatchingStrategy=require("npm:react@0.14.0/lib/ReactDefaultBatchingStrategy"),ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactInstanceHandles=require("npm:react@0.14.0/lib/ReactInstanceHandles"),ReactMarkupChecksum=require("npm:react@0.14.0/lib/ReactMarkupChecksum"),ReactServerBatchingStrategy=require("npm:react@0.14.0/lib/ReactServerBatchingStrategy"),ReactServerRenderingTransaction=require("npm:react@0.14.0/lib/ReactServerRenderingTransaction"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),emptyObject=require("npm:fbjs@0.3.2/lib/emptyObject"),instantiateReactComponent=require("npm:react@0.14.0/lib/instantiateReactComponent"),invariant=require("npm:fbjs@0.3.2/lib/invariant");module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup}}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMFactories",["npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactElementValidator","npm:fbjs@0.3.2/lib/mapObject","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function createDOMFactory(tag){return"production"!==process.env.NODE_ENV?ReactElementValidator.createFactory(tag):ReactElement.createFactory(tag)}var ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactElementValidator=require("npm:react@0.14.0/lib/ReactElementValidator"),mapObject=require("npm:fbjs@0.3.2/lib/mapObject"),ReactDOMFactories=mapObject({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},createDOMFactory);module.exports=ReactDOMFactories}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react-dom@0.14.0",["npm:react-dom@0.14.0/index"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:react-dom@0.14.0/index"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$",["npm:core-js@0.9.18/library/modules/$.fw"],!0,function(require,exports,module){function toInteger(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}function desc(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}function simpleSet(object,key,value){return object[key]=value,object}function createDefiner(bitmap){return DESC?function(object,key,value){return $.setDesc(object,key,desc(bitmap,value))}:simpleSet}function isObject(it){return null!==it&&("object"==typeof it||"function"==typeof it)}function isFunction(it){return"function"==typeof it}function assertDefined(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}var global=System.global,__define=global.define;global.define=void 0;var global="undefined"!=typeof self?self:Function("return this")(),core={},defineProperty=Object.defineProperty,hasOwnProperty={}.hasOwnProperty,ceil=Math.ceil,floor=Math.floor,max=Math.max,min=Math.min,DESC=!!function(){try{return 2==defineProperty({},"a",{get:function(){return 2}}).a}catch(e){}}(),hide=createDefiner(1),$=module.exports=require("npm:core-js@0.9.18/library/modules/$.fw")({g:global,core:core,html:global.document&&document.documentElement,isObject:isObject,isFunction:isFunction,that:function(){return this},toInteger:toInteger,toLength:function(it){return it>0?min(toInteger(it),9007199254740991):0},toIndex:function(index,length){return index=toInteger(index),0>index?max(index+length,0):min(index,length)},has:function(it,key){return hasOwnProperty.call(it,key)},create:Object.create,getProto:Object.getPrototypeOf,DESC:DESC,desc:desc,getDesc:Object.getOwnPropertyDescriptor,setDesc:defineProperty,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:assertDefined,ES5Object:Object,toObject:function(it){return $.ES5Object(assertDefined(it))},hide:hide,def:createDefiner(0),set:global.Symbol?simpleSet:hide,each:[].forEach});return"undefined"!=typeof __e&&(__e=core),"undefined"!=typeof __g&&(__g=global),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es6.object.statics-accept-primitives",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.def","npm:core-js@0.9.18/library/modules/$.get-names"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),$def=require("npm:core-js@0.9.18/library/modules/$.def"),isObject=$.isObject,toObject=$.toObject;return $.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(KEY,ID){var fn=($.core.Object||{})[KEY]||Object[KEY],forced=0,method={};method[KEY]=0==ID?function(it){return isObject(it)?fn(it):it}:1==ID?function(it){return isObject(it)?fn(it):it}:2==ID?function(it){return isObject(it)?fn(it):it}:3==ID?function(it){return isObject(it)?fn(it):!0}:4==ID?function(it){return isObject(it)?fn(it):!0}:5==ID?function(it){return isObject(it)?fn(it):!1}:6==ID?function(it,key){return fn(toObject(it),key)}:7==ID?function(it){return fn(Object($.assertDefined(it)))}:8==ID?function(it){return fn(toObject(it))}:require("npm:core-js@0.9.18/library/modules/$.get-names").get;try{fn("z")}catch(e){forced=1}$def($def.S+$def.F*forced,"Object",method)}),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/object/create",["npm:core-js@0.9.18/library/fn/object/create"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/object/create"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.set-proto",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.assert","npm:core-js@0.9.18/library/modules/$.ctx"],!0,function(require,exports,module){function check(O,proto){assert.obj(O),assert(null===proto||$.isObject(proto),proto,": can't set as prototype!")}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),assert=require("npm:core-js@0.9.18/library/modules/$.assert");return module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(buggy,set){try{set=require("npm:core-js@0.9.18/library/modules/$.ctx")(Function.call,$.getDesc(Object.prototype,"__proto__").set,2),set({},[])}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}():void 0),check:check},global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/object/define-property",["npm:core-js@0.9.18/library/fn/object/define-property"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/object/define-property"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.assign",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.enum-keys"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),enumKeys=require("npm:core-js@0.9.18/library/modules/$.enum-keys");return module.exports=Object.assign||function(target,source){for(var T=Object($.assertDefined(target)),l=arguments.length,i=1;l>i;)for(var key,S=$.ES5Object(arguments[i++]),keys=enumKeys(S),length=keys.length,j=0;length>j;)T[key=keys[j++]]=S[key];return T},global.define=__define,module.exports}),System.register("npm:react-dispatcher@0.2.1/lib/Dispatcher",["npm:react-dispatcher@0.2.1/lib/invariant"],!0,function(require,exports,module){function Dispatcher(){"use strict";this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var global=System.global,__define=global.define;global.define=void 0;var invariant=require("npm:react-dispatcher@0.2.1/lib/invariant"),_lastID=1,_prefix="ID_";return Dispatcher.prototype.register=function(callback){"use strict";var id=_prefix+_lastID++;return this.$Dispatcher_callbacks[id]=callback,id},Dispatcher.prototype.unregister=function(id){"use strict";invariant(this.$Dispatcher_callbacks[id],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",id),delete this.$Dispatcher_callbacks[id]},Dispatcher.prototype.waitFor=function(ids){"use strict";invariant(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var ii=0;ii<ids.length;ii++){var id=ids[ii];this.$Dispatcher_isPending[id]?invariant(this.$Dispatcher_isHandled[id],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",id):(invariant(this.$Dispatcher_callbacks[id],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",id),this.$Dispatcher_invokeCallback(id))}},Dispatcher.prototype.dispatch=function(payload){"use strict";invariant(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(payload);try{for(var id in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[id]||this.$Dispatcher_invokeCallback(id)}finally{this.$Dispatcher_stopDispatching()}},Dispatcher.prototype.isDispatching=function(){"use strict";return this.$Dispatcher_isDispatching},Dispatcher.prototype.$Dispatcher_invokeCallback=function(id){"use strict";this.$Dispatcher_isPending[id]=!0,this.$Dispatcher_callbacks[id](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[id]=!0},Dispatcher.prototype.$Dispatcher_startDispatching=function(payload){"use strict";for(var id in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[id]=!1,this.$Dispatcher_isHandled[id]=!1;this.$Dispatcher_pendingPayload=payload,this.$Dispatcher_isDispatching=!0},Dispatcher.prototype.$Dispatcher_stopDispatching=function(){"use strict";this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},module.exports=Dispatcher,global.define=__define,module.exports}),System.register("npm:events@1.0.2",["npm:events@1.0.2/events"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:events@1.0.2/events"),global.define=__define,module.exports}),System.register("github:mbostock/d3@3.5.6",["github:mbostock/d3@3.5.6/d3"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("github:mbostock/d3@3.5.6/d3"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.wks",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.shared","npm:core-js@0.9.18/library/modules/$.uid"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var global=require("npm:core-js@0.9.18/library/modules/$").g,store=require("npm:core-js@0.9.18/library/modules/$.shared")("wks");return module.exports=function(name){return store[name]||(store[name]=global.Symbol&&global.Symbol[name]||require("npm:core-js@0.9.18/library/modules/$.uid").safe("Symbol."+name))},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es6.string.iterator",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.string-at","npm:core-js@0.9.18/library/modules/$.uid","npm:core-js@0.9.18/library/modules/$.iter","npm:core-js@0.9.18/library/modules/$.iter-define"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var set=require("npm:core-js@0.9.18/library/modules/$").set,$at=require("npm:core-js@0.9.18/library/modules/$.string-at")(!0),ITER=require("npm:core-js@0.9.18/library/modules/$.uid").safe("iter"),$iter=require("npm:core-js@0.9.18/library/modules/$.iter"),step=$iter.step;
return require("npm:core-js@0.9.18/library/modules/$.iter-define")(String,"String",function(iterated){set(this,ITER,{o:String(iterated),i:0})},function(){var point,iter=this[ITER],O=iter.o,index=iter.i;return index>=O.length?step(1):(point=$at(O,index),iter.i+=point.length,step(0,point))}),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es6.array.iterator",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.unscope","npm:core-js@0.9.18/library/modules/$.uid","npm:core-js@0.9.18/library/modules/$.iter","npm:core-js@0.9.18/library/modules/$.iter-define"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),setUnscope=require("npm:core-js@0.9.18/library/modules/$.unscope"),ITER=require("npm:core-js@0.9.18/library/modules/$.uid").safe("iter"),$iter=require("npm:core-js@0.9.18/library/modules/$.iter"),step=$iter.step,Iterators=$iter.Iterators;return require("npm:core-js@0.9.18/library/modules/$.iter-define")(Array,"Array",function(iterated,kind){$.set(this,ITER,{o:$.toObject(iterated),i:0,k:kind})},function(){var iter=this[ITER],O=iter.o,kind=iter.k,index=iter.i++;return!O||index>=O.length?(iter.o=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,setUnscope("keys"),setUnscope("values"),setUnscope("entries"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.for-of",["npm:core-js@0.9.18/library/modules/$.ctx","npm:core-js@0.9.18/library/modules/$.iter","npm:core-js@0.9.18/library/modules/$.iter-call"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ctx=require("npm:core-js@0.9.18/library/modules/$.ctx"),get=require("npm:core-js@0.9.18/library/modules/$.iter").get,call=require("npm:core-js@0.9.18/library/modules/$.iter-call");return module.exports=function(iterable,entries,fn,that){for(var step,iterator=get(iterable),f=ctx(fn,that,entries?2:1);!(step=iterator.next()).done;)if(call(iterator,f,step.value,entries)===!1)return call.close(iterator)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.collection",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.def","npm:core-js@0.9.18/library/modules/$.iter","npm:core-js@0.9.18/library/modules/$.for-of","npm:core-js@0.9.18/library/modules/$.assert","npm:core-js@0.9.18/library/modules/$.uid","npm:core-js@0.9.18/library/modules/$.mix","npm:core-js@0.9.18/library/modules/$.cof","npm:core-js@0.9.18/library/modules/$.species"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),$def=require("npm:core-js@0.9.18/library/modules/$.def"),$iter=require("npm:core-js@0.9.18/library/modules/$.iter"),BUGGY=$iter.BUGGY,forOf=require("npm:core-js@0.9.18/library/modules/$.for-of"),assertInstance=require("npm:core-js@0.9.18/library/modules/$.assert").inst,INTERNAL=require("npm:core-js@0.9.18/library/modules/$.uid").safe("internal");return module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=$.g[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={};return $.DESC&&$.isFunction(C)&&(IS_WEAK||!BUGGY&&proto.forEach&&proto.entries)?(C=wrapper(function(target,iterable){assertInstance(target,C,NAME),target[INTERNAL]=new Base,void 0!=iterable&&forOf(iterable,IS_MAP,target[ADDER],target)}),$.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(KEY){var chain="add"==KEY||"set"==KEY;KEY in proto&&$.hide(C.prototype,KEY,function(a,b){var result=this[INTERNAL][KEY](0===a?0:a,b);return chain?this:result})}),"size"in proto&&$.setDesc(C.prototype,"size",{get:function(){return this[INTERNAL].size}})):(C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),require("npm:core-js@0.9.18/library/modules/$.mix")(C.prototype,methods)),require("npm:core-js@0.9.18/library/modules/$.cof").set(C,NAME),O[NAME]=C,$def($def.G+$def.W+$def.F,O),require("npm:core-js@0.9.18/library/modules/$.species")(C),IS_WEAK||common.setIter(C,NAME,IS_MAP),C},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es7.map.to-json",["npm:core-js@0.9.18/library/modules/$.collection-to-json"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.18/library/modules/$.collection-to-json")("Map"),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/object/get-own-property-names",["npm:core-js@0.9.18/library/fn/object/get-own-property-names"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/object/get-own-property-names"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es6.array.from",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.ctx","npm:core-js@0.9.18/library/modules/$.def","npm:core-js@0.9.18/library/modules/$.iter","npm:core-js@0.9.18/library/modules/$.iter-call","npm:core-js@0.9.18/library/modules/$.iter-detect"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),ctx=require("npm:core-js@0.9.18/library/modules/$.ctx"),$def=require("npm:core-js@0.9.18/library/modules/$.def"),$iter=require("npm:core-js@0.9.18/library/modules/$.iter"),call=require("npm:core-js@0.9.18/library/modules/$.iter-call");return $def($def.S+$def.F*!require("npm:core-js@0.9.18/library/modules/$.iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=Object($.assertDefined(arrayLike)),mapfn=arguments[1],mapping=void 0!==mapfn,f=mapping?ctx(mapfn,arguments[2],2):void 0,index=0;if($iter.is(O))for(iterator=$iter.get(O),result=new("function"==typeof this?this:Array);!(step=iterator.next()).done;index++)result[index]=mapping?call(iterator,f,[step.value,index],!0):step.value;else for(result=new("function"==typeof this?this:Array)(length=$.toLength(O.length));length>index;index++)result[index]=mapping?f(O[index],index):O[index];return result.length=index,result}}),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/get-iterator",["npm:core-js@0.9.18/library/modules/web.dom.iterable","npm:core-js@0.9.18/library/modules/es6.string.iterator","npm:core-js@0.9.18/library/modules/core.iter-helpers","npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.18/library/modules/web.dom.iterable"),require("npm:core-js@0.9.18/library/modules/es6.string.iterator"),require("npm:core-js@0.9.18/library/modules/core.iter-helpers"),module.exports=require("npm:core-js@0.9.18/library/modules/$").core.getIterator,global.define=__define,module.exports}),System.register("github:moment/moment@2.10.6",["github:moment/moment@2.10.6/moment"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("github:moment/moment@2.10.6/moment"),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/object/keys",["npm:core-js@0.9.18/library/fn/object/keys"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/object/keys"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:classnames@2.1.5",["npm:classnames@2.1.5/index"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:classnames@2.1.5/index"),global.define=__define,module.exports}),System.register("github:jspm/nodelibs-process@0.1.2/index",["npm:process@0.11.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=System._nodeRequire?process:require("npm:process@0.11.2"),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/EventPluginHub",["npm:react@0.14.0/lib/EventPluginRegistry","npm:react@0.14.0/lib/EventPluginUtils","npm:react@0.14.0/lib/ReactErrorUtils","npm:react@0.14.0/lib/accumulateInto","npm:react@0.14.0/lib/forEachAccumulated","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function validateInstanceHandle(){var valid=InstanceHandle&&InstanceHandle.traverseTwoPhase&&InstanceHandle.traverseEnterLeave;"production"!==process.env.NODE_ENV?warning(valid,"InstanceHandle not injected before use!"):void 0}var EventPluginRegistry=require("npm:react@0.14.0/lib/EventPluginRegistry"),EventPluginUtils=require("npm:react@0.14.0/lib/EventPluginUtils"),ReactErrorUtils=require("npm:react@0.14.0/lib/ReactErrorUtils"),accumulateInto=require("npm:react@0.14.0/lib/accumulateInto"),forEachAccumulated=require("npm:react@0.14.0/lib/forEachAccumulated"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning"),listenerBank={},eventQueue=null,executeDispatchesAndRelease=function(event,simulated){event&&(EventPluginUtils.executeDispatchesInOrder(event,simulated),event.isPersistent()||event.constructor.release(event))},executeDispatchesAndReleaseSimulated=function(e){return executeDispatchesAndRelease(e,!0)},executeDispatchesAndReleaseTopLevel=function(e){return executeDispatchesAndRelease(e,!1)},InstanceHandle=null,EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle,"production"!==process.env.NODE_ENV&&validateInstanceHandle()},getInstanceHandle:function(){return"production"!==process.env.NODE_ENV&&validateInstanceHandle(),InstanceHandle},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){"function"!=typeof listener?"production"!==process.env.NODE_ENV?invariant(!1,"Expected %s listener to be a function, instead got type %s",registrationName,typeof listener):invariant(!1):void 0;var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.didPutListener&&PluginModule.didPutListener(id,registrationName,listener)},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id]},deleteListener:function(id,registrationName){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(id,registrationName);var bankForRegistrationName=listenerBank[registrationName];bankForRegistrationName&&delete bankForRegistrationName[id]},deleteAllListeners:function(id){for(var registrationName in listenerBank)if(listenerBank[registrationName][id]){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(id,registrationName),delete listenerBank[registrationName][id]}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){for(var events,plugins=EventPluginRegistry.plugins,i=0;i<plugins.length;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);extractedEvents&&(events=accumulateInto(events,extractedEvents))}}return events},enqueueEvents:function(events){events&&(eventQueue=accumulateInto(eventQueue,events))},processEventQueue:function(simulated){var processingEventQueue=eventQueue;eventQueue=null,simulated?forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseSimulated):forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseTopLevel),eventQueue?"production"!==process.env.NODE_ENV?invariant(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):invariant(!1):void 0,ReactErrorUtils.rethrowCaughtError()},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactReconciler",["npm:react@0.14.0/lib/ReactRef"],!0,function(require,exports,module){function attachRefs(){ReactRef.attachRefs(this,this._currentElement)}var global=System.global,__define=global.define;global.define=void 0;var ReactRef=require("npm:react@0.14.0/lib/ReactRef"),ReactReconciler={mountComponent:function(internalInstance,rootID,transaction,context){var markup=internalInstance.mountComponent(rootID,transaction,context);return internalInstance._currentElement&&null!=internalInstance._currentElement.ref&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance),markup},unmountComponent:function(internalInstance){ReactRef.detachRefs(internalInstance,internalInstance._currentElement),internalInstance.unmountComponent()},receiveComponent:function(internalInstance,nextElement,transaction,context){var prevElement=internalInstance._currentElement;if(nextElement!==prevElement||context!==internalInstance._context){var refsChanged=ReactRef.shouldUpdateRefs(prevElement,nextElement);refsChanged&&ReactRef.detachRefs(internalInstance,prevElement),internalInstance.receiveComponent(nextElement,transaction,context),refsChanged&&internalInstance._currentElement&&null!=internalInstance._currentElement.ref&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance)}},performUpdateIfNecessary:function(internalInstance,transaction){internalInstance.performUpdateIfNecessary(transaction)}};return module.exports=ReactReconciler,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactUpdates",["npm:react@0.14.0/lib/CallbackQueue","npm:react@0.14.0/lib/PooledClass","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/ReactReconciler","npm:react@0.14.0/lib/Transaction","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function ensureInjected(){ReactUpdates.ReactReconcileTransaction&&batchingStrategy?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):invariant(!1)}function ReactUpdatesFlushTransaction(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=CallbackQueue.getPooled(),this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled(!1)}function batchedUpdates(callback,a,b,c,d,e){ensureInjected(),batchingStrategy.batchedUpdates(callback,a,b,c,d,e)}function mountOrderComparator(c1,c2){return c1._mountOrder-c2._mountOrder}function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;len!==dirtyComponents.length?"production"!==process.env.NODE_ENV?invariant(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",len,dirtyComponents.length):invariant(!1):void 0,dirtyComponents.sort(mountOrderComparator);for(var i=0;len>i;i++){var component=dirtyComponents[i],callbacks=component._pendingCallbacks;if(component._pendingCallbacks=null,ReactReconciler.performUpdateIfNecessary(component,transaction.reconcileTransaction),callbacks)for(var j=0;j<callbacks.length;j++)transaction.callbackQueue.enqueue(callbacks[j],component.getPublicInstance())}}function enqueueUpdate(component){return ensureInjected(),batchingStrategy.isBatchingUpdates?void dirtyComponents.push(component):void batchingStrategy.batchedUpdates(enqueueUpdate,component)}function asap(callback,context){batchingStrategy.isBatchingUpdates?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):invariant(!1),asapCallbackQueue.enqueue(callback,context),asapEnqueued=!0}var CallbackQueue=require("npm:react@0.14.0/lib/CallbackQueue"),PooledClass=require("npm:react@0.14.0/lib/PooledClass"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),ReactReconciler=require("npm:react@0.14.0/lib/ReactReconciler"),Transaction=require("npm:react@0.14.0/lib/Transaction"),assign=require("npm:react@0.14.0/lib/Object.assign"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),dirtyComponents=[],asapCallbackQueue=CallbackQueue.getPooled(),asapEnqueued=!1,batchingStrategy=null,NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){this.dirtyComponentsLength!==dirtyComponents.length?(dirtyComponents.splice(0,this.dirtyComponentsLength),flushBatchedUpdates()):dirtyComponents.length=0}},UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null,CallbackQueue.release(this.callbackQueue),this.callbackQueue=null,ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a)}}),PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);var flushBatchedUpdates=function(){for(;dirtyComponents.length||asapEnqueued;){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction),ReactUpdatesFlushTransaction.release(transaction)}if(asapEnqueued){asapEnqueued=!1;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled(),queue.notifyAll(),CallbackQueue.release(queue)}}};flushBatchedUpdates=ReactPerf.measure("ReactUpdates","flushBatchedUpdates",flushBatchedUpdates);var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){ReconcileTransaction?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"ReactUpdates: must provide a reconcile transaction class"):invariant(!1),ReactUpdates.ReactReconcileTransaction=ReconcileTransaction},injectBatchingStrategy:function(_batchingStrategy){_batchingStrategy?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"ReactUpdates: must provide a batching strategy"):invariant(!1),"function"!=typeof _batchingStrategy.batchedUpdates?"production"!==process.env.NODE_ENV?invariant(!1,"ReactUpdates: must provide a batchedUpdates() function"):invariant(!1):void 0,"boolean"!=typeof _batchingStrategy.isBatchingUpdates?"production"!==process.env.NODE_ENV?invariant(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):invariant(!1):void 0,batchingStrategy=_batchingStrategy}},ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/containsNode",["npm:fbjs@0.3.2/lib/isTextNode"],!0,function(require,exports,module){function containsNode(_x,_x2){var _again=!0;_function:for(;_again;){var outerNode=_x,innerNode=_x2;if(_again=!1,outerNode&&innerNode){if(outerNode===innerNode)return!0;if(isTextNode(outerNode))return!1;if(isTextNode(innerNode)){_x=outerNode,_x2=innerNode.parentNode,_again=!0;continue _function}return outerNode.contains?outerNode.contains(innerNode):outerNode.compareDocumentPosition?!!(16&outerNode.compareDocumentPosition(innerNode)):!1}return!1}}var global=System.global,__define=global.define;global.define=void 0;var isTextNode=require("npm:fbjs@0.3.2/lib/isTextNode");return module.exports=containsNode,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/instantiateReactComponent",["npm:react@0.14.0/lib/ReactCompositeComponent","npm:react@0.14.0/lib/ReactEmptyComponent","npm:react@0.14.0/lib/ReactNativeComponent","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function isInternalComponentType(type){return"function"==typeof type&&"undefined"!=typeof type.prototype&&"function"==typeof type.prototype.mountComponent&&"function"==typeof type.prototype.receiveComponent}function instantiateReactComponent(node){var instance;if(null===node||node===!1)instance=new ReactEmptyComponent(instantiateReactComponent);else if("object"==typeof node){var element=node;!element||"function"!=typeof element.type&&"string"!=typeof element.type?"production"!==process.env.NODE_ENV?invariant(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==element.type?element.type:typeof element.type,getDeclarationErrorAddendum(element._owner)):invariant(!1):void 0,instance="string"==typeof element.type?ReactNativeComponent.createInternalComponent(element):isInternalComponentType(element.type)?new element.type(element):new ReactCompositeComponentWrapper}else"string"==typeof node||"number"==typeof node?instance=ReactNativeComponent.createInstanceForText(node):"production"!==process.env.NODE_ENV?invariant(!1,"Encountered invalid React node of type %s",typeof node):invariant(!1);return"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning("function"==typeof instance.construct&&"function"==typeof instance.mountComponent&&"function"==typeof instance.receiveComponent&&"function"==typeof instance.unmountComponent,"Only React Components can be mounted."):void 0),instance.construct(node),instance._mountIndex=0,instance._mountImage=null,"production"!==process.env.NODE_ENV&&(instance._isOwnerNecessary=!1,instance._warnedAboutRefsInRender=!1),"production"!==process.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(instance),instance}var ReactCompositeComponent=require("npm:react@0.14.0/lib/ReactCompositeComponent"),ReactEmptyComponent=require("npm:react@0.14.0/lib/ReactEmptyComponent"),ReactNativeComponent=require("npm:react@0.14.0/lib/ReactNativeComponent"),assign=require("npm:react@0.14.0/lib/Object.assign"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning"),ReactCompositeComponentWrapper=function(){};assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent}),module.exports=instantiateReactComponent}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/BeforeInputEventPlugin",["npm:react@0.14.0/lib/EventConstants","npm:react@0.14.0/lib/EventPropagators","npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:react@0.14.0/lib/FallbackCompositionState","npm:react@0.14.0/lib/SyntheticCompositionEvent","npm:react@0.14.0/lib/SyntheticInputEvent","npm:fbjs@0.3.2/lib/keyOf"],!0,function(require,exports,module){function isPresto(){var opera=window.opera;return"object"==typeof opera&&"function"==typeof opera.version&&parseInt(opera.version(),10)<=12}function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey)}function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackCompositionStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackCompositionEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return-1!==END_KEYCODES.indexOf(nativeEvent.keyCode);case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return!0;default:return!1}}function getDataFromCustomEvent(nativeEvent){var detail=nativeEvent.detail;return"object"==typeof detail&&"data"in detail?detail.data:null}function extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var eventType,fallbackData;if(canUseCompositionEvent?eventType=getCompositionEventType(topLevelType):currentComposition?isFallbackCompositionEnd(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionEnd):isFallbackCompositionStart(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionStart),!eventType)return null;useFallbackCompositionData&&(currentComposition||eventType!==eventTypes.compositionStart?eventType===eventTypes.compositionEnd&&currentComposition&&(fallbackData=currentComposition.getData()):currentComposition=FallbackCompositionState.getPooled(topLevelTarget));var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent,nativeEventTarget);if(fallbackData)event.data=fallbackData;else{var customData=getDataFromCustomEvent(nativeEvent);null!==customData&&(event.data=customData)}return EventPropagators.accumulateTwoPhaseDispatches(event),event}function getNativeBeforeInputChars(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(nativeEvent);case topLevelTypes.topKeyPress:var which=nativeEvent.which;return which!==SPACEBAR_CODE?null:(hasSpaceKeypress=!0,SPACEBAR_CHAR);case topLevelTypes.topTextInput:var chars=nativeEvent.data;return chars===SPACEBAR_CHAR&&hasSpaceKeypress?null:chars;default:return null}}function getFallbackBeforeInputChars(topLevelType,nativeEvent){if(currentComposition){if(topLevelType===topLevelTypes.topCompositionEnd||isFallbackCompositionEnd(topLevelType,nativeEvent)){var chars=currentComposition.getData();return FallbackCompositionState.release(currentComposition),currentComposition=null,chars}return null}switch(topLevelType){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:return nativeEvent.which&&!isKeypressCommand(nativeEvent)?String.fromCharCode(nativeEvent.which):null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:nativeEvent.data;default:return null}}function extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var chars;if(chars=canUseTextInputEvent?getNativeBeforeInputChars(topLevelType,nativeEvent):getFallbackBeforeInputChars(topLevelType,nativeEvent),!chars)return null;var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,topLevelTargetID,nativeEvent,nativeEventTarget);return event.data=chars,EventPropagators.accumulateTwoPhaseDispatches(event),event}var global=System.global,__define=global.define;global.define=void 0;var EventConstants=require("npm:react@0.14.0/lib/EventConstants"),EventPropagators=require("npm:react@0.14.0/lib/EventPropagators"),ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),FallbackCompositionState=require("npm:react@0.14.0/lib/FallbackCompositionState"),SyntheticCompositionEvent=require("npm:react@0.14.0/lib/SyntheticCompositionEvent"),SyntheticInputEvent=require("npm:react@0.14.0/lib/SyntheticInputEvent"),keyOf=require("npm:fbjs@0.3.2/lib/keyOf"),END_KEYCODES=[9,13,27,32],START_KEYCODE=229,canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window,documentMode=null;ExecutionEnvironment.canUseDOM&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!documentMode&&!isPresto(),useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&11>=documentMode),SPACEBAR_CODE=32,SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE),topLevelTypes=EventConstants.topLevelTypes,eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}},hasSpaceKeypress=!1,currentComposition=null,BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){return[extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget),extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget)]}};return module.exports=BeforeInputEventPlugin,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/EnterLeaveEventPlugin",["npm:react@0.14.0/lib/EventConstants","npm:react@0.14.0/lib/EventPropagators","npm:react@0.14.0/lib/SyntheticMouseEvent","npm:react@0.14.0/lib/ReactMount","npm:fbjs@0.3.2/lib/keyOf"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var EventConstants=require("npm:react@0.14.0/lib/EventConstants"),EventPropagators=require("npm:react@0.14.0/lib/EventPropagators"),SyntheticMouseEvent=require("npm:react@0.14.0/lib/SyntheticMouseEvent"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),keyOf=require("npm:fbjs@0.3.2/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,getFirstReactDOM=ReactMount.getFirstReactDOM,eventTypes={mouseEnter:{
registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}},extractedEvents=[null,null],EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement))return null;if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver)return null;var win;if(topLevelTarget.window===topLevelTarget)win=topLevelTarget;else{var doc=topLevelTarget.ownerDocument;win=doc?doc.defaultView||doc.parentWindow:window}var from,to,fromID="",toID="";if(topLevelType===topLevelTypes.topMouseOut?(from=topLevelTarget,fromID=topLevelTargetID,to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement),to?toID=ReactMount.getID(to):to=win,to=to||win):(from=win,to=topLevelTarget,toID=topLevelTargetID),from===to)return null;var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent,nativeEventTarget);leave.type="mouseleave",leave.target=from,leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent,nativeEventTarget);return enter.type="mouseenter",enter.target=to,enter.relatedTarget=from,EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID),extractedEvents[0]=leave,extractedEvents[1]=enter,extractedEvents}};return module.exports=EnterLeaveEventPlugin,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/CSSPropertyOperations",["npm:react@0.14.0/lib/CSSProperty","npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:react@0.14.0/lib/ReactPerf","npm:fbjs@0.3.2/lib/camelizeStyleName","npm:react@0.14.0/lib/dangerousStyleValue","npm:fbjs@0.3.2/lib/hyphenateStyleName","npm:fbjs@0.3.2/lib/memoizeStringOnly","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var CSSProperty=require("npm:react@0.14.0/lib/CSSProperty"),ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),camelizeStyleName=require("npm:fbjs@0.3.2/lib/camelizeStyleName"),dangerousStyleValue=require("npm:react@0.14.0/lib/dangerousStyleValue"),hyphenateStyleName=require("npm:fbjs@0.3.2/lib/hyphenateStyleName"),memoizeStringOnly=require("npm:fbjs@0.3.2/lib/memoizeStringOnly"),warning=require("npm:fbjs@0.3.2/lib/warning"),processStyleName=memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName)}),hasShorthandPropertyBug=!1,styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM){var tempStyle=document.createElement("div").style;try{tempStyle.font=""}catch(e){hasShorthandPropertyBug=!0}void 0===document.documentElement.style.cssFloat&&(styleFloatAccessor="styleFloat")}if("production"!==process.env.NODE_ENV)var badVendoredStyleNamePattern=/^(?:webkit|moz|o)[A-Z]/,badStyleValueWithSemicolonPattern=/;\s*$/,warnedStyleNames={},warnedStyleValues={},warnHyphenatedStyleName=function(name){warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]||(warnedStyleNames[name]=!0,"production"!==process.env.NODE_ENV?warning(!1,"Unsupported style property %s. Did you mean %s?",name,camelizeStyleName(name)):void 0)},warnBadVendoredStyleName=function(name){warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]||(warnedStyleNames[name]=!0,"production"!==process.env.NODE_ENV?warning(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",name,name.charAt(0).toUpperCase()+name.slice(1)):void 0)},warnStyleValueWithSemicolon=function(name,value){warnedStyleValues.hasOwnProperty(value)&&warnedStyleValues[value]||(warnedStyleValues[value]=!0,"production"!==process.env.NODE_ENV?warning(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',name,value.replace(badStyleValueWithSemicolonPattern,"")):void 0)},warnValidStyle=function(name,value){name.indexOf("-")>-1?warnHyphenatedStyleName(name):badVendoredStyleNamePattern.test(name)?warnBadVendoredStyleName(name):badStyleValueWithSemicolonPattern.test(value)&&warnStyleValueWithSemicolon(name,value)};var CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized="";for(var styleName in styles)if(styles.hasOwnProperty(styleName)){var styleValue=styles[styleName];"production"!==process.env.NODE_ENV&&warnValidStyle(styleName,styleValue),null!=styleValue&&(serialized+=processStyleName(styleName)+":",serialized+=dangerousStyleValue(styleName,styleValue)+";")}return serialized||null},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles)if(styles.hasOwnProperty(styleName)){"production"!==process.env.NODE_ENV&&warnValidStyle(styleName,styles[styleName]);var styleValue=dangerousStyleValue(styleName,styles[styleName]);if("float"===styleName&&(styleName=styleFloatAccessor),styleValue)style[styleName]=styleValue;else{var expansion=hasShorthandPropertyBug&&CSSProperty.shorthandPropertyExpansions[styleName];if(expansion)for(var individualStyleName in expansion)style[individualStyleName]="";else style[styleName]=""}}}};ReactPerf.measureMethods(CSSPropertyOperations,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),module.exports=CSSPropertyOperations}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/LinkedValueUtils",["npm:react@0.14.0/lib/ReactPropTypes","npm:react@0.14.0/lib/ReactPropTypeLocations","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function _assertSingleLink(inputProps){null!=inputProps.checkedLink&&null!=inputProps.valueLink?"production"!==process.env.NODE_ENV?invariant(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):invariant(!1):void 0}function _assertValueLink(inputProps){_assertSingleLink(inputProps),null!=inputProps.value||null!=inputProps.onChange?"production"!==process.env.NODE_ENV?invariant(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):invariant(!1):void 0}function _assertCheckedLink(inputProps){_assertSingleLink(inputProps),null!=inputProps.checked||null!=inputProps.onChange?"production"!==process.env.NODE_ENV?invariant(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):invariant(!1):void 0}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}var ReactPropTypes=require("npm:react@0.14.0/lib/ReactPropTypes"),ReactPropTypeLocations=require("npm:react@0.14.0/lib/ReactPropTypeLocations"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning"),hasReadOnlyValue={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},propTypes={value:function(props,propName,componentName){return!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(props,propName,componentName){return!props[propName]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func},loggedTypeFailures={},LinkedValueUtils={checkPropTypes:function(tagName,props,owner){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName))var error=propTypes[propName](props,propName,tagName,ReactPropTypeLocations.prop);if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;var addendum=getDeclarationErrorAddendum(owner);"production"!==process.env.NODE_ENV?warning(!1,"Failed form propType: %s%s",error.message,addendum):void 0}}},getValue:function(inputProps){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.value):inputProps.value},getChecked:function(inputProps){return inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.value):inputProps.checked},executeOnChange:function(inputProps,event){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.requestChange(event.target.value)):inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.requestChange(event.target.checked)):inputProps.onChange?inputProps.onChange.call(void 0,event):void 0}};module.exports=LinkedValueUtils}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMOption",["npm:react@0.14.0/lib/ReactChildren","npm:react@0.14.0/lib/ReactDOMSelect","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var ReactChildren=require("npm:react@0.14.0/lib/ReactChildren"),ReactDOMSelect=require("npm:react@0.14.0/lib/ReactDOMSelect"),assign=require("npm:react@0.14.0/lib/Object.assign"),warning=require("npm:fbjs@0.3.2/lib/warning"),valueContextKey=ReactDOMSelect.valueContextKey,ReactDOMOption={mountWrapper:function(inst,props,context){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null==props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):void 0);var selectValue=context[valueContextKey],selected=null;if(null!=selectValue)if(selected=!1,Array.isArray(selectValue)){for(var i=0;i<selectValue.length;i++)if(""+selectValue[i]==""+props.value){selected=!0;break}}else selected=""+selectValue==""+props.value;inst._wrapperState={selected:selected}},getNativeProps:function(inst,props,context){var nativeProps=assign({selected:void 0,children:void 0},props);null!=inst._wrapperState.selected&&(nativeProps.selected=inst._wrapperState.selected);var content="";return ReactChildren.forEach(props.children,function(child){null!=child&&("string"==typeof child||"number"==typeof child?content+=child:"production"!==process.env.NODE_ENV?warning(!1,"Only strings and numbers are supported as <option> children."):void 0)}),nativeProps.children=content,nativeProps}};module.exports=ReactDOMOption}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactClass",["npm:react@0.14.0/lib/ReactComponent","npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactPropTypeLocations","npm:react@0.14.0/lib/ReactPropTypeLocationNames","npm:react@0.14.0/lib/ReactNoopUpdateQueue","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/emptyObject","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/keyMirror","npm:fbjs@0.3.2/lib/keyOf","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function warnSetProps(){warnedSetProps||(warnedSetProps=!0,"production"!==process.env.NODE_ENV?warning(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."):void 0)}function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef)typeDef.hasOwnProperty(propName)&&("production"!==process.env.NODE_ENV?warning("function"==typeof typeDef[propName],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",Constructor.displayName||"ReactClass",ReactPropTypeLocationNames[location],propName):void 0)}function validateMethodOverride(proto,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;ReactClassMixin.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.OVERRIDE_BASE?"production"!==process.env.NODE_ENV?invariant(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",name):invariant(!1):void 0),proto.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.DEFINE_MANY&&specPolicy!==SpecPolicy.DEFINE_MANY_MERGED?"production"!==process.env.NODE_ENV?invariant(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name):invariant(!1):void 0)}function mixSpecIntoComponent(Constructor,spec){if(spec){"function"==typeof spec?"production"!==process.env.NODE_ENV?invariant(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):invariant(!1):void 0,ReactElement.isValidElement(spec)?"production"!==process.env.NODE_ENV?invariant(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):invariant(!1):void 0;var proto=Constructor.prototype;spec.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);for(var name in spec)if(spec.hasOwnProperty(name)&&name!==MIXINS_KEY){var property=spec[name];if(validateMethodOverride(proto,name),RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](Constructor,property);else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name),isAlreadyDefined=proto.hasOwnProperty(name),isFunction="function"==typeof property,shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==!1;if(shouldAutoBind)proto.__reactAutoBindMap||(proto.__reactAutoBindMap={}),proto.__reactAutoBindMap[name]=property,proto[name]=property;else if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];!isReactClassMethod||specPolicy!==SpecPolicy.DEFINE_MANY_MERGED&&specPolicy!==SpecPolicy.DEFINE_MANY?"production"!==process.env.NODE_ENV?invariant(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",specPolicy,name):invariant(!1):void 0,specPolicy===SpecPolicy.DEFINE_MANY_MERGED?proto[name]=createMergedResultFunction(proto[name],property):specPolicy===SpecPolicy.DEFINE_MANY&&(proto[name]=createChainedFunction(proto[name],property))}else proto[name]=property,"production"!==process.env.NODE_ENV&&"function"==typeof property&&spec.displayName&&(proto[name].displayName=spec.displayName+"_"+name)}}}}function mixStaticSpecIntoComponent(Constructor,statics){if(statics)for(var name in statics){var property=statics[name];if(statics.hasOwnProperty(name)){var isReserved=name in RESERVED_SPEC_KEYS;isReserved?"production"!==process.env.NODE_ENV?invariant(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',name):invariant(!1):void 0;var isInherited=name in Constructor;isInherited?"production"!==process.env.NODE_ENV?invariant(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name):invariant(!1):void 0,Constructor[name]=property}}}function mergeIntoWithNoDuplicateKeys(one,two){one&&two&&"object"==typeof one&&"object"==typeof two?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):invariant(!1);for(var key in two)two.hasOwnProperty(key)&&(void 0!==one[key]?"production"!==process.env.NODE_ENV?invariant(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",key):invariant(!1):void 0,one[key]=two[key]);return one}function createMergedResultFunction(one,two){return function(){var a=one.apply(this,arguments),b=two.apply(this,arguments);if(null==a)return b;if(null==b)return a;var c={};return mergeIntoWithNoDuplicateKeys(c,a),mergeIntoWithNoDuplicateKeys(c,b),c}}function createChainedFunction(one,two){return function(){one.apply(this,arguments),two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);if("production"!==process.env.NODE_ENV){boundMethod.__reactBoundContext=component,boundMethod.__reactBoundMethod=method,boundMethod.__reactBoundArguments=null;var componentName=component.constructor.displayName,_bind=boundMethod.bind;boundMethod.bind=function(newThis){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)args[_key-1]=arguments[_key];if(newThis!==component&&null!==newThis)"production"!==process.env.NODE_ENV?warning(!1,"bind(): React component methods may only be bound to the component instance. See %s",componentName):void 0;else if(!args.length)return"production"!==process.env.NODE_ENV?warning(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",componentName):void 0,boundMethod;var reboundMethod=_bind.apply(boundMethod,arguments);return reboundMethod.__reactBoundContext=component,reboundMethod.__reactBoundMethod=method,reboundMethod.__reactBoundArguments=args,reboundMethod}}return boundMethod}function bindAutoBindMethods(component){for(var autoBindKey in component.__reactAutoBindMap)if(component.__reactAutoBindMap.hasOwnProperty(autoBindKey)){var method=component.__reactAutoBindMap[autoBindKey];component[autoBindKey]=bindAutoBindMethod(component,method)}}var ReactComponent=require("npm:react@0.14.0/lib/ReactComponent"),ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactPropTypeLocations=require("npm:react@0.14.0/lib/ReactPropTypeLocations"),ReactPropTypeLocationNames=require("npm:react@0.14.0/lib/ReactPropTypeLocationNames"),ReactNoopUpdateQueue=require("npm:react@0.14.0/lib/ReactNoopUpdateQueue"),assign=require("npm:react@0.14.0/lib/Object.assign"),emptyObject=require("npm:fbjs@0.3.2/lib/emptyObject"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),keyMirror=require("npm:fbjs@0.3.2/lib/keyMirror"),keyOf=require("npm:fbjs@0.3.2/lib/keyOf"),warning=require("npm:fbjs@0.3.2/lib/warning"),MIXINS_KEY=keyOf({mixins:null}),SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),injectedMixins=[],warnedSetProps=!1,ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE},RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(Constructor,mixins[i])},childContextTypes:function(Constructor,childContextTypes){"production"!==process.env.NODE_ENV&&validateTypeDef(Constructor,childContextTypes,ReactPropTypeLocations.childContext),Constructor.childContextTypes=assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){"production"!==process.env.NODE_ENV&&validateTypeDef(Constructor,contextTypes,ReactPropTypeLocations.context),Constructor.contextTypes=assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){Constructor.getDefaultProps?Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps):Constructor.getDefaultProps=getDefaultProps},propTypes:function(Constructor,propTypes){"production"!==process.env.NODE_ENV&&validateTypeDef(Constructor,propTypes,ReactPropTypeLocations.prop),Constructor.propTypes=assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}},ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState),callback&&this.updater.enqueueCallback(this,callback)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(partialProps,callback){"production"!==process.env.NODE_ENV&&warnSetProps(),this.updater.enqueueSetProps(this,partialProps),callback&&this.updater.enqueueCallback(this,callback)},replaceProps:function(newProps,callback){"production"!==process.env.NODE_ENV&&warnSetProps(),this.updater.enqueueReplaceProps(this,newProps),callback&&this.updater.enqueueCallback(this,callback)}},ReactClassComponent=function(){};assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(spec){var Constructor=function(props,context,updater){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(this instanceof Constructor,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):void 0),this.__reactAutoBindMap&&bindAutoBindMethods(this),this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue,this.state=null;var initialState=this.getInitialState?this.getInitialState():null;"production"!==process.env.NODE_ENV&&"undefined"==typeof initialState&&this.getInitialState._isMockFunction&&(initialState=null),"object"!=typeof initialState||Array.isArray(initialState)?"production"!==process.env.NODE_ENV?invariant(!1,"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent"):invariant(!1):void 0,this.state=initialState};Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,spec),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),"production"!==process.env.NODE_ENV&&(Constructor.getDefaultProps&&(Constructor.getDefaultProps.isReactClassApproved={}),Constructor.prototype.getInitialState&&(Constructor.prototype.getInitialState.isReactClassApproved={})),Constructor.prototype.render?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"createClass(...): Class specification must implement a `render` method."):invariant(!1),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!Constructor.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",spec.displayName||"A component"):void 0,"production"!==process.env.NODE_ENV?warning(!Constructor.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",spec.displayName||"A component"):void 0);for(var methodName in ReactClassInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return Constructor},injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};module.exports=ReactClass}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactInputSelection",["npm:react@0.14.0/lib/ReactDOMSelection","npm:fbjs@0.3.2/lib/containsNode","npm:fbjs@0.3.2/lib/focusNode","npm:fbjs@0.3.2/lib/getActiveElement"],!0,function(require,exports,module){function isInDocument(node){return containsNode(document.documentElement,node)}var global=System.global,__define=global.define;global.define=void 0;var ReactDOMSelection=require("npm:react@0.14.0/lib/ReactDOMSelection"),containsNode=require("npm:fbjs@0.3.2/lib/containsNode"),focusNode=require("npm:fbjs@0.3.2/lib/focusNode"),getActiveElement=require("npm:fbjs@0.3.2/lib/getActiveElement"),ReactInputSelection={hasSelectionCapabilities:function(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&("input"===nodeName&&"text"===elem.type||"textarea"===nodeName||"true"===elem.contentEditable)},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement(),priorFocusedElem=priorSelectionInformation.focusedElem,priorSelectionRange=priorSelectionInformation.selectionRange;curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)&&(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)&&ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange),focusNode(priorFocusedElem))},getSelection:function(input){var selection;if("selectionStart"in input)selection={start:input.selectionStart,end:input.selectionEnd};else if(document.selection&&input.nodeName&&"input"===input.nodeName.toLowerCase()){var range=document.selection.createRange();range.parentElement()===input&&(selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)})}else selection=ReactDOMSelection.getOffsets(input);return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start,end=offsets.end;if("undefined"==typeof end&&(end=start),"selectionStart"in input)input.selectionStart=start,input.selectionEnd=Math.min(end,input.value.length);else if(document.selection&&input.nodeName&&"input"===input.nodeName.toLowerCase()){var range=input.createTextRange();range.collapse(!0),range.moveStart("character",start),range.moveEnd("character",end-start),range.select()}else ReactDOMSelection.setOffsets(input,offsets)}};return module.exports=ReactInputSelection,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/SimpleEventPlugin",["npm:react@0.14.0/lib/EventConstants","npm:fbjs@0.3.2/lib/EventListener","npm:react@0.14.0/lib/EventPropagators","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/SyntheticClipboardEvent","npm:react@0.14.0/lib/SyntheticEvent","npm:react@0.14.0/lib/SyntheticFocusEvent","npm:react@0.14.0/lib/SyntheticKeyboardEvent","npm:react@0.14.0/lib/SyntheticMouseEvent","npm:react@0.14.0/lib/SyntheticDragEvent","npm:react@0.14.0/lib/SyntheticTouchEvent","npm:react@0.14.0/lib/SyntheticUIEvent","npm:react@0.14.0/lib/SyntheticWheelEvent","npm:fbjs@0.3.2/lib/emptyFunction","npm:react@0.14.0/lib/getEventCharCode","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/keyOf","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var EventConstants=require("npm:react@0.14.0/lib/EventConstants"),EventListener=require("npm:fbjs@0.3.2/lib/EventListener"),EventPropagators=require("npm:react@0.14.0/lib/EventPropagators"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),SyntheticClipboardEvent=require("npm:react@0.14.0/lib/SyntheticClipboardEvent"),SyntheticEvent=require("npm:react@0.14.0/lib/SyntheticEvent"),SyntheticFocusEvent=require("npm:react@0.14.0/lib/SyntheticFocusEvent"),SyntheticKeyboardEvent=require("npm:react@0.14.0/lib/SyntheticKeyboardEvent"),SyntheticMouseEvent=require("npm:react@0.14.0/lib/SyntheticMouseEvent"),SyntheticDragEvent=require("npm:react@0.14.0/lib/SyntheticDragEvent"),SyntheticTouchEvent=require("npm:react@0.14.0/lib/SyntheticTouchEvent"),SyntheticUIEvent=require("npm:react@0.14.0/lib/SyntheticUIEvent"),SyntheticWheelEvent=require("npm:react@0.14.0/lib/SyntheticWheelEvent"),emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),getEventCharCode=require("npm:react@0.14.0/lib/getEventCharCode"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),keyOf=require("npm:fbjs@0.3.2/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={abort:{phasedRegistrationNames:{bubbled:keyOf({onAbort:!0}),captured:keyOf({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:!0}),captured:keyOf({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:keyOf({onCanPlay:!0}),captured:keyOf({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:keyOf({onCanPlayThrough:!0}),captured:keyOf({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:!0}),captured:keyOf({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:!0}),captured:keyOf({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:!0}),captured:keyOf({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:!0}),captured:keyOf({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:!0}),captured:keyOf({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:!0}),captured:keyOf({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:!0}),captured:keyOf({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:!0}),captured:keyOf({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:!0}),captured:keyOf({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:!0}),captured:keyOf({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:!0}),captured:keyOf({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:!0}),captured:keyOf({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:!0}),captured:keyOf({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:keyOf({onDurationChange:!0}),captured:keyOf({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:keyOf({onEmptied:!0}),captured:keyOf({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:keyOf({onEncrypted:!0}),captured:keyOf({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:keyOf({onEnded:!0}),captured:keyOf({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:!0}),captured:keyOf({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:!0}),captured:keyOf({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:!0}),captured:keyOf({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:!0}),captured:keyOf({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:!0}),captured:keyOf({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:!0}),captured:keyOf({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:!0}),captured:keyOf({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{
bubbled:keyOf({onLoadedData:!0}),captured:keyOf({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:keyOf({onLoadedMetadata:!0}),captured:keyOf({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:keyOf({onLoadStart:!0}),captured:keyOf({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:!0}),captured:keyOf({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:!0}),captured:keyOf({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:!0}),captured:keyOf({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:!0}),captured:keyOf({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:!0}),captured:keyOf({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:!0}),captured:keyOf({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:keyOf({onPause:!0}),captured:keyOf({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:keyOf({onPlay:!0}),captured:keyOf({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:keyOf({onPlaying:!0}),captured:keyOf({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:keyOf({onProgress:!0}),captured:keyOf({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:keyOf({onRateChange:!0}),captured:keyOf({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:!0}),captured:keyOf({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:!0}),captured:keyOf({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:keyOf({onSeeked:!0}),captured:keyOf({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:keyOf({onSeeking:!0}),captured:keyOf({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:keyOf({onStalled:!0}),captured:keyOf({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:!0}),captured:keyOf({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:keyOf({onSuspend:!0}),captured:keyOf({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:keyOf({onTimeUpdate:!0}),captured:keyOf({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:!0}),captured:keyOf({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:!0}),captured:keyOf({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:!0}),captured:keyOf({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:!0}),captured:keyOf({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:keyOf({onVolumeChange:!0}),captured:keyOf({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:keyOf({onWaiting:!0}),captured:keyOf({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:!0}),captured:keyOf({onWheelCapture:!0})}}},topLevelEventsToDispatchConfig={topAbort:eventTypes.abort,topBlur:eventTypes.blur,topCanPlay:eventTypes.canPlay,topCanPlayThrough:eventTypes.canPlayThrough,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topDurationChange:eventTypes.durationChange,topEmptied:eventTypes.emptied,topEncrypted:eventTypes.encrypted,topEnded:eventTypes.ended,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topLoadedData:eventTypes.loadedData,topLoadedMetadata:eventTypes.loadedMetadata,topLoadStart:eventTypes.loadStart,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topPause:eventTypes.pause,topPlay:eventTypes.play,topPlaying:eventTypes.playing,topProgress:eventTypes.progress,topRateChange:eventTypes.rateChange,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSeeked:eventTypes.seeked,topSeeking:eventTypes.seeking,topStalled:eventTypes.stalled,topSubmit:eventTypes.submit,topSuspend:eventTypes.suspend,topTimeUpdate:eventTypes.timeUpdate,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topVolumeChange:eventTypes.volumeChange,topWaiting:eventTypes.waiting,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig)topLevelEventsToDispatchConfig[type].dependencies=[type];var ON_CLICK_KEY=keyOf({onClick:null}),onClickListeners={},SimpleEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig)return null;var EventConstructor;switch(topLevelType){case topLevelTypes.topAbort:case topLevelTypes.topCanPlay:case topLevelTypes.topCanPlayThrough:case topLevelTypes.topDurationChange:case topLevelTypes.topEmptied:case topLevelTypes.topEncrypted:case topLevelTypes.topEnded:case topLevelTypes.topError:case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topLoadedData:case topLevelTypes.topLoadedMetadata:case topLevelTypes.topLoadStart:case topLevelTypes.topPause:case topLevelTypes.topPlay:case topLevelTypes.topPlaying:case topLevelTypes.topProgress:case topLevelTypes.topRateChange:case topLevelTypes.topReset:case topLevelTypes.topSeeked:case topLevelTypes.topSeeking:case topLevelTypes.topStalled:case topLevelTypes.topSubmit:case topLevelTypes.topSuspend:case topLevelTypes.topTimeUpdate:case topLevelTypes.topVolumeChange:case topLevelTypes.topWaiting:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(0===getEventCharCode(nativeEvent))return null;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(2===nativeEvent.button)return null;case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent}EventConstructor?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",topLevelType):invariant(!1);var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent,nativeEventTarget);return EventPropagators.accumulateTwoPhaseDispatches(event),event},didPutListener:function(id,registrationName,listener){if(registrationName===ON_CLICK_KEY){var node=ReactMount.getNode(id);onClickListeners[id]||(onClickListeners[id]=EventListener.listen(node,"click",emptyFunction))}},willDeleteListener:function(id,registrationName){registrationName===ON_CLICK_KEY&&(onClickListeners[id].remove(),delete onClickListeners[id])}};module.exports=SimpleEventPlugin}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDefaultPerf",["npm:react@0.14.0/lib/DOMProperty","npm:react@0.14.0/lib/ReactDefaultPerfAnalysis","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/ReactPerf","npm:fbjs@0.3.2/lib/performanceNow"],!0,function(require,exports,module){function roundFloat(val){return Math.floor(100*val)/100}function addValue(obj,key,val){obj[key]=(obj[key]||0)+val}var global=System.global,__define=global.define;global.define=void 0;var DOMProperty=require("npm:react@0.14.0/lib/DOMProperty"),ReactDefaultPerfAnalysis=require("npm:react@0.14.0/lib/ReactDefaultPerfAnalysis"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),performanceNow=require("npm:fbjs@0.3.2/lib/performanceNow"),ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){ReactDefaultPerf._injected||ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure),ReactDefaultPerf._allMeasurements.length=0,ReactPerf.enableMeasure=!0},stop:function(){ReactPerf.enableMeasure=!1},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{"Component class name":item.componentName,"Total inclusive time (ms)":roundFloat(item.inclusive),"Exclusive mount time (ms)":roundFloat(item.exclusive),"Exclusive render time (ms)":roundFloat(item.render),"Mount time per instance (ms)":roundFloat(item.exclusive/item.count),"Render time per instance (ms)":roundFloat(item.render/item.count),Instances:item.count}}))},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{"Owner > component":item.componentName,"Inclusive time (ms)":roundFloat(item.time),Instances:item.count}})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(measurements){var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,!0);return summary.map(function(item){return{"Owner > component":item.componentName,"Wasted time (ms)":item.time,Instances:item.count}})},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements,console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements)),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};return result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id,result.type=item.type,result.args=JSON.stringify(item.args),result})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[],writes[id].push({type:fnName,time:totalTime,args:args})},measure:function(moduleName,fnName,func){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];var totalTime,rv,start;if("_renderNewRootComponent"===fnName||"flushBatchedUpdates"===fnName)return ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),start=performanceNow(),rv=func.apply(this,args),ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start,rv;if("_mountImageIntoNode"===fnName||"ReactBrowserEventEmitter"===moduleName||"ReactDOMIDOperations"===moduleName||"CSSPropertyOperations"===moduleName||"DOMChildrenOperations"===moduleName||"DOMPropertyOperations"===moduleName){if(start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start,"_mountImageIntoNode"===fnName){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0])}else if("dangerouslyProcessChildrenUpdates"===fnName)args[0].forEach(function(update){var writeArgs={};null!==update.fromIndex&&(writeArgs.fromIndex=update.fromIndex),null!==update.toIndex&&(writeArgs.toIndex=update.toIndex),null!==update.textContent&&(writeArgs.textContent=update.textContent),null!==update.markupIndex&&(writeArgs.markup=args[1][update.markupIndex]),ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs)});else{var id=args[0];"object"==typeof id&&(id=ReactMount.getID(args[0])),ReactDefaultPerf._recordWrite(id,fnName,totalTime,Array.prototype.slice.call(args,1))}return rv}if("ReactCompositeComponent"!==moduleName||"mountComponent"!==fnName&&"updateComponent"!==fnName&&"_renderValidatedComponent"!==fnName)return func.apply(this,args);if(this._currentElement.type===ReactMount.TopLevelWrapper)return func.apply(this,args);var rootNodeID="mountComponent"===fnName?args[0]:this._rootNodeID,isRender="_renderValidatedComponent"===fnName,isMount="mountComponent"===fnName,mountStack=ReactDefaultPerf._mountStack,entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];if(isRender?addValue(entry.counts,rootNodeID,1):isMount&&(entry.created[rootNodeID]=!0,mountStack.push(0)),start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start,isRender)addValue(entry.render,rootNodeID,totalTime);else if(isMount){var subMountTime=mountStack.pop();mountStack[mountStack.length-1]+=totalTime,addValue(entry.exclusive,rootNodeID,totalTime-subMountTime),addValue(entry.inclusive,rootNodeID,totalTime)}else addValue(entry.inclusive,rootNodeID,totalTime);return entry.displayNames[rootNodeID]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},rv}}};return module.exports=ReactDefaultPerf,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMServer",["npm:react@0.14.0/lib/ReactDefaultInjection","npm:react@0.14.0/lib/ReactServerRendering","npm:react@0.14.0/lib/ReactVersion"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactDefaultInjection=require("npm:react@0.14.0/lib/ReactDefaultInjection"),ReactServerRendering=require("npm:react@0.14.0/lib/ReactServerRendering"),ReactVersion=require("npm:react@0.14.0/lib/ReactVersion");ReactDefaultInjection.inject();var ReactDOMServer={renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,version:ReactVersion};return module.exports=ReactDOMServer,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactIsomorphic",["npm:react@0.14.0/lib/ReactChildren","npm:react@0.14.0/lib/ReactComponent","npm:react@0.14.0/lib/ReactClass","npm:react@0.14.0/lib/ReactDOMFactories","npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactElementValidator","npm:react@0.14.0/lib/ReactPropTypes","npm:react@0.14.0/lib/ReactVersion","npm:react@0.14.0/lib/Object.assign","npm:react@0.14.0/lib/onlyChild","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var ReactChildren=require("npm:react@0.14.0/lib/ReactChildren"),ReactComponent=require("npm:react@0.14.0/lib/ReactComponent"),ReactClass=require("npm:react@0.14.0/lib/ReactClass"),ReactDOMFactories=require("npm:react@0.14.0/lib/ReactDOMFactories"),ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactElementValidator=require("npm:react@0.14.0/lib/ReactElementValidator"),ReactPropTypes=require("npm:react@0.14.0/lib/ReactPropTypes"),ReactVersion=require("npm:react@0.14.0/lib/ReactVersion"),assign=require("npm:react@0.14.0/lib/Object.assign"),onlyChild=require("npm:react@0.14.0/lib/onlyChild"),createElement=ReactElement.createElement,createFactory=ReactElement.createFactory,cloneElement=ReactElement.cloneElement;"production"!==process.env.NODE_ENV&&(createElement=ReactElementValidator.createElement,createFactory=ReactElementValidator.createFactory,cloneElement=ReactElementValidator.cloneElement);var React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,toArray:ReactChildren.toArray,only:onlyChild},Component:ReactComponent,createElement:createElement,cloneElement:cloneElement,isValidElement:ReactElement.isValidElement,PropTypes:ReactPropTypes,createClass:ReactClass.createClass,createFactory:createFactory,createMixin:function(mixin){return mixin},DOM:ReactDOMFactories,version:ReactVersion,__spread:assign};module.exports=React}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/object/get-own-property-descriptor",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/es6.object.statics-accept-primitives"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$");return require("npm:core-js@0.9.18/library/modules/es6.object.statics-accept-primitives"),module.exports=function(it,key){return $.getDesc(it,key)},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es6.object.set-prototype-of",["npm:core-js@0.9.18/library/modules/$.def","npm:core-js@0.9.18/library/modules/$.set-proto"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $def=require("npm:core-js@0.9.18/library/modules/$.def");return $def($def.S,"Object",{setPrototypeOf:require("npm:core-js@0.9.18/library/modules/$.set-proto").set}),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/helpers/create-class",["npm:babel-runtime@5.8.20/core-js/object/define-property"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var _Object$defineProperty=require("npm:babel-runtime@5.8.20/core-js/object/define-property")["default"];return exports["default"]=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),_Object$defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es6.object.assign",["npm:core-js@0.9.18/library/modules/$.def","npm:core-js@0.9.18/library/modules/$.assign"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var $def=require("npm:core-js@0.9.18/library/modules/$.def");return $def($def.S,"Object",{assign:require("npm:core-js@0.9.18/library/modules/$.assign")}),global.define=__define,module.exports}),System.register("npm:react-dispatcher@0.2.1/index",["npm:react-dispatcher@0.2.1/lib/Dispatcher"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:react-dispatcher@0.2.1/lib/Dispatcher"),global.define=__define,module.exports}),System.register("github:jspm/nodelibs-events@0.1.1/index",["npm:events@1.0.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=System._nodeRequire?System._nodeRequire("events"):require("npm:events@1.0.2"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.cof",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.wks"],!0,function(require,exports,module){function cof(it){return toString.call(it).slice(8,-1)}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),TAG=require("npm:core-js@0.9.18/library/modules/$.wks")("toStringTag"),toString={}.toString;return cof.classof=function(it){var O,T;return void 0==it?void 0===it?"Undefined":"Null":"string"==typeof(T=(O=Object(it))[TAG])?T:cof(O)},cof.set=function(it,tag,stat){it&&!$.has(it=stat?it:it.prototype,TAG)&&$.hide(it,TAG,tag)},module.exports=cof,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/web.dom.iterable",["npm:core-js@0.9.18/library/modules/es6.array.iterator","npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.iter","npm:core-js@0.9.18/library/modules/$.wks"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0,require("npm:core-js@0.9.18/library/modules/es6.array.iterator");var $=require("npm:core-js@0.9.18/library/modules/$"),Iterators=require("npm:core-js@0.9.18/library/modules/$.iter").Iterators,ITERATOR=require("npm:core-js@0.9.18/library/modules/$.wks")("iterator"),ArrayValues=Iterators.Array,NL=$.g.NodeList,HTC=$.g.HTMLCollection,NLProto=NL&&NL.prototype,HTCProto=HTC&&HTC.prototype;return $.FW&&(!NL||ITERATOR in NLProto||$.hide(NLProto,ITERATOR,ArrayValues),!HTC||ITERATOR in HTCProto||$.hide(HTCProto,ITERATOR,ArrayValues)),Iterators.NodeList=Iterators.HTMLCollection=ArrayValues,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/$.collection-strong",["npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.ctx","npm:core-js@0.9.18/library/modules/$.uid","npm:core-js@0.9.18/library/modules/$.assert","npm:core-js@0.9.18/library/modules/$.for-of","npm:core-js@0.9.18/library/modules/$.iter","npm:core-js@0.9.18/library/modules/$.mix","npm:core-js@0.9.18/library/modules/$.iter-define"],!0,function(require,exports,module){function fastKey(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!$has(it,ID)){if(!isExtensible(it))return"F";if(!create)return"E";hide(it,ID,++id)}return"O"+it[ID]}function getEntry(that,key){var entry,index=fastKey(key);if("F"!==index)return that[O1][index];for(entry=that[FIRST];entry;entry=entry.n)if(entry.k==key)return entry}var global=System.global,__define=global.define;global.define=void 0;var $=require("npm:core-js@0.9.18/library/modules/$"),ctx=require("npm:core-js@0.9.18/library/modules/$.ctx"),safe=require("npm:core-js@0.9.18/library/modules/$.uid").safe,assert=require("npm:core-js@0.9.18/library/modules/$.assert"),forOf=require("npm:core-js@0.9.18/library/modules/$.for-of"),step=require("npm:core-js@0.9.18/library/modules/$.iter").step,$has=$.has,set=$.set,isObject=$.isObject,hide=$.hide,isExtensible=Object.isExtensible||isObject,ID=safe("id"),O1=safe("O1"),LAST=safe("last"),FIRST=safe("first"),ITER=safe("iter"),SIZE=$.DESC?safe("size"):"size",id=0;return module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){assert.inst(that,C,NAME),set(that,O1,$.create(null)),set(that,SIZE,0),set(that,LAST,void 0),set(that,FIRST,void 0),void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return require("npm:core-js@0.9.18/library/modules/$.mix")(C.prototype,{clear:function(){for(var that=this,data=that[O1],entry=that[FIRST];entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that[FIRST]=that[LAST]=void 0,that[SIZE]=0},"delete":function(key){var that=this,entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that[O1][entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that[FIRST]==entry&&(that[FIRST]=next),that[LAST]==entry&&(that[LAST]=prev),that[SIZE]--}return!!entry},forEach:function(callbackfn){for(var entry,f=ctx(callbackfn,arguments[1],3);entry=entry?entry.n:this[FIRST];)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function(key){return!!getEntry(this,key)}}),$.DESC&&$.setDesc(C.prototype,"size",{get:function(){return assert.def(this[SIZE])}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that[LAST]=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that[LAST],n:void 0,r:!1},that[FIRST]||(that[FIRST]=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that[O1][index]=entry)),that},getEntry:getEntry,setIter:function(C,NAME,IS_MAP){require("npm:core-js@0.9.18/library/modules/$.iter-define")(C,NAME,function(iterated,kind){set(this,ITER,{o:iterated,k:kind})},function(){for(var iter=this[ITER],kind=iter.k,entry=iter.l;entry&&entry.r;)entry=entry.p;return iter.o&&(iter.l=entry=entry?entry.n:iter.o[FIRST])?"keys"==kind?step(0,entry.k):"values"==kind?step(0,entry.v):step(0,[entry.k,entry.v]):(iter.o=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0)}},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/array/from",["npm:core-js@0.9.18/library/modules/es6.string.iterator","npm:core-js@0.9.18/library/modules/es6.array.from","npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.18/library/modules/es6.string.iterator"),require("npm:core-js@0.9.18/library/modules/es6.array.from"),module.exports=require("npm:core-js@0.9.18/library/modules/$").core.Array.from,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/get-iterator",["npm:core-js@0.9.18/library/fn/get-iterator"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/get-iterator"),__esModule:!0},global.define=__define,module.exports}),System.register("github:jspm/nodelibs-process@0.1.2",["github:jspm/nodelibs-process@0.1.2/index"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("github:jspm/nodelibs-process@0.1.2/index"),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactBrowserEventEmitter",["npm:react@0.14.0/lib/EventConstants","npm:react@0.14.0/lib/EventPluginHub","npm:react@0.14.0/lib/EventPluginRegistry","npm:react@0.14.0/lib/ReactEventEmitterMixin","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/ViewportMetrics","npm:react@0.14.0/lib/Object.assign","npm:react@0.14.0/lib/isEventSupported","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getListeningForDocument(mountAt){return Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)||(mountAt[topListenersIDKey]=reactTopListenersCounter++,alreadyListeningTo[mountAt[topListenersIDKey]]={}),alreadyListeningTo[mountAt[topListenersIDKey]]}var EventConstants=require("npm:react@0.14.0/lib/EventConstants"),EventPluginHub=require("npm:react@0.14.0/lib/EventPluginHub"),EventPluginRegistry=require("npm:react@0.14.0/lib/EventPluginRegistry"),ReactEventEmitterMixin=require("npm:react@0.14.0/lib/ReactEventEmitterMixin"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),ViewportMetrics=require("npm:react@0.14.0/lib/ViewportMetrics"),assign=require("npm:react@0.14.0/lib/Object.assign"),isEventSupported=require("npm:react@0.14.0/lib/isEventSupported"),alreadyListeningTo={},isMonitoringScrollValue=!1,reactTopListenersCounter=0,topEventMapping={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2),ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel),ReactBrowserEventEmitter.ReactEventListener=ReactEventListener}},setEnabled:function(enabled){ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)},isEnabled:function(){return!(!ReactBrowserEventEmitter.ReactEventListener||!ReactBrowserEventEmitter.ReactEventListener.isEnabled())},listenTo:function(registrationName,contentDocumentHandle){for(var mountAt=contentDocumentHandle,isListening=getListeningForDocument(mountAt),dependencies=EventPluginRegistry.registrationNameDependencies[registrationName],topLevelTypes=EventConstants.topLevelTypes,i=0;i<dependencies.length;i++){var dependency=dependencies[i];isListening.hasOwnProperty(dependency)&&isListening[dependency]||(dependency===topLevelTypes.topWheel?isEventSupported("wheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt):isEventSupported("mousewheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt):dependency===topLevelTypes.topScroll?isEventSupported("scroll",!0)?ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE):dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur?(isEventSupported("focus",!0)?(ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)):isEventSupported("focusin")&&(ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)),isListening[topLevelTypes.topBlur]=!0,isListening[topLevelTypes.topFocus]=!0):topEventMapping.hasOwnProperty(dependency)&&ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt),
isListening[dependency]=!0)}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle)},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle)},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh),isMonitoringScrollValue=!0}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});ReactPerf.measureMethods(ReactBrowserEventEmitter,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),module.exports=ReactBrowserEventEmitter}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactUpdateQueue",["npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactInstanceMap","npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/invariant","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function enqueueUpdate(internalInstance){ReactUpdates.enqueueUpdate(internalInstance)}function getInternalInstanceReadyForUpdate(publicInstance,callerName){var internalInstance=ReactInstanceMap.get(publicInstance);return internalInstance?("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null==ReactCurrentOwner.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",callerName):void 0),internalInstance):("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!callerName,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",callerName,callerName,publicInstance.constructor.displayName):void 0),null)}var ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactInstanceMap=require("npm:react@0.14.0/lib/ReactInstanceMap"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),assign=require("npm:react@0.14.0/lib/Object.assign"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),warning=require("npm:fbjs@0.3.2/lib/warning"),ReactUpdateQueue={isMounted:function(publicInstance){if("production"!==process.env.NODE_ENV){var owner=ReactCurrentOwner.current;null!==owner&&("production"!==process.env.NODE_ENV?warning(owner._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",owner.getName()||"A component"):void 0,owner._warnedAboutRefsInRender=!0)}var internalInstance=ReactInstanceMap.get(publicInstance);return internalInstance?!!internalInstance._renderedComponent:!1},enqueueCallback:function(publicInstance,callback){"function"!=typeof callback?"production"!==process.env.NODE_ENV?invariant(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):invariant(!1):void 0;var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);return internalInstance?(internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],void enqueueUpdate(internalInstance)):null},enqueueCallbackInternal:function(internalInstance,callback){"function"!=typeof callback?"production"!==process.env.NODE_ENV?invariant(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):invariant(!1):void 0,internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],enqueueUpdate(internalInstance)},enqueueForceUpdate:function(publicInstance){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"forceUpdate");internalInstance&&(internalInstance._pendingForceUpdate=!0,enqueueUpdate(internalInstance))},enqueueReplaceState:function(publicInstance,completeState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceState");internalInstance&&(internalInstance._pendingStateQueue=[completeState],internalInstance._pendingReplaceState=!0,enqueueUpdate(internalInstance))},enqueueSetState:function(publicInstance,partialState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setState");if(internalInstance){var queue=internalInstance._pendingStateQueue||(internalInstance._pendingStateQueue=[]);queue.push(partialState),enqueueUpdate(internalInstance)}},enqueueSetProps:function(publicInstance,partialProps){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setProps");internalInstance&&ReactUpdateQueue.enqueueSetPropsInternal(internalInstance,partialProps)},enqueueSetPropsInternal:function(internalInstance,partialProps){var topLevelWrapper=internalInstance._topLevelWrapper;topLevelWrapper?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):invariant(!1);var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement,element=wrapElement.props,props=assign({},element.props,partialProps);topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props)),enqueueUpdate(topLevelWrapper)},enqueueReplaceProps:function(publicInstance,props){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceProps");internalInstance&&ReactUpdateQueue.enqueueReplacePropsInternal(internalInstance,props)},enqueueReplacePropsInternal:function(internalInstance,props){var topLevelWrapper=internalInstance._topLevelWrapper;topLevelWrapper?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):invariant(!1);var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement,element=wrapElement.props;topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props)),enqueueUpdate(topLevelWrapper)},enqueueElementInternal:function(internalInstance,newElement){internalInstance._pendingElement=newElement,enqueueUpdate(internalInstance)}};module.exports=ReactUpdateQueue}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMInput",["npm:react@0.14.0/lib/ReactDOMIDOperations","npm:react@0.14.0/lib/LinkedValueUtils","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMInput.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);var name=props.name;if("radio"===props.type&&null!=name){for(var rootNode=ReactMount.getNode(this._rootNodeID),queryRoot=rootNode;queryRoot.parentNode;)queryRoot=queryRoot.parentNode;for(var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]'),i=0;i<group.length;i++){var otherNode=group[i];if(otherNode!==rootNode&&otherNode.form===rootNode.form){var otherID=ReactMount.getID(otherNode);otherID?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):invariant(!1);var otherInstance=instancesByReactID[otherID];otherInstance?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"ReactDOMInput: Unknown radio button ID %s.",otherID):invariant(!1),ReactUpdates.asap(forceUpdateIfMounted,otherInstance)}}}return returnValue}var ReactDOMIDOperations=require("npm:react@0.14.0/lib/ReactDOMIDOperations"),LinkedValueUtils=require("npm:react@0.14.0/lib/LinkedValueUtils"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),assign=require("npm:react@0.14.0/lib/Object.assign"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),instancesByReactID={},ReactDOMInput={getNativeProps:function(inst,props,context){var value=LinkedValueUtils.getValue(props),checked=LinkedValueUtils.getChecked(props),nativeProps=assign({},props,{defaultChecked:void 0,defaultValue:void 0,value:null!=value?value:inst._wrapperState.initialValue,checked:null!=checked?checked:inst._wrapperState.initialChecked,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){"production"!==process.env.NODE_ENV&&LinkedValueUtils.checkPropTypes("input",props,inst._currentElement._owner);var defaultValue=props.defaultValue;inst._wrapperState={initialChecked:props.defaultChecked||!1,initialValue:null!=defaultValue?defaultValue:null,onChange:_handleChange.bind(inst)}},mountReadyWrapper:function(inst){instancesByReactID[inst._rootNodeID]=inst},unmountWrapper:function(inst){delete instancesByReactID[inst._rootNodeID]},updateWrapper:function(inst){var props=inst._currentElement.props,checked=props.checked;null!=checked&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"checked",checked||!1);var value=LinkedValueUtils.getValue(props);null!=value&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}};module.exports=ReactDOMInput}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactInjection",["npm:react@0.14.0/lib/DOMProperty","npm:react@0.14.0/lib/EventPluginHub","npm:react@0.14.0/lib/ReactComponentEnvironment","npm:react@0.14.0/lib/ReactClass","npm:react@0.14.0/lib/ReactEmptyComponent","npm:react@0.14.0/lib/ReactBrowserEventEmitter","npm:react@0.14.0/lib/ReactNativeComponent","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/ReactRootIndex","npm:react@0.14.0/lib/ReactUpdates"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var DOMProperty=require("npm:react@0.14.0/lib/DOMProperty"),EventPluginHub=require("npm:react@0.14.0/lib/EventPluginHub"),ReactComponentEnvironment=require("npm:react@0.14.0/lib/ReactComponentEnvironment"),ReactClass=require("npm:react@0.14.0/lib/ReactClass"),ReactEmptyComponent=require("npm:react@0.14.0/lib/ReactEmptyComponent"),ReactBrowserEventEmitter=require("npm:react@0.14.0/lib/ReactBrowserEventEmitter"),ReactNativeComponent=require("npm:react@0.14.0/lib/ReactNativeComponent"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),ReactRootIndex=require("npm:react@0.14.0/lib/ReactRootIndex"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};return module.exports=ReactInjection,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactReconcileTransaction",["npm:react@0.14.0/lib/CallbackQueue","npm:react@0.14.0/lib/PooledClass","npm:react@0.14.0/lib/ReactBrowserEventEmitter","npm:react@0.14.0/lib/ReactDOMFeatureFlags","npm:react@0.14.0/lib/ReactInputSelection","npm:react@0.14.0/lib/Transaction","npm:react@0.14.0/lib/Object.assign"],!0,function(require,exports,module){function ReactReconcileTransaction(forceHTML){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=!forceHTML&&ReactDOMFeatureFlags.useCreateElement}var global=System.global,__define=global.define;global.define=void 0;var CallbackQueue=require("npm:react@0.14.0/lib/CallbackQueue"),PooledClass=require("npm:react@0.14.0/lib/PooledClass"),ReactBrowserEventEmitter=require("npm:react@0.14.0/lib/ReactBrowserEventEmitter"),ReactDOMFeatureFlags=require("npm:react@0.14.0/lib/ReactDOMFeatureFlags"),ReactInputSelection=require("npm:react@0.14.0/lib/ReactInputSelection"),Transaction=require("npm:react@0.14.0/lib/Transaction"),assign=require("npm:react@0.14.0/lib/Object.assign"),SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection},EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();return ReactBrowserEventEmitter.setEnabled(!1),currentlyEnabled},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled)}},ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};return assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactReconcileTransaction),module.exports=ReactReconcileTransaction,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/object/get-own-property-descriptor",["npm:core-js@0.9.18/library/fn/object/get-own-property-descriptor"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/object/get-own-property-descriptor"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/object/set-prototype-of",["npm:core-js@0.9.18/library/modules/es6.object.set-prototype-of","npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.18/library/modules/es6.object.set-prototype-of"),module.exports=require("npm:core-js@0.9.18/library/modules/$").core.Object.setPrototypeOf,global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/object/assign",["npm:core-js@0.9.18/library/modules/es6.object.assign","npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.18/library/modules/es6.object.assign"),module.exports=require("npm:core-js@0.9.18/library/modules/$").core.Object.assign,global.define=__define,module.exports}),System.register("npm:react-dispatcher@0.2.1",["npm:react-dispatcher@0.2.1/index"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:react-dispatcher@0.2.1/index"),global.define=__define,module.exports}),System.register("github:jspm/nodelibs-events@0.1.1",["github:jspm/nodelibs-events@0.1.1/index"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("github:jspm/nodelibs-events@0.1.1/index"),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es6.object.to-string",["npm:core-js@0.9.18/library/modules/$.cof","npm:core-js@0.9.18/library/modules/$.wks","npm:core-js@0.9.18/library/modules/$","npm:core-js@0.9.18/library/modules/$.redef"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var cof=require("npm:core-js@0.9.18/library/modules/$.cof"),tmp={};return tmp[require("npm:core-js@0.9.18/library/modules/$.wks")("toStringTag")]="z",require("npm:core-js@0.9.18/library/modules/$").FW&&"z"!=cof(tmp)&&require("npm:core-js@0.9.18/library/modules/$.redef")(Object.prototype,"toString",function(){return"[object "+cof.classof(this)+"]"},!0),global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/modules/es6.map",["npm:core-js@0.9.18/library/modules/$.collection-strong","npm:core-js@0.9.18/library/modules/$.collection"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var strong=require("npm:core-js@0.9.18/library/modules/$.collection-strong");return require("npm:core-js@0.9.18/library/modules/$.collection")("Map",function(get){return function(){return get(this,arguments[0])}},{get:function(key){var entry=strong.getEntry(this,key);return entry&&entry.v},set:function(key,value){return strong.def(this,0===key?0:key,value)}},strong,!0),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/array/from",["npm:core-js@0.9.18/library/fn/array/from"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/array/from"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/invariant",["github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if("production"!==process.env.NODE_ENV&&void 0===format)throw new Error("invariant requires an error message argument");if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}throw error.framesToPop=1,error}};module.exports=invariant}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactMount",["npm:react@0.14.0/lib/DOMProperty","npm:react@0.14.0/lib/ReactBrowserEventEmitter","npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/ReactDOMFeatureFlags","npm:react@0.14.0/lib/ReactElement","npm:react@0.14.0/lib/ReactEmptyComponentRegistry","npm:react@0.14.0/lib/ReactInstanceHandles","npm:react@0.14.0/lib/ReactInstanceMap","npm:react@0.14.0/lib/ReactMarkupChecksum","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/ReactReconciler","npm:react@0.14.0/lib/ReactUpdateQueue","npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/Object.assign","npm:fbjs@0.3.2/lib/emptyObject","npm:fbjs@0.3.2/lib/containsNode","npm:react@0.14.0/lib/instantiateReactComponent","npm:fbjs@0.3.2/lib/invariant","npm:react@0.14.0/lib/setInnerHTML","npm:react@0.14.0/lib/shouldUpdateReactComponent","npm:react@0.14.0/lib/validateDOMNesting","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function firstDifferenceIndex(string1,string2){for(var minLen=Math.min(string1.length,string2.length),i=0;minLen>i;i++)if(string1.charAt(i)!==string2.charAt(i))return i;return string1.length===string2.length?-1:minLen}function getReactRootElementInContainer(container){return container?container.nodeType===DOC_NODE_TYPE?container.documentElement:container.firstChild:null}function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement)}function getID(node){var id=internalGetID(node);if(id)if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];cached!==node&&(isValid(cached,id)?"production"!==process.env.NODE_ENV?invariant(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",ATTR_NAME,id):invariant(!1):void 0,nodeCache[id]=node)}else nodeCache[id]=node;return id}function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function setID(node,id){var oldID=internalGetID(node);oldID!==id&&delete nodeCache[oldID],node.setAttribute(ATTR_NAME,id),nodeCache[id]=node}function getNode(id){return nodeCache.hasOwnProperty(id)&&isValid(nodeCache[id],id)||(nodeCache[id]=ReactMount.findReactNodeByID(id)),nodeCache[id]}function getNodeFromInstance(instance){var id=ReactInstanceMap.get(instance)._rootNodeID;return ReactEmptyComponentRegistry.isNullComponentID(id)?null:(nodeCache.hasOwnProperty(id)&&isValid(nodeCache[id],id)||(nodeCache[id]=ReactMount.findReactNodeByID(id)),nodeCache[id])}function isValid(node,id){if(node){internalGetID(node)!==id?"production"!==process.env.NODE_ENV?invariant(!1,"ReactMount: Unexpected modification of `%s`",ATTR_NAME):invariant(!1):void 0;var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node))return!0}return!1}function purgeID(id){delete nodeCache[id]}function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];return ancestor&&isValid(ancestor,ancestorID)?void(deepestNodeSoFar=ancestor):!1}function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null,ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;return deepestNodeSoFar=null,foundNode}function mountComponentIntoNode(componentInstance,rootID,container,transaction,shouldReuseMarkup,context){if(ReactDOMFeatureFlags.useCreateElement&&(context=assign({},context),container.nodeType===DOC_NODE_TYPE?context[ownerDocumentContextKey]=container:context[ownerDocumentContextKey]=container.ownerDocument),"production"!==process.env.NODE_ENV){context===emptyObject&&(context={});var tag=container.nodeName.toLowerCase();context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(null,tag,null)}var markup=ReactReconciler.mountComponent(componentInstance,rootID,transaction,context);componentInstance._renderedComponent._topLevelWrapper=componentInstance,ReactMount._mountImageIntoNode(markup,container,shouldReuseMarkup,transaction)}function batchedMountComponentIntoNode(componentInstance,rootID,container,shouldReuseMarkup,context){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled(shouldReuseMarkup);transaction.perform(mountComponentIntoNode,null,componentInstance,rootID,container,transaction,shouldReuseMarkup,context),ReactUpdates.ReactReconcileTransaction.release(transaction)}function unmountComponentFromNode(instance,container){for(ReactReconciler.unmountComponent(instance),container.nodeType===DOC_NODE_TYPE&&(container=container.documentElement);container.lastChild;)container.removeChild(container.lastChild)}function hasNonRootReactChild(node){var reactRootID=getReactRootID(node);return reactRootID?reactRootID!==ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID):!1}function findFirstReactDOMImpl(node){for(;node&&node.parentNode!==node;node=node.parentNode)if(1===node.nodeType){var nodeID=internalGetID(node);if(nodeID){var lastID,reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),current=node;do if(lastID=internalGetID(current),current=current.parentNode,null==current)return null;while(lastID!==reactRootID);if(current===containersByReactRootID[reactRootID])return node}}return null}var DOMProperty=require("npm:react@0.14.0/lib/DOMProperty"),ReactBrowserEventEmitter=require("npm:react@0.14.0/lib/ReactBrowserEventEmitter"),ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),ReactDOMFeatureFlags=require("npm:react@0.14.0/lib/ReactDOMFeatureFlags"),ReactElement=require("npm:react@0.14.0/lib/ReactElement"),ReactEmptyComponentRegistry=require("npm:react@0.14.0/lib/ReactEmptyComponentRegistry"),ReactInstanceHandles=require("npm:react@0.14.0/lib/ReactInstanceHandles"),ReactInstanceMap=require("npm:react@0.14.0/lib/ReactInstanceMap"),ReactMarkupChecksum=require("npm:react@0.14.0/lib/ReactMarkupChecksum"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),ReactReconciler=require("npm:react@0.14.0/lib/ReactReconciler"),ReactUpdateQueue=require("npm:react@0.14.0/lib/ReactUpdateQueue"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),assign=require("npm:react@0.14.0/lib/Object.assign"),emptyObject=require("npm:fbjs@0.3.2/lib/emptyObject"),containsNode=require("npm:fbjs@0.3.2/lib/containsNode"),instantiateReactComponent=require("npm:react@0.14.0/lib/instantiateReactComponent"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),setInnerHTML=require("npm:react@0.14.0/lib/setInnerHTML"),shouldUpdateReactComponent=require("npm:react@0.14.0/lib/shouldUpdateReactComponent"),validateDOMNesting=require("npm:react@0.14.0/lib/validateDOMNesting"),warning=require("npm:fbjs@0.3.2/lib/warning"),ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME,nodeCache={},ELEMENT_NODE_TYPE=1,DOC_NODE_TYPE=9,DOCUMENT_FRAGMENT_NODE_TYPE=11,ownerDocumentContextKey="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),instancesByReactRootID={},containersByReactRootID={};if("production"!==process.env.NODE_ENV)var rootElementsByReactRootID={};var findComponentRootReusableArray=[],deepestNodeSoFar=null,TopLevelWrapper=function(){};TopLevelWrapper.prototype.isReactComponent={},"production"!==process.env.NODE_ENV&&(TopLevelWrapper.displayName="TopLevelWrapper"),TopLevelWrapper.prototype.render=function(){return this.props};var ReactMount={TopLevelWrapper:TopLevelWrapper,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextElement,container,callback){return ReactMount.scrollMonitor(container,function(){ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement),callback&&ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback)}),"production"!==process.env.NODE_ENV&&(rootElementsByReactRootID[getReactRootID(container)]=getReactRootElementInContainer(container)),prevComponent},_registerComponent:function(nextComponent,container){!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?"production"!==process.env.NODE_ENV?invariant(!1,"_registerComponent(...): Target container is not a DOM element."):invariant(!1):void 0,ReactBrowserEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);return instancesByReactRootID[reactRootID]=nextComponent,reactRootID},_renderNewRootComponent:function(nextElement,container,shouldReuseMarkup,context){"production"!==process.env.NODE_ENV?warning(null==ReactCurrentOwner.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||"ReactCompositeComponent"):void 0;var componentInstance=instantiateReactComponent(nextElement,null),reactRootID=ReactMount._registerComponent(componentInstance,container);return ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,componentInstance,reactRootID,container,shouldReuseMarkup,context),"production"!==process.env.NODE_ENV&&(rootElementsByReactRootID[reactRootID]=getReactRootElementInContainer(container)),componentInstance},renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){return null==parentComponent||null==parentComponent._reactInternalInstance?"production"!==process.env.NODE_ENV?invariant(!1,"parentComponent must be a valid React Component"):invariant(!1):void 0,ReactMount._renderSubtreeIntoContainer(parentComponent,nextElement,container,callback)},_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){ReactElement.isValidElement(nextElement)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof nextElement?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof nextElement?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=nextElement&&void 0!==nextElement.props?" This may be caused by unintentionally loading two independent copies of React.":""):invariant(!1),"production"!==process.env.NODE_ENV?warning(!container||!container.tagName||"BODY"!==container.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app."):void 0;var nextWrappedElement=new ReactElement(TopLevelWrapper,null,null,null,null,null,nextElement),prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){var prevWrappedElement=prevComponent._currentElement,prevElement=prevWrappedElement.props;if(shouldUpdateReactComponent(prevElement,nextElement))return ReactMount._updateRootComponent(prevComponent,nextWrappedElement,container,callback)._renderedComponent.getPublicInstance();ReactMount.unmountComponentAtNode(container)}var reactRootElement=getReactRootElementInContainer(container),containerHasReactMarkup=reactRootElement&&!!internalGetID(reactRootElement),containerHasNonRootReactChild=hasNonRootReactChild(container);if("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!containerHasNonRootReactChild,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."):void 0,!containerHasReactMarkup||reactRootElement.nextSibling))for(var rootElementSibling=reactRootElement;rootElementSibling;){if(internalGetID(rootElementSibling)){"production"!==process.env.NODE_ENV?warning(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):void 0;break}rootElementSibling=rootElementSibling.nextSibling}var shouldReuseMarkup=containerHasReactMarkup&&!prevComponent&&!containerHasNonRootReactChild,component=ReactMount._renderNewRootComponent(nextWrappedElement,container,shouldReuseMarkup,null!=parentComponent?parentComponent._reactInternalInstance._processChildContext(parentComponent._reactInternalInstance._context):emptyObject)._renderedComponent.getPublicInstance();
return callback&&callback.call(component),component},render:function(nextElement,container,callback){return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback)},registerContainer:function(container){var reactRootID=getReactRootID(container);return reactRootID&&(reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID)),reactRootID||(reactRootID=ReactInstanceHandles.createReactRootID()),containersByReactRootID[reactRootID]=container,reactRootID},unmountComponentAtNode:function(container){"production"!==process.env.NODE_ENV?warning(null==ReactCurrentOwner.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||"ReactCompositeComponent"):void 0,!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?"production"!==process.env.NODE_ENV?invariant(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):invariant(!1):void 0;var reactRootID=getReactRootID(container),component=instancesByReactRootID[reactRootID];if(!component){var containerHasNonRootReactChild=hasNonRootReactChild(container),containerID=internalGetID(container),isContainerReactRoot=containerID&&containerID===ReactInstanceHandles.getReactRootIDFromNodeID(containerID);return"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!containerHasNonRootReactChild,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",isContainerReactRoot?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."):void 0),!1}return ReactUpdates.batchedUpdates(unmountComponentFromNode,component,container),delete instancesByReactRootID[reactRootID],delete containersByReactRootID[reactRootID],"production"!==process.env.NODE_ENV&&delete rootElementsByReactRootID[reactRootID],!0},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id),container=containersByReactRootID[reactRootID];if("production"!==process.env.NODE_ENV){var rootElement=rootElementsByReactRootID[reactRootID];if(rootElement&&rootElement.parentNode!==container){"production"!==process.env.NODE_ENV?warning(internalGetID(rootElement)===reactRootID,"ReactMount: Root element ID differed from reactRootID."):void 0;var containerChild=container.firstChild;containerChild&&reactRootID===internalGetID(containerChild)?rootElementsByReactRootID[reactRootID]=containerChild:"production"!==process.env.NODE_ENV?warning(!1,"ReactMount: Root element has been removed from its original container. New container: %s",rootElement.parentNode):void 0}}return container},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id)},getFirstReactDOM:function(node){return findFirstReactDOMImpl(node)},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray,childIndex=0,deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;for("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null!=deepestAncestor,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",targetID):void 0),firstChildren[0]=deepestAncestor.firstChild,firstChildren.length=1;childIndex<firstChildren.length;){for(var targetChild,child=firstChildren[childIndex++];child;){var childID=ReactMount.getID(child);childID?targetID===childID?targetChild=child:ReactInstanceHandles.isAncestorIDOf(childID,targetID)&&(firstChildren.length=childIndex=0,firstChildren.push(child.firstChild)):firstChildren.push(child.firstChild),child=child.nextSibling}if(targetChild)return firstChildren.length=0,targetChild}firstChildren.length=0,"production"!==process.env.NODE_ENV?invariant(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",targetID,ReactMount.getID(ancestorNode)):invariant(!1)},_mountImageIntoNode:function(markup,container,shouldReuseMarkup,transaction){if(!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?"production"!==process.env.NODE_ENV?invariant(!1,"mountComponentIntoNode(...): Target container is not valid."):invariant(!1):void 0,shouldReuseMarkup){var rootElement=getReactRootElementInContainer(container);if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement))return;var checksum=rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var rootMarkup=rootElement.outerHTML;rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,checksum);var normalizedMarkup=markup;if("production"!==process.env.NODE_ENV){var normalizer;container.nodeType===ELEMENT_NODE_TYPE?(normalizer=document.createElement("div"),normalizer.innerHTML=markup,normalizedMarkup=normalizer.innerHTML):(normalizer=document.createElement("iframe"),document.body.appendChild(normalizer),normalizer.contentDocument.write(markup),normalizedMarkup=normalizer.contentDocument.documentElement.outerHTML,document.body.removeChild(normalizer))}var diffIndex=firstDifferenceIndex(normalizedMarkup,rootMarkup),difference=" (client) "+normalizedMarkup.substring(diffIndex-20,diffIndex+20)+"\n (server) "+rootMarkup.substring(diffIndex-20,diffIndex+20);container.nodeType===DOC_NODE_TYPE?"production"!==process.env.NODE_ENV?invariant(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",difference):invariant(!1):void 0,"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",difference):void 0)}if(container.nodeType===DOC_NODE_TYPE?"production"!==process.env.NODE_ENV?invariant(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):invariant(!1):void 0,transaction.useCreateElement){for(;container.lastChild;)container.removeChild(container.lastChild);container.appendChild(markup)}else setInnerHTML(container,markup)},ownerDocumentContextKey:ownerDocumentContextKey,getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,getNodeFromInstance:getNodeFromInstance,isValid:isValid,purgeID:purgeID};ReactPerf.measureMethods(ReactMount,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),module.exports=ReactMount}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMComponent",["npm:react@0.14.0/lib/AutoFocusUtils","npm:react@0.14.0/lib/CSSPropertyOperations","npm:react@0.14.0/lib/DOMProperty","npm:react@0.14.0/lib/DOMPropertyOperations","npm:react@0.14.0/lib/EventConstants","npm:react@0.14.0/lib/ReactBrowserEventEmitter","npm:react@0.14.0/lib/ReactComponentBrowserEnvironment","npm:react@0.14.0/lib/ReactDOMButton","npm:react@0.14.0/lib/ReactDOMInput","npm:react@0.14.0/lib/ReactDOMOption","npm:react@0.14.0/lib/ReactDOMSelect","npm:react@0.14.0/lib/ReactDOMTextarea","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/ReactMultiChild","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/ReactUpdateQueue","npm:react@0.14.0/lib/Object.assign","npm:react@0.14.0/lib/escapeTextContentForBrowser","npm:fbjs@0.3.2/lib/invariant","npm:react@0.14.0/lib/isEventSupported","npm:fbjs@0.3.2/lib/keyOf","npm:react@0.14.0/lib/setInnerHTML","npm:react@0.14.0/lib/setTextContent","npm:fbjs@0.3.2/lib/shallowEqual","npm:react@0.14.0/lib/validateDOMNesting","npm:fbjs@0.3.2/lib/warning","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getDeclarationErrorAddendum(internalInstance){if(internalInstance){var owner=internalInstance._currentElement._owner||null;if(owner){var name=owner.getName();if(name)return" This DOM node was rendered by `"+name+"`."}}return""}function legacyGetDOMNode(){if("production"!==process.env.NODE_ENV){var component=this._reactInternalComponent;"production"!==process.env.NODE_ENV?warning(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",getDeclarationErrorAddendum(component)):void 0}return this}function legacyIsMounted(){var component=this._reactInternalComponent;return"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",getDeclarationErrorAddendum(component)):void 0),!!component}function legacySetStateEtc(){if("production"!==process.env.NODE_ENV){var component=this._reactInternalComponent;"production"!==process.env.NODE_ENV?warning(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",getDeclarationErrorAddendum(component)):void 0}}function legacySetProps(partialProps,callback){var component=this._reactInternalComponent;"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",getDeclarationErrorAddendum(component)):void 0),component&&(ReactUpdateQueue.enqueueSetPropsInternal(component,partialProps),callback&&ReactUpdateQueue.enqueueCallbackInternal(component,callback))}function legacyReplaceProps(partialProps,callback){var component=this._reactInternalComponent;"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",getDeclarationErrorAddendum(component)):void 0),component&&(ReactUpdateQueue.enqueueReplacePropsInternal(component,partialProps),callback&&ReactUpdateQueue.enqueueCallbackInternal(component,callback))}function friendlyStringify(obj){if("object"==typeof obj){if(Array.isArray(obj))return"["+obj.map(friendlyStringify).join(", ")+"]";var pairs=[];for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var keyEscaped=/^[a-z$_][\w$_]*$/i.test(key)?key:JSON.stringify(key);pairs.push(keyEscaped+": "+friendlyStringify(obj[key]))}return"{"+pairs.join(", ")+"}"}return"string"==typeof obj?JSON.stringify(obj):"function"==typeof obj?"[function object]":String(obj)}function checkAndWarnForMutatedStyle(style1,style2,component){if(null!=style1&&null!=style2&&!shallowEqual(style1,style2)){var ownerName,componentName=component._tag,owner=component._currentElement._owner;owner&&(ownerName=owner.getName());var hash=ownerName+"|"+componentName;styleMutationWarning.hasOwnProperty(hash)||(styleMutationWarning[hash]=!0,"production"!==process.env.NODE_ENV?warning(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",componentName,owner?"of `"+ownerName+"`":"using <"+componentName+">",friendlyStringify(style1),friendlyStringify(style2)):void 0)}}function assertValidProps(component,props){props&&("production"!==process.env.NODE_ENV&&voidElementTags[component._tag]&&("production"!==process.env.NODE_ENV?warning(null==props.children&&null==props.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",component._tag,component._currentElement._owner?" Check the render method of "+component._currentElement._owner.getName()+".":""):void 0),null!=props.dangerouslySetInnerHTML&&(null!=props.children?"production"!==process.env.NODE_ENV?invariant(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):invariant(!1):void 0,"object"==typeof props.dangerouslySetInnerHTML&&"__html"in props.dangerouslySetInnerHTML?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):invariant(!1)),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null==props.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0,"production"!==process.env.NODE_ENV?warning(!props.contentEditable||null==props.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):void 0),null!=props.style&&"object"!=typeof props.style?"production"!==process.env.NODE_ENV?invariant(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",getDeclarationErrorAddendum(component)):invariant(!1):void 0)}function enqueuePutListener(id,registrationName,listener,transaction){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning("onScroll"!==registrationName||isEventSupported("scroll",!0),"This browser doesn't support the `onScroll` event"):void 0);var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc)}transaction.getReactMountReady().enqueue(putListener,{id:id,registrationName:registrationName,listener:listener})}function putListener(){var listenerToPut=this;ReactBrowserEventEmitter.putListener(listenerToPut.id,listenerToPut.registrationName,listenerToPut.listener)}function trapBubbledEventsLocal(){var inst=this;inst._rootNodeID?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Must be mounted to trap events"):invariant(!1);var node=ReactMount.getNode(inst._rootNodeID);switch(node?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"trapBubbledEvent(...): Requires node to be rendered."):invariant(!1),inst._tag){case"iframe":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"video":case"audio":inst._wrapperState.listeners=[];for(var event in mediaEvents)mediaEvents.hasOwnProperty(event)&&inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes[event],mediaEvents[event],node));break;case"img":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"form":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",node)]}}function mountReadyInputWrapper(){ReactDOMInput.mountReadyWrapper(this)}function postUpdateSelectWrapper(){ReactDOMSelect.postUpdateWrapper(this)}function validateDangerousTag(tag){hasOwnProperty.call(validatedTagCache,tag)||(VALID_TAG_REGEX.test(tag)?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"Invalid tag: %s",tag):invariant(!1),validatedTagCache[tag]=!0)}function processChildContextDev(context,inst){context=assign({},context);var info=context[validateDOMNesting.ancestorInfoContextKey];return context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(info,inst._tag,inst),context}function isCustomComponent(tagName,props){return tagName.indexOf("-")>=0||null!=props.is}function ReactDOMComponent(tag){validateDangerousTag(tag),this._tag=tag.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,"production"!==process.env.NODE_ENV&&(this._unprocessedContextDev=null,this._processedContextDev=null)}var AutoFocusUtils=require("npm:react@0.14.0/lib/AutoFocusUtils"),CSSPropertyOperations=require("npm:react@0.14.0/lib/CSSPropertyOperations"),DOMProperty=require("npm:react@0.14.0/lib/DOMProperty"),DOMPropertyOperations=require("npm:react@0.14.0/lib/DOMPropertyOperations"),EventConstants=require("npm:react@0.14.0/lib/EventConstants"),ReactBrowserEventEmitter=require("npm:react@0.14.0/lib/ReactBrowserEventEmitter"),ReactComponentBrowserEnvironment=require("npm:react@0.14.0/lib/ReactComponentBrowserEnvironment"),ReactDOMButton=require("npm:react@0.14.0/lib/ReactDOMButton"),ReactDOMInput=require("npm:react@0.14.0/lib/ReactDOMInput"),ReactDOMOption=require("npm:react@0.14.0/lib/ReactDOMOption"),ReactDOMSelect=require("npm:react@0.14.0/lib/ReactDOMSelect"),ReactDOMTextarea=require("npm:react@0.14.0/lib/ReactDOMTextarea"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactMultiChild=require("npm:react@0.14.0/lib/ReactMultiChild"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),ReactUpdateQueue=require("npm:react@0.14.0/lib/ReactUpdateQueue"),assign=require("npm:react@0.14.0/lib/Object.assign"),escapeTextContentForBrowser=require("npm:react@0.14.0/lib/escapeTextContentForBrowser"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),isEventSupported=require("npm:react@0.14.0/lib/isEventSupported"),keyOf=require("npm:fbjs@0.3.2/lib/keyOf"),setInnerHTML=require("npm:react@0.14.0/lib/setInnerHTML"),setTextContent=require("npm:react@0.14.0/lib/setTextContent"),shallowEqual=require("npm:fbjs@0.3.2/lib/shallowEqual"),validateDOMNesting=require("npm:react@0.14.0/lib/validateDOMNesting"),warning=require("npm:fbjs@0.3.2/lib/warning"),deleteListener=ReactBrowserEventEmitter.deleteListener,listenTo=ReactBrowserEventEmitter.listenTo,registrationNameModules=ReactBrowserEventEmitter.registrationNameModules,CONTENT_TYPES={string:!0,number:!0},STYLE=keyOf({style:null}),ELEMENT_NODE_TYPE=1,canDefineProperty=!1;try{Object.defineProperty({},"test",{get:function(){}}),canDefineProperty=!0}catch(e){}var legacyPropsDescriptor;"production"!==process.env.NODE_ENV&&(legacyPropsDescriptor={props:{enumerable:!1,get:function(){var component=this._reactInternalComponent;return"production"!==process.env.NODE_ENV?warning(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",getDeclarationErrorAddendum(component)):void 0,component._currentElement.props}}});var styleMutationWarning={},mediaEvents={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},omittedCloseTags={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},newlineEatingTags={listing:!0,pre:!0,textarea:!0},voidElementTags=assign({menuitem:!0},omittedCloseTags),VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,validatedTagCache={},hasOwnProperty={}.hasOwnProperty;ReactDOMComponent.displayName="ReactDOMComponent",ReactDOMComponent.Mixin={construct:function(element){this._currentElement=element},mountComponent:function(rootID,transaction,context){this._rootNodeID=rootID;var props=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"button":props=ReactDOMButton.getNativeProps(this,props,context);break;case"input":ReactDOMInput.mountWrapper(this,props,context),props=ReactDOMInput.getNativeProps(this,props,context);break;case"option":ReactDOMOption.mountWrapper(this,props,context),props=ReactDOMOption.getNativeProps(this,props,context);break;case"select":ReactDOMSelect.mountWrapper(this,props,context),props=ReactDOMSelect.getNativeProps(this,props,context),context=ReactDOMSelect.processChildContext(this,props,context);break;case"textarea":ReactDOMTextarea.mountWrapper(this,props,context),props=ReactDOMTextarea.getNativeProps(this,props,context)}assertValidProps(this,props),"production"!==process.env.NODE_ENV&&context[validateDOMNesting.ancestorInfoContextKey]&&validateDOMNesting(this._tag,this,context[validateDOMNesting.ancestorInfoContextKey]),"production"!==process.env.NODE_ENV&&(this._unprocessedContextDev=context,this._processedContextDev=processChildContextDev(context,this),context=this._processedContextDev);var mountImage;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey],el=ownerDocument.createElement(this._currentElement.type);DOMPropertyOperations.setAttributeForID(el,this._rootNodeID),ReactMount.getID(el),this._updateDOMProperties({},props,transaction,el),this._createInitialChildren(transaction,props,context,el),mountImage=el}else{var tagOpen=this._createOpenTagMarkupAndPutListeners(transaction,props),tagContent=this._createContentMarkup(transaction,props,context);mountImage=!tagContent&&omittedCloseTags[this._tag]?tagOpen+"/>":tagOpen+">"+tagContent+"</"+this._currentElement.type+">"}switch(this._tag){case"input":transaction.getReactMountReady().enqueue(mountReadyInputWrapper,this);case"button":case"select":case"textarea":props.autoFocus&&transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}return mountImage},_createOpenTagMarkupAndPutListeners:function(transaction,props){var ret="<"+this._currentElement.type;for(var propKey in props)if(props.hasOwnProperty(propKey)){var propValue=props[propKey];if(null!=propValue)if(registrationNameModules.hasOwnProperty(propKey))propValue&&enqueuePutListener(this._rootNodeID,propKey,propValue,transaction);else{propKey===STYLE&&(propValue&&("production"!==process.env.NODE_ENV&&(this._previousStyle=propValue),propValue=this._previousStyleCopy=assign({},props.style)),propValue=CSSPropertyOperations.createMarkupForStyles(propValue));var markup=null;markup=null!=this._tag&&isCustomComponent(this._tag,props)?DOMPropertyOperations.createMarkupForCustomAttribute(propKey,propValue):DOMPropertyOperations.createMarkupForProperty(propKey,propValue),markup&&(ret+=" "+markup)}}if(transaction.renderToStaticMarkup)return ret;var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+" "+markupForID},_createContentMarkup:function(transaction,props,context){var ret="",innerHTML=props.dangerouslySetInnerHTML;if(null!=innerHTML)null!=innerHTML.__html&&(ret=innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=null!=contentToUse?null:props.children;if(null!=contentToUse)ret=escapeTextContentForBrowser(contentToUse);else if(null!=childrenToUse){var mountImages=this.mountChildren(childrenToUse,transaction,context);ret=mountImages.join("")}}return newlineEatingTags[this._tag]&&"\n"===ret.charAt(0)?"\n"+ret:ret},_createInitialChildren:function(transaction,props,context,el){var innerHTML=props.dangerouslySetInnerHTML;if(null!=innerHTML)null!=innerHTML.__html&&setInnerHTML(el,innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=null!=contentToUse?null:props.children;if(null!=contentToUse)setTextContent(el,contentToUse);else if(null!=childrenToUse)for(var mountImages=this.mountChildren(childrenToUse,transaction,context),i=0;i<mountImages.length;i++)el.appendChild(mountImages[i])}},receiveComponent:function(nextElement,transaction,context){var prevElement=this._currentElement;this._currentElement=nextElement,this.updateComponent(transaction,prevElement,nextElement,context)},updateComponent:function(transaction,prevElement,nextElement,context){var lastProps=prevElement.props,nextProps=this._currentElement.props;switch(this._tag){case"button":lastProps=ReactDOMButton.getNativeProps(this,lastProps),nextProps=ReactDOMButton.getNativeProps(this,nextProps);break;case"input":ReactDOMInput.updateWrapper(this),lastProps=ReactDOMInput.getNativeProps(this,lastProps),nextProps=ReactDOMInput.getNativeProps(this,nextProps);break;case"option":lastProps=ReactDOMOption.getNativeProps(this,lastProps),nextProps=ReactDOMOption.getNativeProps(this,nextProps);break;case"select":lastProps=ReactDOMSelect.getNativeProps(this,lastProps),nextProps=ReactDOMSelect.getNativeProps(this,nextProps);break;case"textarea":ReactDOMTextarea.updateWrapper(this),lastProps=ReactDOMTextarea.getNativeProps(this,lastProps),nextProps=ReactDOMTextarea.getNativeProps(this,nextProps)}"production"!==process.env.NODE_ENV&&(this._unprocessedContextDev!==context&&(this._unprocessedContextDev=context,this._processedContextDev=processChildContextDev(context,this)),context=this._processedContextDev),assertValidProps(this,nextProps),this._updateDOMProperties(lastProps,nextProps,transaction,null),this._updateDOMChildren(lastProps,nextProps,transaction,context),!canDefineProperty&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=nextProps),"select"===this._tag&&transaction.getReactMountReady().enqueue(postUpdateSelectWrapper,this)},_updateDOMProperties:function(lastProps,nextProps,transaction,node){var propKey,styleName,styleUpdates;for(propKey in lastProps)if(!nextProps.hasOwnProperty(propKey)&&lastProps.hasOwnProperty(propKey))if(propKey===STYLE){var lastStyle=this._previousStyleCopy;for(styleName in lastStyle)lastStyle.hasOwnProperty(styleName)&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");this._previousStyleCopy=null}else registrationNameModules.hasOwnProperty(propKey)?lastProps[propKey]&&deleteListener(this._rootNodeID,propKey):(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))&&(node||(node=ReactMount.getNode(this._rootNodeID)),DOMPropertyOperations.deleteValueForProperty(node,propKey));for(propKey in nextProps){var nextProp=nextProps[propKey],lastProp=propKey===STYLE?this._previousStyleCopy:lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp)if(propKey===STYLE)if(nextProp?("production"!==process.env.NODE_ENV&&(checkAndWarnForMutatedStyle(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=nextProp),nextProp=this._previousStyleCopy=assign({},nextProp)):this._previousStyleCopy=null,lastProp){for(styleName in lastProp)!lastProp.hasOwnProperty(styleName)||nextProp&&nextProp.hasOwnProperty(styleName)||(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");for(styleName in nextProp)nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]=nextProp[styleName])}else styleUpdates=nextProp;else registrationNameModules.hasOwnProperty(propKey)?nextProp?enqueuePutListener(this._rootNodeID,propKey,nextProp,transaction):lastProp&&deleteListener(this._rootNodeID,propKey):isCustomComponent(this._tag,nextProps)?(node||(node=ReactMount.getNode(this._rootNodeID)),DOMPropertyOperations.setValueForAttribute(node,propKey,nextProp)):(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))&&(node||(node=ReactMount.getNode(this._rootNodeID)),null!=nextProp?DOMPropertyOperations.setValueForProperty(node,propKey,nextProp):DOMPropertyOperations.deleteValueForProperty(node,propKey))}styleUpdates&&(node||(node=ReactMount.getNode(this._rootNodeID)),CSSPropertyOperations.setValueForStyles(node,styleUpdates))},_updateDOMChildren:function(lastProps,nextProps,transaction,context){var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null,nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null,lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html,nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html,lastChildren=null!=lastContent?null:lastProps.children,nextChildren=null!=nextContent?null:nextProps.children,lastHasContentOrHtml=null!=lastContent||null!=lastHtml,nextHasContentOrHtml=null!=nextContent||null!=nextHtml;null!=lastChildren&&null==nextChildren?this.updateChildren(null,transaction,context):lastHasContentOrHtml&&!nextHasContentOrHtml&&this.updateTextContent(""),null!=nextContent?lastContent!==nextContent&&this.updateTextContent(""+nextContent):null!=nextHtml?lastHtml!==nextHtml&&this.updateMarkup(""+nextHtml):null!=nextChildren&&this.updateChildren(nextChildren,transaction,context)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var listeners=this._wrapperState.listeners;if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].remove();break;case"input":ReactDOMInput.unmountWrapper(this);break;case"html":case"head":case"body":"production"!==process.env.NODE_ENV?invariant(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):invariant(!1)}if(this.unmountChildren(),ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID),ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var node=this._nodeWithLegacyProperties;node._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var node=ReactMount.getNode(this._rootNodeID);node._reactInternalComponent=this,node.getDOMNode=legacyGetDOMNode,node.isMounted=legacyIsMounted,node.setState=legacySetStateEtc,node.replaceState=legacySetStateEtc,node.forceUpdate=legacySetStateEtc,node.setProps=legacySetProps,node.replaceProps=legacyReplaceProps,"production"!==process.env.NODE_ENV&&canDefineProperty?Object.defineProperties(node,legacyPropsDescriptor):node.props=this._currentElement.props,
this._nodeWithLegacyProperties=node}return this._nodeWithLegacyProperties}},ReactPerf.measureMethods(ReactDOMComponent,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin),module.exports=ReactDOMComponent}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/helpers/get",["npm:babel-runtime@5.8.20/core-js/object/get-own-property-descriptor"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var _Object$getOwnPropertyDescriptor=require("npm:babel-runtime@5.8.20/core-js/object/get-own-property-descriptor")["default"];return exports["default"]=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;desc=parent=getter=void 0,_again=!1,null===object&&(object=Function.prototype);var desc=_Object$getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0}},exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/object/set-prototype-of",["npm:core-js@0.9.18/library/fn/object/set-prototype-of"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/object/set-prototype-of"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/object/assign",["npm:core-js@0.9.18/library/fn/object/assign"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/object/assign"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:core-js@0.9.18/library/fn/map",["npm:core-js@0.9.18/library/modules/es6.object.to-string","npm:core-js@0.9.18/library/modules/es6.string.iterator","npm:core-js@0.9.18/library/modules/web.dom.iterable","npm:core-js@0.9.18/library/modules/es6.map","npm:core-js@0.9.18/library/modules/es7.map.to-json","npm:core-js@0.9.18/library/modules/$"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,require("npm:core-js@0.9.18/library/modules/es6.object.to-string"),require("npm:core-js@0.9.18/library/modules/es6.string.iterator"),require("npm:core-js@0.9.18/library/modules/web.dom.iterable"),require("npm:core-js@0.9.18/library/modules/es6.map"),require("npm:core-js@0.9.18/library/modules/es7.map.to-json"),module.exports=require("npm:core-js@0.9.18/library/modules/$").core.Map,global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/toArray",["npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function toArray(obj){var length=obj.length;if(Array.isArray(obj)||"object"!=typeof obj&&"function"!=typeof obj?"production"!==process.env.NODE_ENV?invariant(!1,"toArray: Array-like object expected"):invariant(!1):void 0,"number"!=typeof length?"production"!==process.env.NODE_ENV?invariant(!1,"toArray: Object needs a length property"):invariant(!1):void 0,0===length||length-1 in obj?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"toArray: Object should have keys for indices"):invariant(!1),obj.hasOwnProperty)try{return Array.prototype.slice.call(obj)}catch(e){}for(var ret=Array(length),ii=0;length>ii;ii++)ret[ii]=obj[ii];return ret}var invariant=require("npm:fbjs@0.3.2/lib/invariant");module.exports=toArray}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMIDOperations",["npm:react@0.14.0/lib/DOMChildrenOperations","npm:react@0.14.0/lib/DOMPropertyOperations","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/ReactPerf","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var DOMChildrenOperations=require("npm:react@0.14.0/lib/DOMChildrenOperations"),DOMPropertyOperations=require("npm:react@0.14.0/lib/DOMPropertyOperations"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},ReactDOMIDOperations={updatePropertyByID:function(id,name,value){var node=ReactMount.getNode(id);INVALID_PROPERTY_ERRORS.hasOwnProperty(name)?"production"!==process.env.NODE_ENV?invariant(!1,"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[name]):invariant(!1):void 0,null!=value?DOMPropertyOperations.setValueForProperty(node,name,value):DOMPropertyOperations.deleteValueForProperty(node,name)},dangerouslyReplaceNodeWithMarkupByID:function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup)},dangerouslyProcessChildrenUpdates:function(updates,markup){for(var i=0;i<updates.length;i++)updates[i].parentNode=ReactMount.getNode(updates[i].parentID);DOMChildrenOperations.processUpdates(updates,markup)}};ReactPerf.measureMethods(ReactDOMIDOperations,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),module.exports=ReactDOMIDOperations}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDefaultInjection",["npm:react@0.14.0/lib/BeforeInputEventPlugin","npm:react@0.14.0/lib/ChangeEventPlugin","npm:react@0.14.0/lib/ClientReactRootIndex","npm:react@0.14.0/lib/DefaultEventPluginOrder","npm:react@0.14.0/lib/EnterLeaveEventPlugin","npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:react@0.14.0/lib/HTMLDOMPropertyConfig","npm:react@0.14.0/lib/ReactBrowserComponentMixin","npm:react@0.14.0/lib/ReactComponentBrowserEnvironment","npm:react@0.14.0/lib/ReactDefaultBatchingStrategy","npm:react@0.14.0/lib/ReactDOMComponent","npm:react@0.14.0/lib/ReactDOMTextComponent","npm:react@0.14.0/lib/ReactEventListener","npm:react@0.14.0/lib/ReactInjection","npm:react@0.14.0/lib/ReactInstanceHandles","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/ReactReconcileTransaction","npm:react@0.14.0/lib/SelectEventPlugin","npm:react@0.14.0/lib/ServerReactRootIndex","npm:react@0.14.0/lib/SimpleEventPlugin","npm:react@0.14.0/lib/SVGDOMPropertyConfig","npm:react@0.14.0/lib/ReactDefaultPerf","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function inject(){if(!alreadyInjected&&(alreadyInjected=!0,ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener),ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder),ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles),ReactInjection.EventPluginHub.injectMount(ReactMount),ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin}),ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent),ReactInjection.NativeComponent.injectTextComponentClass(ReactDOMTextComponent),ReactInjection.Class.injectMixin(ReactBrowserComponentMixin),ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig),ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig),ReactInjection.EmptyComponent.injectEmptyComponent("noscript"),ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction),ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy),ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex),ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment),"production"!==process.env.NODE_ENV)){var url=ExecutionEnvironment.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(url)){var ReactDefaultPerf=require("npm:react@0.14.0/lib/ReactDefaultPerf");ReactDefaultPerf.start()}}}var BeforeInputEventPlugin=require("npm:react@0.14.0/lib/BeforeInputEventPlugin"),ChangeEventPlugin=require("npm:react@0.14.0/lib/ChangeEventPlugin"),ClientReactRootIndex=require("npm:react@0.14.0/lib/ClientReactRootIndex"),DefaultEventPluginOrder=require("npm:react@0.14.0/lib/DefaultEventPluginOrder"),EnterLeaveEventPlugin=require("npm:react@0.14.0/lib/EnterLeaveEventPlugin"),ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),HTMLDOMPropertyConfig=require("npm:react@0.14.0/lib/HTMLDOMPropertyConfig"),ReactBrowserComponentMixin=require("npm:react@0.14.0/lib/ReactBrowserComponentMixin"),ReactComponentBrowserEnvironment=require("npm:react@0.14.0/lib/ReactComponentBrowserEnvironment"),ReactDefaultBatchingStrategy=require("npm:react@0.14.0/lib/ReactDefaultBatchingStrategy"),ReactDOMComponent=require("npm:react@0.14.0/lib/ReactDOMComponent"),ReactDOMTextComponent=require("npm:react@0.14.0/lib/ReactDOMTextComponent"),ReactEventListener=require("npm:react@0.14.0/lib/ReactEventListener"),ReactInjection=require("npm:react@0.14.0/lib/ReactInjection"),ReactInstanceHandles=require("npm:react@0.14.0/lib/ReactInstanceHandles"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactReconcileTransaction=require("npm:react@0.14.0/lib/ReactReconcileTransaction"),SelectEventPlugin=require("npm:react@0.14.0/lib/SelectEventPlugin"),ServerReactRootIndex=require("npm:react@0.14.0/lib/ServerReactRootIndex"),SimpleEventPlugin=require("npm:react@0.14.0/lib/SimpleEventPlugin"),SVGDOMPropertyConfig=require("npm:react@0.14.0/lib/SVGDOMPropertyConfig"),alreadyInjected=!1;module.exports={inject:inject}}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/helpers/inherits",["npm:babel-runtime@5.8.20/core-js/object/create","npm:babel-runtime@5.8.20/core-js/object/set-prototype-of"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var _Object$create=require("npm:babel-runtime@5.8.20/core-js/object/create")["default"],_Object$setPrototypeOf=require("npm:babel-runtime@5.8.20/core-js/object/set-prototype-of")["default"];return exports["default"]=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=_Object$create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(_Object$setPrototypeOf?_Object$setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)},exports.__esModule=!0,global.define=__define,module.exports}),System.register("npm:babel-runtime@5.8.20/core-js/map",["npm:core-js@0.9.18/library/fn/map"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports={"default":require("npm:core-js@0.9.18/library/fn/map"),__esModule:!0},global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/createArrayFromMixed",["npm:fbjs@0.3.2/lib/toArray"],!0,function(require,exports,module){function hasArrayNature(obj){return!!obj&&("object"==typeof obj||"function"==typeof obj)&&"length"in obj&&!("setInterval"in obj)&&"number"!=typeof obj.nodeType&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFromMixed(obj){return hasArrayNature(obj)?Array.isArray(obj)?obj.slice():toArray(obj):[obj]}var global=System.global,__define=global.define;global.define=void 0;var toArray=require("npm:fbjs@0.3.2/lib/toArray");return module.exports=createArrayFromMixed,global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactComponentBrowserEnvironment",["npm:react@0.14.0/lib/ReactDOMIDOperations","npm:react@0.14.0/lib/ReactMount","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var ReactDOMIDOperations=require("npm:react@0.14.0/lib/ReactDOMIDOperations"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:ReactDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID)}};module.exports=ReactComponentBrowserEnvironment}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:fbjs@0.3.2/lib/createNodesFromMarkup",["npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:fbjs@0.3.2/lib/createArrayFromMixed","npm:fbjs@0.3.2/lib/getMarkupWrap","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;dummyNode?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"createNodesFromMarkup dummy not initialized"):invariant(!1);var nodeName=getNodeName(markup),wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];for(var wrapDepth=wrap[0];wrapDepth--;)node=node.lastChild}else node.innerHTML=markup;var scripts=node.getElementsByTagName("script");scripts.length&&(handleScript?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."):invariant(!1),createArrayFromMixed(scripts).forEach(handleScript));for(var nodes=createArrayFromMixed(node.childNodes);node.lastChild;)node.removeChild(node.lastChild);return nodes}var ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),createArrayFromMixed=require("npm:fbjs@0.3.2/lib/createArrayFromMixed"),getMarkupWrap=require("npm:fbjs@0.3.2/lib/getMarkupWrap"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,nodeNamePattern=/^\s*<(\w+)/;module.exports=createNodesFromMarkup}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/Danger",["npm:fbjs@0.3.2/lib/ExecutionEnvironment","npm:fbjs@0.3.2/lib/createNodesFromMarkup","npm:fbjs@0.3.2/lib/emptyFunction","npm:fbjs@0.3.2/lib/getMarkupWrap","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function getNodeName(markup){return markup.substring(1,markup.indexOf(" "))}var ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment"),createNodesFromMarkup=require("npm:fbjs@0.3.2/lib/createNodesFromMarkup"),emptyFunction=require("npm:fbjs@0.3.2/lib/emptyFunction"),getMarkupWrap=require("npm:fbjs@0.3.2/lib/getMarkupWrap"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/,RESULT_INDEX_ATTR="data-danger-index",Danger={dangerouslyRenderMarkup:function(markupList){ExecutionEnvironment.canUseDOM?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering."):invariant(!1);for(var nodeName,markupByNodeName={},i=0;i<markupList.length;i++)markupList[i]?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"dangerouslyRenderMarkup(...): Missing markup."):invariant(!1),nodeName=getNodeName(markupList[i]),nodeName=getMarkupWrap(nodeName)?nodeName:"*",markupByNodeName[nodeName]=markupByNodeName[nodeName]||[],markupByNodeName[nodeName][i]=markupList[i];var resultList=[],resultListAssignmentCount=0;for(nodeName in markupByNodeName)if(markupByNodeName.hasOwnProperty(nodeName)){var resultIndex,markupListByNodeName=markupByNodeName[nodeName];for(resultIndex in markupListByNodeName)if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+resultIndex+'" ')}for(var renderNodes=createNodesFromMarkup(markupListByNodeName.join(""),emptyFunction),j=0;j<renderNodes.length;++j){var renderNode=renderNodes[j];renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)?(resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR),renderNode.removeAttribute(RESULT_INDEX_ATTR),resultList.hasOwnProperty(resultIndex)?"production"!==process.env.NODE_ENV?invariant(!1,"Danger: Assigning to an already-occupied result index."):invariant(!1):void 0,resultList[resultIndex]=renderNode,resultListAssignmentCount+=1):"production"!==process.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",renderNode)}}return resultListAssignmentCount!==resultList.length?"production"!==process.env.NODE_ENV?invariant(!1,"Danger: Did not assign to every index of resultList."):invariant(!1):void 0,resultList.length!==markupList.length?"production"!==process.env.NODE_ENV?invariant(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",markupList.length,resultList.length):invariant(!1):void 0,resultList},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){ExecutionEnvironment.canUseDOM?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):invariant(!1),markup?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):invariant(!1),"html"===oldChild.tagName.toLowerCase()?"production"!==process.env.NODE_ENV?invariant(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):invariant(!1):void 0;var newChild;newChild="string"==typeof markup?createNodesFromMarkup(markup,emptyFunction)[0]:markup,oldChild.parentNode.replaceChild(newChild,oldChild)}};module.exports=Danger}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/DOMChildrenOperations",["npm:react@0.14.0/lib/Danger","npm:react@0.14.0/lib/ReactMultiChildUpdateTypes","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/setInnerHTML","npm:react@0.14.0/lib/setTextContent","npm:fbjs@0.3.2/lib/invariant","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";function insertChildAt(parentNode,childNode,index){var beforeChild=index>=parentNode.childNodes.length?null:parentNode.childNodes.item(index);parentNode.insertBefore(childNode,beforeChild)}var Danger=require("npm:react@0.14.0/lib/Danger"),ReactMultiChildUpdateTypes=require("npm:react@0.14.0/lib/ReactMultiChildUpdateTypes"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),setInnerHTML=require("npm:react@0.14.0/lib/setInnerHTML"),setTextContent=require("npm:react@0.14.0/lib/setTextContent"),invariant=require("npm:fbjs@0.3.2/lib/invariant"),DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:setTextContent,processUpdates:function(updates,markupList){for(var update,initialChildren=null,updatedChildren=null,i=0;i<updates.length;i++)if(update=updates[i],update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex,updatedChild=update.parentNode.childNodes[updatedIndex],parentID=update.parentID;updatedChild?void 0:"production"!==process.env.NODE_ENV?invariant(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",updatedIndex,parentID):invariant(!1),initialChildren=initialChildren||{},initialChildren[parentID]=initialChildren[parentID]||[],initialChildren[parentID][updatedIndex]=updatedChild,updatedChildren=updatedChildren||[],updatedChildren.push(updatedChild)}var renderedMarkup;if(renderedMarkup=markupList.length&&"string"==typeof markupList[0]?Danger.dangerouslyRenderMarkup(markupList):markupList,updatedChildren)for(var j=0;j<updatedChildren.length;j++)updatedChildren[j].parentNode.removeChild(updatedChildren[j]);for(var k=0;k<updates.length;k++)switch(update=updates[k],update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.SET_MARKUP:setInnerHTML(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:}}};ReactPerf.measureMethods(DOMChildrenOperations,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),module.exports=DOMChildrenOperations}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOMTextComponent",["npm:react@0.14.0/lib/DOMChildrenOperations","npm:react@0.14.0/lib/DOMPropertyOperations","npm:react@0.14.0/lib/ReactComponentBrowserEnvironment","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/Object.assign","npm:react@0.14.0/lib/escapeTextContentForBrowser","npm:react@0.14.0/lib/setTextContent","npm:react@0.14.0/lib/validateDOMNesting","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var DOMChildrenOperations=require("npm:react@0.14.0/lib/DOMChildrenOperations"),DOMPropertyOperations=require("npm:react@0.14.0/lib/DOMPropertyOperations"),ReactComponentBrowserEnvironment=require("npm:react@0.14.0/lib/ReactComponentBrowserEnvironment"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),assign=require("npm:react@0.14.0/lib/Object.assign"),escapeTextContentForBrowser=require("npm:react@0.14.0/lib/escapeTextContentForBrowser"),setTextContent=require("npm:react@0.14.0/lib/setTextContent"),validateDOMNesting=require("npm:react@0.14.0/lib/validateDOMNesting"),ReactDOMTextComponent=function(props){};assign(ReactDOMTextComponent.prototype,{construct:function(text){this._currentElement=text,this._stringText=""+text,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(rootID,transaction,context){if("production"!==process.env.NODE_ENV&&context[validateDOMNesting.ancestorInfoContextKey]&&validateDOMNesting("span",null,context[validateDOMNesting.ancestorInfoContextKey]),this._rootNodeID=rootID,transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey],el=ownerDocument.createElement("span");return DOMPropertyOperations.setAttributeForID(el,rootID),ReactMount.getID(el),setTextContent(el,this._stringText),el}var escapedText=escapeTextContentForBrowser(this._stringText);return transaction.renderToStaticMarkup?escapedText:"<span "+DOMPropertyOperations.createMarkupForID(rootID)+">"+escapedText+"</span>"},receiveComponent:function(nextText,transaction){if(nextText!==this._currentElement){this._currentElement=nextText;var nextStringText=""+nextText;if(nextStringText!==this._stringText){this._stringText=nextStringText;var node=ReactMount.getNode(this._rootNodeID);DOMChildrenOperations.updateTextContent(node,nextStringText)}}},unmountComponent:function(){ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID)}}),module.exports=ReactDOMTextComponent}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/ReactDOM",["npm:react@0.14.0/lib/ReactCurrentOwner","npm:react@0.14.0/lib/ReactDOMTextComponent","npm:react@0.14.0/lib/ReactDefaultInjection","npm:react@0.14.0/lib/ReactInstanceHandles","npm:react@0.14.0/lib/ReactMount","npm:react@0.14.0/lib/ReactPerf","npm:react@0.14.0/lib/ReactReconciler","npm:react@0.14.0/lib/ReactUpdates","npm:react@0.14.0/lib/ReactVersion","npm:react@0.14.0/lib/findDOMNode","npm:react@0.14.0/lib/renderSubtreeIntoContainer","npm:fbjs@0.3.2/lib/warning","npm:fbjs@0.3.2/lib/ExecutionEnvironment","github:jspm/nodelibs-process@0.1.2"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,function(process){"use strict";var ReactCurrentOwner=require("npm:react@0.14.0/lib/ReactCurrentOwner"),ReactDOMTextComponent=require("npm:react@0.14.0/lib/ReactDOMTextComponent"),ReactDefaultInjection=require("npm:react@0.14.0/lib/ReactDefaultInjection"),ReactInstanceHandles=require("npm:react@0.14.0/lib/ReactInstanceHandles"),ReactMount=require("npm:react@0.14.0/lib/ReactMount"),ReactPerf=require("npm:react@0.14.0/lib/ReactPerf"),ReactReconciler=require("npm:react@0.14.0/lib/ReactReconciler"),ReactUpdates=require("npm:react@0.14.0/lib/ReactUpdates"),ReactVersion=require("npm:react@0.14.0/lib/ReactVersion"),findDOMNode=require("npm:react@0.14.0/lib/findDOMNode"),renderSubtreeIntoContainer=require("npm:react@0.14.0/lib/renderSubtreeIntoContainer"),warning=require("npm:fbjs@0.3.2/lib/warning");ReactDefaultInjection.inject();var render=ReactPerf.measure("React","render",ReactMount.render),React={findDOMNode:findDOMNode,render:render,unmountComponentAtNode:ReactMount.unmountComponentAtNode,version:ReactVersion,unstable_batchedUpdates:ReactUpdates.batchedUpdates,unstable_renderSubtreeIntoContainer:renderSubtreeIntoContainer};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:ReactCurrentOwner,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,Reconciler:ReactReconciler,TextComponent:ReactDOMTextComponent}),"production"!==process.env.NODE_ENV){var ExecutionEnvironment=require("npm:fbjs@0.3.2/lib/ExecutionEnvironment");if(ExecutionEnvironment.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var ieCompatibilityMode=document.documentMode&&document.documentMode<8;"production"!==process.env.NODE_ENV?warning(!ieCompatibilityMode,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;for(var expectedFeatures=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],i=0;i<expectedFeatures.length;i++)if(!expectedFeatures[i]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}}module.exports=React}(require("github:jspm/nodelibs-process@0.1.2")),global.define=__define,module.exports}),System.register("npm:react@0.14.0/lib/React",["npm:react@0.14.0/lib/ReactDOM","npm:react@0.14.0/lib/ReactDOMServer","npm:react@0.14.0/lib/ReactIsomorphic","npm:react@0.14.0/lib/Object.assign","npm:react@0.14.0/lib/deprecated"],!0,function(require,exports,module){var global=System.global,__define=global.define;global.define=void 0;var ReactDOM=require("npm:react@0.14.0/lib/ReactDOM"),ReactDOMServer=require("npm:react@0.14.0/lib/ReactDOMServer"),ReactIsomorphic=require("npm:react@0.14.0/lib/ReactIsomorphic"),assign=require("npm:react@0.14.0/lib/Object.assign"),deprecated=require("npm:react@0.14.0/lib/deprecated"),React={};return assign(React,ReactIsomorphic),assign(React,{findDOMNode:deprecated("findDOMNode","ReactDOM","react-dom",ReactDOM,ReactDOM.findDOMNode),render:deprecated("render","ReactDOM","react-dom",ReactDOM,ReactDOM.render),unmountComponentAtNode:deprecated("unmountComponentAtNode","ReactDOM","react-dom",ReactDOM,ReactDOM.unmountComponentAtNode),renderToString:deprecated("renderToString","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToString),renderToStaticMarkup:deprecated("renderToStaticMarkup","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToStaticMarkup)}),React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOM,module.exports=React,global.define=__define,module.exports}),System.register("npm:react@0.14.0/react",["npm:react@0.14.0/lib/React"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:react@0.14.0/lib/React"),global.define=__define,module.exports}),System.register("npm:react@0.14.0",["npm:react@0.14.0/react"],!0,function(require,exports,module){var global=System.global,__define=global.define;return global.define=void 0,module.exports=require("npm:react@0.14.0/react"),global.define=__define,module.exports}),System.register("dvt/AppActions",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/AppDispatcher"],function(_export){var _createClass,_classCallCheck,AppDispatcher,AppActions;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]}],execute:function(){"use strict";AppActions=function(){function AppActions(){_classCallCheck(this,AppActions)}return _createClass(AppActions,null,[{key:"doNothing",value:function(){AppDispatcher.dispatch({action:"doNothing",data:null})}},{key:"setStartDate",value:function(startDate){AppDispatcher.dispatch({action:"timeframe:setStartDate",data:startDate})}},{key:"setEndDate",value:function(endDate){AppDispatcher.dispatch({action:"timeframe:setEndDate",data:endDate})}},{key:"setEndDateConstantDuration",value:function(endDate){AppDispatcher.dispatch({action:"timeframe:setEndDateConstantDuration",
data:endDate})}},{key:"setTimeframe",value:function(timeframe){AppDispatcher.dispatch({action:"timeframe:setAll",data:timeframe})}},{key:"changeMode",value:function(mode){AppDispatcher.dispatch({action:"timeframe:changeMode",data:mode})}},{key:"toggleMode",value:function(){AppDispatcher.dispatch({action:"timeframe:toggleMode",data:null})}},{key:"setDurationType",value:function(type){AppDispatcher.dispatch({action:"timeframe:setDurationType",data:type})}},{key:"setDuration",value:function(duration){AppDispatcher.dispatch({action:"timeframe:setDuration",data:duration})}},{key:"setSkip",value:function(skip){AppDispatcher.dispatch({action:"timeframe:setSkip",data:skip})}},{key:"skip",value:function(direction){AppDispatcher.dispatch({action:"timeframe:skip",data:direction})}},{key:"shift",value:function(pixels){AppDispatcher.dispatch({action:"timeframe:shift",data:pixels})}},{key:"setFavorite",value:function(name){AppDispatcher.dispatch({action:"timeframe:setFavorite",data:name})}},{key:"setHasProblem",value:function(hasProblem){AppDispatcher.dispatch({action:"timeframe:hasProblem",data:hasProblem})}},{key:"zoomOut",value:function(){AppDispatcher.dispatch({action:"timeframe:zoomOut",data:null})}},{key:"zoomIn",value:function(){AppDispatcher.dispatch({action:"timeframe:zoomIn",data:null})}},{key:"setTimeframeDisplayType",value:function(displayType){AppDispatcher.dispatch({action:"timeframe:setDisplayType",data:displayType})}},{key:"setLabelsAndValuesAndCounts",value:function(kvps){AppDispatcher.dispatch({action:"labels:setGlobalLabelsAndValuesAndCounts",data:kvps})}},{key:"setCurrentExpandedLabelName",value:function(labelName){AppDispatcher.dispatch({action:"labels:setCurrentExpandedLabelName",data:labelName})}},{key:"addFilterLabelValue",value:function(label,value){AppDispatcher.dispatch({action:"labels:addFilterLabelValue",data:{label:label,value:value}})}},{key:"removeFilterLabel",value:function(label){AppDispatcher.dispatch({action:"labels:removeFilterLabel",data:label})}},{key:"removeAllFilterLabels",value:function(){AppDispatcher.dispatch({action:"labels:removeAllFilterLabels"})}},{key:"setAggregateOnLoad",value:function(aol){AppDispatcher.dispatch({action:"labels:aggregateOnLoad",data:aol})}},{key:"setCounterToRate",value:function(ctr){AppDispatcher.dispatch({action:"labels:counterToRate",data:ctr})}},{key:"setPredefinedPages",value:function(predefined){AppDispatcher.dispatch({action:"pages:setPredefinedPages",data:predefined})}},{key:"setUserPages",value:function(user){AppDispatcher.dispatch({action:"pages:setUserPages",data:user})}},{key:"setPage",value:function(pageName){AppDispatcher.dispatch({action:"pages:setPage",data:pageName})}},{key:"modifySeries",value:function(key,modifyFunc){AppDispatcher.dispatch({action:"pages:modifySeries",data:{key:key,modifyFunc:modifyFunc}})}},{key:"setGroupProperty",value:function(key,property,value){AppDispatcher.dispatch({action:"pages:setGroupProperty",data:{key:key,property:property,value:value}})}},{key:"prependElement",value:function(element,pageName){AppDispatcher.dispatch({action:"pages:prependElement",data:{element:element,pageName:pageName}})}},{key:"removeElement",value:function(key){AppDispatcher.dispatch({action:"pages:removeElement",data:key})}},{key:"moveSeries",value:function(movingKey,insertBeforeKey){AppDispatcher.dispatch({action:"pages:moveSeries",data:{movingKey:movingKey,insertBeforeKey:insertBeforeKey}})}},{key:"copyCurrent",value:function(){AppDispatcher.dispatch({action:"pages:copyCurrent"})}},{key:"saveCurrentPage",value:function(){AppDispatcher.dispatch({action:"pages:saveCurrentPage"})}},{key:"addNewPage",value:function(){AppDispatcher.dispatch({action:"pages:addNewPage"})}},{key:"setNewWorkingSeriesSetAndTransientPage",value:function(identities,label,value){AppDispatcher.dispatch({action:"pages:setNewWorkingSeriesSetAndTransientPage",data:{identities:identities,label:label,value:value}})}},{key:"switchTo",value:function(pageType){AppDispatcher.dispatch({action:"pages:switchTo",data:pageType})}},{key:"executeQuery",value:function(query){AppDispatcher.dispatch({action:"pages:executeQuery",data:query})}},{key:"setNumberOfColumns",value:function(n){AppDispatcher.dispatch({action:"pages:setNumberOfColumns",data:n})}},{key:"deletePage",value:function(pageName){AppDispatcher.dispatch({action:"pages:deletePage",data:pageName})}},{key:"changePageName",value:function(fromName,toName){AppDispatcher.dispatch({action:"pages:changePageName",data:{fromName:fromName,toName:toName}})}},{key:"moveSeriesToColumnEnd",value:function(movingKey,columnNumber){AppDispatcher.dispatch({action:"pages:moveSeriesToColumnEnd",data:{movingKey:movingKey,columnNumber:columnNumber}})}},{key:"moveSeriesToGroupEnd",value:function(movingKey,groupKey){AppDispatcher.dispatch({action:"pages:moveSeriesToGroupEnd",data:{movingKey:movingKey,groupKey:groupKey}})}},{key:"clearAllPages",value:function(){AppDispatcher.dispatch({action:"pages:clearAllPages",data:null})}},{key:"makeMonotonic",value:function(seriesSpec){AppDispatcher.dispatch({action:"pages:makeMonotonic",data:seriesSpec})}},{key:"groupCurrentPageBy",value:function(dimensionName,nGroups){AppDispatcher.dispatch({action:"pages:groupCurrentPageBy",data:{dimension:dimensionName,nGroups:nGroups}})}},{key:"orderSeriesBy",value:function(dimensionName,groupKey){AppDispatcher.dispatch({action:"pages:orderSeriesBy",data:{dimensionName:dimensionName,groupKey:groupKey}})}},{key:"orderSeriesByTempValue",value:function(groupKey){AppDispatcher.dispatch({action:"pages:orderSeriesByTempValue",data:groupKey})}},{key:"ungroupCurrentPage",value:function(){AppDispatcher.dispatch({action:"pages:ungroupCurrentPage",data:null})}},{key:"newPageFromElement",value:function(element){AppDispatcher.dispatch({action:"pages:newPageFromElement",data:element})}},{key:"toggleLabelVisibility",value:function(dimensionName,lineSpec){AppDispatcher.dispatch({action:"pages:toggleLabelVisibility",data:{dimension:dimensionName,lineSpec:lineSpec}})}},{key:"setLabelVisibility",value:function(dimensionName,lineSpec,status){AppDispatcher.dispatch({action:"pages:setLabelVisibility",data:{dimension:dimensionName,lineSpec:lineSpec,status:status}})}},{key:"expandAggregated",value:function(key){AppDispatcher.dispatch({action:"pages:expandAggregated",data:key})}},{key:"aggregateGroup",value:function(key,aggregateFn,fn,fnParam){AppDispatcher.dispatch({action:"pages:aggregateGroup",data:{key:key,aggregateFn:aggregateFn,fn:fn,fnParam:fnParam}})}},{key:"changePanelHeight",value:function(name,dy){AppDispatcher.dispatch({action:"layoutSidebar:changePanelHeight",data:{name:name,dy:dy}})}},{key:"togglePanelType",value:function(name){AppDispatcher.dispatch({action:"layoutSidebar:togglePanelType",data:name})}},{key:"showPanelType",value:function(name){AppDispatcher.dispatch({action:"layoutSidebar:showPanelType",data:name})}},{key:"showPanelOnly",value:function(name){AppDispatcher.dispatch({action:"layoutSidebar:showPanelOnly",data:name})}},{key:"toggleGlobalSettings",value:function(){AppDispatcher.dispatch({action:"layout:toggleGlobalSettings",data:null})}},{key:"toggleLicenseInformation",value:function(){AppDispatcher.dispatch({action:"layout:toggleLicenseInformation",data:null})}},{key:"setInDrag",value:function(inDrag,dragClass){AppDispatcher.dispatch({action:"layout:setInDrag",data:{inDrag:inDrag,dragClass:dragClass}})}},{key:"setSidebarPaddedWidth",value:function(dx){AppDispatcher.dispatch({action:"layout:setSidebarPaddedWidth",data:dx})}},{key:"setPageSelectHeight",value:function(dy){AppDispatcher.dispatch({action:"layout:setPageSelectHeight",data:dy})}},{key:"hideSidebar",value:function(){AppDispatcher.dispatch({action:"layout:hideSidebar",data:null})}},{key:"showSidebar",value:function(){AppDispatcher.dispatch({action:"layout:showSidebar",data:null})}},{key:"setVisibleSettingsTab",value:function(tabName){AppDispatcher.dispatch({action:"layout:setVisibleSettingsTab",data:tabName})}},{key:"setVisibleSidebarTab",value:function(tabName){AppDispatcher.dispatch({action:"layout:setVisibleSidebarTab",data:tabName})}},{key:"togglePagesListVisible",value:function(){AppDispatcher.dispatch({action:"layout:togglePagesListVisible"})}},{key:"toggleSeriesListVisible",value:function(){AppDispatcher.dispatch({action:"layout:toggleSeriesListVisible"})}},{key:"toggleConfirmDelete",value:function(name){AppDispatcher.dispatch({action:"layout:toggleConfirmDelete",data:name})}},{key:"setMovingElementKeyAndType",value:function(key,elementType){AppDispatcher.dispatch({action:"layout:setMovingElementKeyAndType",data:{key:key,elementType:elementType}})}},{key:"clearMovingElement",value:function(){AppDispatcher.dispatch({action:"layout:clearMovingElement"})}},{key:"toggleTimeframeVisible",value:function(){AppDispatcher.dispatch({action:"layout:toggleTimeframeVisible"})}},{key:"setLineSettingsVisibility",value:function(isVisible){AppDispatcher.dispatch({action:"layout:setLineSettingsVisibility",data:isVisible})}},{key:"setGlobalLineSettingsVisibility",value:function(isVisible){AppDispatcher.dispatch({action:"layout:setGlobalLineSettingsVisibility",data:isVisible})}},{key:"setInFisheyeMode",value:function(inFisheye){AppDispatcher.dispatch({action:"layout:setInFisheyeMode",data:inFisheye})}},{key:"setFisheyeFrozenLine",value:function(fisheyeFrozenLine){AppDispatcher.dispatch({action:"layout:setFisheyeFrozenLine",data:fisheyeFrozenLine})}},{key:"changeVerticalMagnify",value:function(delta){AppDispatcher.dispatch({action:"layout:changeVerticalMagnify",data:delta})}},{key:"setPagesTabVisibility",value:function(isVisible){AppDispatcher.dispatch({action:"layout:setPagesTabVisibility",data:isVisible})}},{key:"summaryLoadError",value:function(hasError){AppDispatcher.dispatch({action:"layout:summaryLoadError",data:hasError})}},{key:"refreshOverlayData",value:function(overlaySpec){AppDispatcher.dispatch({action:"layout:refreshOverlayData",data:overlaySpec})}},{key:"refreshOverlayDataDone",value:function(){AppDispatcher.dispatch({action:"layout:refreshOverlayDataDone",data:null})}},{key:"refreshHeaderTexture",value:function(key){AppDispatcher.dispatch({action:"layout:refreshHeaderTexture",data:key})}},{key:"refreshHeaderTextureDone",value:function(){AppDispatcher.dispatch({action:"layout:refreshHeaderTextureDone",data:null})}},{key:"setWindowSize",value:function(size){AppDispatcher.dispatch({action:"layout:setWindowSize",data:size})}},{key:"updateDragLocation",value:function(loc){AppDispatcher.dispatch({action:"layout:updateDragLocation",data:loc})}},{key:"setInsertBefore",value:function(key){AppDispatcher.dispatch({action:"layout:setInsertBefore",data:key})}},{key:"setInsertAtColumnEnd",value:function(columnNumber){AppDispatcher.dispatch({action:"layout:setInsertAtColumnEnd",data:columnNumber})}},{key:"setInsertAtGroupEnd",value:function(groupKey){AppDispatcher.dispatch({action:"layout:setInsertAtGroupEnd",data:groupKey})}},{key:"setDragOverPage",value:function(name){AppDispatcher.dispatch({action:"layout:setDragOverPage",data:name})}},{key:"setDragOverNewPage",value:function(isOver){AppDispatcher.dispatch({action:"layout:setDragOverNewPage",data:isOver})}},{key:"toggleRule",value:function(){AppDispatcher.dispatch({action:"layout:toggleRule",data:null})}},{key:"toggleHoverDetail",value:function(){AppDispatcher.dispatch({action:"layout:toggleHoverDetail",data:null})}},{key:"toggleMovement",value:function(){AppDispatcher.dispatch({action:"layout:toggleMovement",data:null})}},{key:"setFieldCurrentlyInEdit",value:function(inEdit){AppDispatcher.dispatch({action:"editOrder:setFieldCurrentlyInEdit",data:inEdit})}},{key:"switchChangingField",value:function(){AppDispatcher.dispatch({action:"editOrder:switchChangingField",data:null})}},{key:"justSwitchedPhaseTwo",value:function(){AppDispatcher.dispatch({action:"editOrder:justSwitchedPhaseTwo",data:null})}},{key:"addNetworkStatus",value:function(status){AppDispatcher.dispatch({action:"netstat:add",data:status})}},{key:"removeNetworkStatus",value:function(status){AppDispatcher.dispatch({action:"netstat:remove",data:status})}},{key:"activateSource",value:function(key){AppDispatcher.dispatch({action:"source:activateSource",data:key})}},{key:"saveSourceProfile",value:function(profile){AppDispatcher.dispatch({action:"source:saveSourceProfile",data:profile})}},{key:"removeSourceProfile",value:function(key){AppDispatcher.dispatch({action:"source:removeSourceProfile",data:key})}}]),AppActions}(),_export("default",AppActions)}}}),System.register("dvt/stores/Store_EditOrder",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/assign","dvt/AppDispatcher","github:jspm/nodelibs-events@0.1.1","dvt/stores/Store_Timeframe"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$assign,AppDispatcher,EventEmitter,Store_Timeframe,Store_EditOrder;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]}],execute:function(){"use strict";Store_EditOrder=function(_EventEmitter){function Store_EditOrder(){_classCallCheck(this,Store_EditOrder),_get(Object.getPrototypeOf(Store_EditOrder.prototype),"constructor",this).call(this),this.dispatchToken=this.registerDispatcherCallback(),this.editOrder={list:["duration","end","start"],fieldInEdit:null,justSwitched:!1,justSwitched_2:!1}}return _inherits(Store_EditOrder,_EventEmitter),_createClass(Store_EditOrder,[{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(AppDispatcher.waitFor([Store_Timeframe.dispatchToken]),payload.action){case"timeframe:setEndDate":this.setMostRecentSet("end");break;case"timeframe:setEndDateConstantDuration":break;case"timeframe:setStartDate":this.setMostRecentSet("start");break;case"timeframe:setDuration":this.setMostRecentSet("duration");break;case"editOrder:setFieldCurrentlyInEdit":this.setFieldInEdit(payload.data);break;case"editOrder:switchChangingField":this.switchChangingField();break;case"editOrder:justSwitchedPhaseTwo":this.phase2();break;default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"phase2",value:function(){this.editOrder.justSwitched=!1,this.editOrder.justSwitched_2=!0}},{key:"setFieldInEdit",value:function(field){this.editOrder.fieldInEdit=field,this.editOrder.justSwitched=!1,this.editOrder.justSwitched=!1}},{key:"switchChangingField",value:function(){var currentChanging=null;this.getStartIconVisible()?currentChanging="start":this.getDurationIconVisible()?currentChanging="duration":this.getEndIconVisible()?currentChanging="end":console.log("WARNING: not currently changing!");var currentEditing=this.editOrder.fieldInEdit,newChanging="end";"start"!=currentChanging&&"start"!=currentEditing?newChanging="start":"duration"!=currentChanging&&"duration"!=currentEditing&&(newChanging="duration");var currentChangingIndex=this.editOrder.list.indexOf(currentChanging),newChangingIndex=this.editOrder.list.indexOf(newChanging);this.editOrder.list[currentChangingIndex]=newChanging,this.editOrder.list[newChangingIndex]=currentChanging,this.editOrder.justSwitched=!0,this.editOrder.justSwitched_2=!1}},{key:"getStartIconVisible",value:function(){return"start"===this.editOrder.fieldInEdit||null===this.editOrder.fieldInEdit?!1:"start"===this.getLastRecentSet(this.editOrder.fieldInEdit)}},{key:"getEndIconVisible",value:function(){return"end"===this.editOrder.fieldInEdit||null===this.editOrder.fieldInEdit?!1:"end"===this.getLastRecentSet(this.editOrder.fieldInEdit)}},{key:"getDurationIconVisible",value:function(){return"duration"===this.editOrder.fieldInEdit||null==this.editOrder.fieldInEdit?!1:"duration"===this.getLastRecentSet(this.editOrder.fieldInEdit)}},{key:"getLastRecentSet",value:function(currentModifying){return this.editOrder.list[this.editOrder.list.length-1]!==currentModifying?this.editOrder.list[this.editOrder.list.length-1]:this.editOrder.list[this.editOrder.list.length-2]}},{key:"setMostRecentSet",value:function(type){var result=[type];this.editOrder.list.forEach(function(i){i!==type&&result.push(i)}),this.editOrder.list=result,this.editOrder.justSwitched=!1,this.editOrder.justSwitched_2=!1}},{key:"getState",value:function(){var state=_Object$assign(this.editOrder,{endIconVisible:this.getEndIconVisible(),startIconVisible:this.getStartIconVisible(),durationIconVisible:this.getDurationIconVisible()});return state}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_EditOrder}(EventEmitter),_export("default",new Store_EditOrder)}}}),System.register("dvt/stores/Store_Layout",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/AppDispatcher","github:jspm/nodelibs-events@0.1.1"],function(_export){var _get,_inherits,_createClass,_classCallCheck,AppDispatcher,EventEmitter,Store_Layout;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]}],execute:function(){"use strict";Store_Layout=function(_EventEmitter){function Store_Layout(){_classCallCheck(this,Store_Layout),_get(Object.getPrototypeOf(Store_Layout.prototype),"constructor",this).call(this);var initialSidebarPaddedWidth=300;this.headerHeight=74,this.axisHeight=31,this._layout={window_width:0,window_height:0,header_dimensions:{top:0,left:initialSidebarPaddedWidth,width:0,height:this.headerHeight},inDrag:!1,dragLocation:[-1,-1],dragClass:null,movingElementKey:null,movingElementType:null,insertBefore:null,insertAtColumnEnd_colNum:null,insertAtGroupEnd_key:null,dragOverPage:null,dragOverNewPage:!1,lineSettingsVisible:!1,globalLineSettingsVisible:!1,inFisheyeMode:!1,fisheyeFrozenLine:null,verticalMagnify:0,refreshOverlayData:null,refreshHeaderTexture:null,horizon_dimensions:{top:this.headerHeight,left:initialSidebarPaddedWidth,width:0,innerWidth:0,height:0},sidebarPaddedWidth:initialSidebarPaddedWidth,pageSelectHeight:200,sidebarHidden:!1,seriesListVisible:!0,pagesListVisible:!0,sidebarVisibleTab:"labels",noSidebarMargin:12,pagesTabVisible:!0,sidebar_dimensions:{top:this.headerHeight+this.axisHeight,left:12,width:0,height:0},showGlobalSettings:!1,showLicenseInformation:!1,showConfirmDelete:!1,confirmDeletePageName:null,settingsVisibleTab:"proxy",timeframeHidden:!1,summaryLoadError:!1,ruleEnabled:!0,hoverDetailEnabled:!1,movementEnabled:!0},this.scrollBarWidth=12,this.sideBarPaddingLeft=12,this.sideBarPaddingRight=28,this.resizeHandleWidth=15,this._layout.sidebar_dimensions.width=this._layout.sidebarPaddedWidth-this.sideBarPaddingLeft-this.sideBarPaddingRight,this.dispatchToken=this.registerDispatcherCallback()}return _inherits(Store_Layout,_EventEmitter),_createClass(Store_Layout,[{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(payload.action){case"layout:changeVerticalMagnify":this._layout.verticalMagnify+=payload.data,this._layout.verticalMagnify<-5&&(this._layout.verticalMagnify=-5),this._layout.verticalMagnify>5&&(this._layout.verticalMagnify=5);break;case"layout:setFisheyeFrozenLine":this._layout.fisheyeFrozenLine=payload.data;break;case"layout:setInFisheyeMode":this._layout.inFisheyeMode=payload.data;break;case"layout:setLineSettingsVisibility":this._layout.lineSettingsVisible=payload.data;break;case"layout:setGlobalLineSettingsVisibility":this._layout.globalLineSettingsVisible=payload.data;break;case"layout:toggleLeft":this.toggleLeft();break;case"layout:toggleGlobalSettings":this.toggleGlobalSettings();break;case"layout:toggleLicenseInformation":this.toggleLicenseInformation();break;case"layout:setInDrag":this._layout.inDrag=payload.data.inDrag,this._layout.dragClass=payload.data.dragClass;break;case"layout:updateDragLocation":this._layout.dragLocation=payload.data;break;case"layout:setSidebarPaddedWidth":this._layout.sidebarPaddedWidth=payload.data,this.sidebarSizeChangeUpdate();break;case"layout:setPageSelectHeight":this._layout.pageSelectHeight=payload.data;break;case"layout:hideSidebar":this._layout.sidebarHidden=!0,this.sidebarSizeChangeUpdate();break;case"layout:showSidebar":this._layout.sidebarHidden=!1,this.sidebarSizeChangeUpdate();break;case"layout:togglePagesListVisible":this._layout.pagesListVisible=!this._layout.pagesListVisible;break;case"layout:toggleSeriesListVisible":this._layout.seriesListVisible=!this._layout.seriesListVisible;break;case"layout:setVisibleSettingsTab":this._layout.settingsVisibleTab=payload.data;break;case"layout:setVisibleSidebarTab":this._layout.sidebarVisibleTab=payload.data;break;case"layout:toggleConfirmDelete":this._layout.confirmDeletePageName=payload.data,this._layout.showConfirmDelete=!this._layout.showConfirmDelete;break;case"layout:clearMovingElement":this._layout.movingElementKey=null,this._layout.movingElementType=null;break;case"layout:setMovingElementKeyAndType":this._layout.movingElementKey=payload.data.key,this._layout.movingElementType=payload.data.elementType;break;case"layout:toggleTimeframeVisible":this._layout.timeframeHidden=!this._layout.timeframeHidden,this._layout.timeframeHidden?(this._layout.horizon_dimensions.top=0,this._layout.header_dimensions.height=0):(this._layout.horizon_dimensions.top=this.headerHeight,this._layout.header_dimensions.height=this.headerHeight),this.windowSizeChangeUpdate();break;case"layout:setPagesTabVisibility":this._layout.pagesTabVisible=payload.data;break;case"layout:summaryLoadError":this._layout.summaryLoadError=payload.data;break;case"layout:refreshOverlayData":this._layout.refreshOverlayData=payload.data;break;case"layout:refreshOverlayDataDone":this._layout.refreshOverlayData=null;break;case"layout:refreshHeaderTexture":this._layout.refreshHeaderTexture=payload.data;break;case"layout:refreshHeaderTextureDone":this._layout.refreshHeaderTexture=null;break;case"layout:setWindowSize":this.setWindowSize(payload.data);break;case"layout:setInsertBefore":this._layout.insertBefore=payload.data;break;case"layout:setInsertAtColumnEnd":this._layout.insertAtColumnEnd_colNum=payload.data;break;case"layout:setInsertAtGroupEnd":this._layout.insertAtGroupEnd_key=payload.data;break;case"layout:setDragOverPage":this._layout.dragOverPage=payload.data;break;case"layout:setDragOverNewPage":this._layout.dragOverNewPage=payload.data;break;case"layout:toggleRule":this._layout.ruleEnabled=!this._layout.ruleEnabled;break;case"layout:toggleHoverDetail":this._layout.hoverDetailEnabled=!this._layout.hoverDetailEnabled;break;case"layout:toggleMovement":this._layout.movementEnabled=!this._layout.movementEnabled;break;default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"setWindowSize",value:function(data){this._layout.window_width=data[0],this._layout.window_height=data[1],this.windowSizeChangeUpdate()}},{key:"sidebarSizeChangeUpdate",value:function(){this._layout.sidebarHidden?(this._layout.sidebar_dimensions.width=0,this._layout.horizon_dimensions.left=this.sideBarPaddingLeft):(this._layout.sidebar_dimensions.width=this._layout.sidebarPaddedWidth-this.scrollBarWidth-this.sideBarPaddingRight,this._layout.horizon_dimensions.left=this._layout.sidebarPaddedWidth),this.windowSizeChangeUpdate()}},{key:"windowSizeChangeUpdate",value:function(){this._layout.sidebar_dimensions.height=this._layout.window_height-this._layout.sidebar_dimensions.top-6,this._layout.horizon_dimensions.width=this._layout.window_width-(this._layout.sidebarHidden?this.sideBarPaddingLeft:this._layout.sidebarPaddedWidth)-6,this._layout.horizon_dimensions.innerWidth=this._layout.horizon_dimensions.width-this.scrollBarWidth,this._layout.horizon_dimensions.height=this._layout.window_height-this._layout.horizon_dimensions.top-6-this.axisHeight,this._layout.header_dimensions.width=this._layout.horizon_dimensions.width}},{key:"getHorizonDimensions",value:function(){return this._layout.horizon_dimensions}},{key:"getSidebarDimensions",value:function(){return this._layout.sidebar_dimensions}},{key:"toggleLicenseInformation",value:function(){this._layout.showLicenseInformation=!this._layout.showLicenseInformation}},{key:"toggleGlobalSettings",value:function(){this._layout.showGlobalSettings=!this._layout.showGlobalSettings}},{key:"toggleLeft",value:function(){}},{key:"getLayout",value:function(){return this._layout}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_Layout}(EventEmitter),_export("default",new Store_Layout)}}}),System.register("dvt/IdBroker",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,IdBroker;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";IdBroker=function(){function IdBroker(){_classCallCheck(this,IdBroker),this.lastId=0}return _createClass(IdBroker,[{key:"getUniqueId",value:function(){return this.lastId=this.lastId+1,this.lastId}}]),IdBroker}(),_export("default",new IdBroker)}}}),System.register("dvt/utils/FindIndexOf",[],function(_export){"use strict";function FindIndexOf(collection,filter){for(var i=0;i<collection.length;i++)if(filter(collection[i],i,collection))return i;return-1}return _export("default",FindIndexOf),{setters:[],execute:function(){}}}),System.register("dvt/utils/Network",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,Network;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";Network=function(){function Network(){_classCallCheck(this,Network)}return _createClass(Network,null,[{key:"getJson",value:function(path,timeout,callback){function loadListener(){var json;try{json=JSON.parse(this.responseText)}catch(e){return void callback(null,"Invalid JSON")}callback(json,null)}function stateChangeListener(){4===this.readyState&&200!==this.status&&callback(null,"Status: "+this.status)}var oReq=new XMLHttpRequest;oReq.timeout=timeout,oReq.onload=loadListener,oReq.onreadystatechange=stateChangeListener,oReq.open("GET",path,!0),oReq.send()}},{key:"postMessage",value:function(path,data,timeout,callback){function loadListener(){callback(this.responseText)}function stateChangeListener(){4===this.readyState&&200!==this.status&&callback(null)}var oReq=new XMLHttpRequest;oReq.timeout=timeout,oReq.onload=loadListener,oReq.onreadystatechange=stateChangeListener,oReq.open("POST",path),oReq.send(JSON.stringify(data))}}]),Network}(),_export("default",Network)}}}),System.register("dvt/utils/Series",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,Series;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";Series=function(){function Series(identifiedBy_string,query){_classCallCheck(this,Series),this.identifiedBy_string=identifiedBy_string,this.query=query,this.checkedIfMonotonic=!1}return _createClass(Series,[{key:"value_at_ms",value:function(time_ms){return this.query.value_at_ms(this.identifiedBy_string,time_ms)}},{key:"number_of_points",value:function(){return this.query.number_of_points(this.identifiedBy_string)}},{key:"data",value:function(){return this.query.data(this.identifiedBy_string)}}],[{key:"detectMonotonicIncreasing",value:function(series_data){var inc_count=0;if(series_data.length<20)return!1;for(var prev=null,i=0;i<series_data.length-1;++i)if(!isNaN(series_data[i]))if(null!=prev){if(series_data[i]<prev)return!1;prev=series_data[i],inc_count+=1}else prev=series_data[i];return inc_count>10?!0:!1}}]),Series}(),_export("default",Series)}}}),System.register("dvt/adapters/AdapterUtils",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,AdapterUtils;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";AdapterUtils=function(){function AdapterUtils(){_classCallCheck(this,AdapterUtils)}return _createClass(AdapterUtils,null,[{key:"quantizeRequest",value:function(start,stop,step,precision){return{start:Math.floor(start.getTime()/precision)*precision,stop:Math.ceil(stop.getTime()/precision)*precision,step:precision>step?precision:Math.floor(step/precision)*precision}}},{key:"resampleTimeValuePairs",value:function(timeValues,start,stop,step){var result=[],currentResultTime=start.getTime();if(0==timeValues.length){for(;currentResultTime<=stop.getTime();)result.push(NaN),currentResultTime+=step;return result}for(;currentResultTime<timeValues[0][0]&&currentResultTime<=stop.getTime();)result.push(NaN),currentResultTime+=step;for(var currentSampleIndex=0;currentResultTime<=stop.getTime();){for(;currentSampleIndex<timeValues.length-1&&timeValues[currentSampleIndex+1][0]<currentResultTime;)currentSampleIndex+=1;var val=parseFloat(timeValues[currentSampleIndex][1]);result.push(val),currentResultTime+=step}return result}}]),AdapterUtils}(),_export("default",AdapterUtils)}}}),System.register("dvt/utils/LabelSpec",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/get-own-property-names","npm:babel-runtime@5.8.20/core-js/object/create"],function(_export){var _createClass,_classCallCheck,_Object$getOwnPropertyNames,_Object$create,LabelSpec;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){
_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames){_Object$getOwnPropertyNames=_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames["default"]},function(_npmBabelRuntime5820CoreJsObjectCreate){_Object$create=_npmBabelRuntime5820CoreJsObjectCreate["default"]}],execute:function(){"use strict";LabelSpec=function(){function LabelSpec(){_classCallCheck(this,LabelSpec)}return _createClass(LabelSpec,null,[{key:"escapeString",value:function(s){return null==s?"":s.replace(/([\\,;:])/g,"\\$1")}},{key:"unescapeString",value:function(s){return null==s?"":s.replace(/\\([,:;\\])/g,"$1")}},{key:"serialize",value:function(spec){var result="";if(null==spec)return result;var keys=_Object$getOwnPropertyNames(spec);return 0==keys.length?"":(keys.sort(),keys.forEach(function(k){result+=LabelSpec.escapeString(k)+":"+LabelSpec.escapeString(spec[k])+","}),result=result.substring(0,result.length-1))}},{key:"parse",value:function(identifiedBy){if(""==identifiedBy)return{};for(var reverse=function(s){for(var i=s.length-1,o="";i>=0;o+=s[i--]);return o},ss=reverse(identifiedBy),result=_Object$create(null),parts=ss.split(/,(?!\\[^\\])/),i=0;i<parts.length;++i){var tokens=parts[i].split(/:(?!\\[^\\])/),key=LabelSpec.unescapeString(reverse(tokens[1])),val=LabelSpec.unescapeString(reverse(tokens[0]));result[key]=val}return result}}]),LabelSpec}(),_export("default",LabelSpec)}}}),System.register("dvt/utils/Query",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/get-own-property-names","dvt/stores/Store_Timeframe"],function(_export){var _createClass,_classCallCheck,_Object$getOwnPropertyNames,Store_Timeframe,Query;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames){_Object$getOwnPropertyNames=_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]}],execute:function(){"use strict";Query=function(){function Query(querySpec,requestFn){_classCallCheck(this,Query),this.querySpec=querySpec,this.requestFn=requestFn,this._buffer_step_ms=NaN,this.buffer_padding_steps=768,this.context_size=1440,this.series_overlap_steps=8,this._buffer_start_steps=-(1/0),this.buffers={},this.fetching=!1,this._maxGetNumber=8e3,this._expectedSeries=[]}return _createClass(Query,[{key:"addExpectedSeries",value:function(identifiedBy_string){for(var i=0;i<this._expectedSeries.length;++i)if(this._expectedSeries[i]==identifiedBy_string)return;this._expectedSeries.push(identifiedBy_string)}},{key:"removeExpectedSeries",value:function(identifiedBy_string){for(var i=0;i<this._expectedSeries.length;++i)if(this._expectedSeries[i]==identifiedBy_string)return void this._expectedSeries.splice(i,1)}},{key:"empty",value:function(){return 0==this._expectedSeries.length}},{key:"bufferLength",value:function(){var kvps=_Object$getOwnPropertyNames(this.buffers);return 0==kvps.length?0:this.buffers[kvps[0]].length}},{key:"dateIsLongWayOutOfRange",value:function(date_ms){if(0==this.bufferLength())return!1;var startDate_ms=this._buffer_start_steps*this._buffer_step_ms,endDate_ms=(this._buffer_start_steps+this.bufferLength())*this._buffer_step_ms;return(startDate_ms-date_ms)/this._buffer_step_ms>this._maxGetNumber?!0:(date_ms-endDate_ms)/this._buffer_step_ms>this._maxGetNumber?!0:!1}},{key:"clearBuffers",value:function(){this._buffer_start_steps=-(1/0),this.buffers={}}},{key:"value_at_ms",value:function(seriesSpec,time_ms){var x=Math.round(time_ms/this._buffer_step_ms)-this._buffer_start_steps;if(!this.buffers[seriesSpec])return NaN;var v=this.buffers[seriesSpec][x];return v||0===v?v:NaN}},{key:"number_of_points",value:function(seriesSpec){return this.buffers[seriesSpec]?this.buffers[seriesSpec].length:0}},{key:"data",value:function(seriesSpec){return this.buffers[seriesSpec]}},{key:"set_buffer_step_ms",value:function(val){this._buffer_step_ms!=val&&(this._buffer_step_ms=val,this.clearBuffers())}},{key:"alignDataAndBufferKeys",value:function(data){}},{key:"prepare",value:function(endDate_ms,gotDataCallback,errorCallback,noopCallback,resolution_ms,doNotChangeResolution){var _this=this,retrieveStarted=!1,addToRegetList=!1;if(this.fetching)return addToRegetList=!0,retrieveStarted=!1,[addToRegetList,retrieveStarted];if(doNotChangeResolution&&this._buffer_step_ms!=resolution_ms)return addToRegetList=!1,retrieveStarted=!1,[addToRegetList,retrieveStarted];this.fetching=!0,this.set_buffer_step_ms(resolution_ms);var num_required_start,num_required_end,getStart_ms,getStop_ms,reference_dt=endDate_ms-this.context_size*this._buffer_step_ms,reference_ms=Math.round(reference_dt/this._buffer_step_ms)*this._buffer_step_ms,serverNow_ms=Math.round((Date.now()-Store_Timeframe.getTimeframe().serverLag_ms)/this._buffer_step_ms)*this._buffer_step_ms;if(isFinite(this._buffer_start_steps)){var current_min_dt_ticks=this._buffer_start_steps*this._buffer_step_ms,desired_min_dt_ticks=reference_ms-this.buffer_padding_steps*this._buffer_step_ms;desired_min_dt_ticks>serverNow_ms&&(desired_min_dt_ticks=serverNow_ms),num_required_start=Math.ceil(Math.max(0,Math.round((current_min_dt_ticks-desired_min_dt_ticks)/this._buffer_step_ms)));var current_max_dt_ticks=this._buffer_start_steps*this._buffer_step_ms+this.bufferLength()*this._buffer_step_ms,desired_max_dt_ticks=reference_ms+(this.buffer_padding_steps+this.context_size)*this._buffer_step_ms;if(desired_max_dt_ticks>serverNow_ms&&(desired_max_dt_ticks=serverNow_ms),num_required_end=Math.ceil(Math.max(0,Math.round((desired_max_dt_ticks-current_max_dt_ticks)/this._buffer_step_ms))),num_required_end>1e4||num_required_start>1e4)return console.log("ERROR: number of requested data points is greater than expected, ignoring request. ("+num_required_end+","+num_required_start+",10000)"),addToRegetList=!1,retrieveStarted=!1,[addToRegetList,retrieveStarted];if(num_required_end>num_required_start){if(0==num_required_end)return this.fetching=!1,addToRegetList=!1,retrieveStarted=!1,[addToRegetList,retrieveStarted];getStart_ms=(this._buffer_start_steps+this.bufferLength())*this._buffer_step_ms,getStop_ms=(this._buffer_start_steps+this.bufferLength()+num_required_end)*this._buffer_step_ms,getStart_ms>serverNow_ms-this._buffer_step_ms*this.series_overlap_steps&&(getStart_ms=serverNow_ms-this._buffer_step_ms*this.series_overlap_steps)}else{if(0==num_required_start)return this.fetching=!1,addToRegetList=!1,retrieveStarted=!1,[addToRegetList,retrieveStarted];getStart_ms=(this._buffer_start_steps-num_required_start)*this._buffer_step_ms,getStop_ms=this._buffer_start_steps*this._buffer_step_ms}}else if(getStart_ms=reference_ms-(this.buffer_padding_steps+1)*this._buffer_step_ms,getStop_ms=reference_ms+(this.context_size+this.buffer_padding_steps)*this._buffer_step_ms,getStop_ms>serverNow_ms&&(getStop_ms=serverNow_ms),getStart_ms>getStop_ms)return console.log("WARNING: attempting to initialize series entirely with future data."),this.fetching=!1,addToRegetList=!1,retrieveStarted=!1,[addToRegetList,retrieveStarted];var requested_resolution=this._buffer_step_ms,requested_endDate=endDate_ms;return this.requestFn(this.querySpec,new Date(getStart_ms),new Date(getStop_ms),requested_resolution,function(data){if(_this.fetching=!1,_this.empty()&&null==_this.querySpec.data.manual)return void noopCallback(_this.querySpec);var kvps=_Object$getOwnPropertyNames(data);if(num_required_start||num_required_end){if(num_required_start>0){if(_this._buffer_start_steps==-(1/0))return console.log("INFO: retrived data is out of range and will be discarded."),void errorCallback(_this.querySpec,null,null);_this.alignDataAndBufferKeys(data);for(var i=0;i<kvps.length;++i)_this.buffers[kvps[i]]=data[kvps[i]].concat(_this.buffers[kvps[i]]);_this._buffer_start_steps=_this._buffer_start_steps-num_required_start}else if(num_required_end>0){if(_this._buffer_start_steps==-(1/0))return console.log("INFO: retrived data is out of range and will be discarded."),void errorCallback(_this.querySpec,null,null);_this.alignDataAndBufferKeys(data);for(var getStartIndex=Math.round(getStart_ms/requested_resolution)-_this._buffer_start_steps,j=0;j<kvps.length;++j)for(var i=0;i<data[kvps[j]].length;++i)_this.buffers[kvps[j]]?_this.buffers[kvps[j]][i+getStartIndex]=data[kvps[j]][i]:(console.log("not setting data for: "+kvps[j]+", query: "+_this.querySpec.serialized+", buffers: "),console.log(_this.buffers))}}else _this.buffers=data,_this._buffer_start_steps=getStart_ms/requested_resolution;gotDataCallback(_this.querySpec,getStart_ms,getStop_ms,_this._buffer_start_steps*requested_resolution,_this.buffers,requested_resolution)},function(){if(_this.fetching=!1,_this.empty())return void noopCallback(querySpec);var ks=_Object$getOwnPropertyNames(_this.buffers);ks=ks.concat(_this._expectedSeries);for(var i=0;i<ks.length;++i){for(var data=[],numNew=Math.floor((getStop_ms-getStart_ms)/requested_resolution)+1,j=0;numNew>j;++j)data.push(NaN);if(num_required_start||num_required_end){if(num_required_start>0){if(_this._buffer_start_steps==-(1/0))return console.log("INFO: retrived data (all unavailable) is out of range and will be discarded."),void errorCallback(_this.querySpec,null,null);_this.buffers[ks[i]]=data.concat(_this.buffers[ks[i]]),_this._buffer_start_steps=_this._buffer_start_steps-num_required_start}else if(num_required_end>0){if(_this._buffer_start_steps==-(1/0))return console.log("INFO: retrived data (all unavailable) is out of range and will be discarded."),void errorCallback(_this.querySpec,null,null);for(var getStartIndex=Math.round(getStart_ms/requested_resolution)-_this._buffer_start_steps,j=0;j<data.length;++j)_this.buffers[ks[i]][j+getStartIndex]=data[j]}}else _this.buffers[ks[i]]=data,_this._buffer_start_steps=getStart_ms/requested_resolution}gotDataCallback(_this.querySpec,getStart_ms,getStop_ms,_this._buffer_start_steps*requested_resolution,_this.buffers,requested_resolution)},function(error){_this.fetching=!1,console.log("ERROR (network): "+error),errorCallback(_this.querySpec,requested_resolution,requested_endDate)}),addToRegetList=!1,retrieveStarted=!0,[addToRegetList,retrieveStarted]}}]),Query}(),_export("default",Query)}}}),System.register("dvt/utils/CookieUtils",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,CookieUtils;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";CookieUtils=function(){function CookieUtils(){_classCallCheck(this,CookieUtils)}return _createClass(CookieUtils,null,[{key:"createCookie",value:function(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toGMTString()}document.cookie=escape(name)+"="+escape(value)+expires+"; path=/"}},{key:"readCookie",value:function(name){for(var nameEQ=escape(name)+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return unescape(c.substring(nameEQ.length,c.length))}return null}},{key:"eraseCookie",value:function(name){CookieUtils.createCookie(name,"",-1)}}]),CookieUtils}(),_export("default",CookieUtils)}}}),System.register("dvt/utils/WebStorageUtils",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,WebStorageUtils;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";WebStorageUtils=function(){function WebStorageUtils(){_classCallCheck(this,WebStorageUtils)}return _createClass(WebStorageUtils,null,[{key:"testStorageAvailable",value:function(type){try{var storage=window[type],x="__storage_test__";storage.setItem(x,x),storage.removeItem(x),WebStorageUtils.StorageAvailable=!0}catch(e){WebStorageUtils.StorageAvailable=!1,console.log("Web Storage is not available - custom pages will be unavailable.")}}},{key:"setValue",value:function(key,value){WebStorageUtils.StorageAvailable&&localStorage.setItem(key,value)}},{key:"getValue",value:function(key){return WebStorageUtils.StorageAvailable?localStorage.getItem(key):null}},{key:"deleteValue",value:function(key){return WebStorageUtils.StorageAvailable?void localStorage.removeItem(key):null}}]),WebStorageUtils}(),_export("default",WebStorageUtils)}}}),System.register("dvt/utils/QuerySpec",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/utils/LabelSpec"],function(_export){var _createClass,_classCallCheck,LabelSpec,QuerySpec;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtUtilsLabelSpec){LabelSpec=_dvtUtilsLabelSpec["default"]}],execute:function(){"use strict";QuerySpec=function(){function QuerySpec(manual,labelValues,func,funcParam,aggregationFunc){_classCallCheck(this,QuerySpec),this.data={aggregationFunc:aggregationFunc,manual:manual,labelValues:labelValues,func:func,funcParam:funcParam},this.serialized=this.serialize()}return _createClass(QuerySpec,[{key:"mutate",value:function(key,val){var result=new QuerySpec(this.data.manual,this.data.labelValues,this.data.func,this.data.funcParam,this.data.aggregationFunc);return result.data[key]=val,result.serialized=result.serialize(),result}},{key:"isSimple",value:function(){return null==this.data.func&&null==this.data.manual&&null==this.data.aggregationFunc}},{key:"isManual",value:function(){return null!=this.data.manual}},{key:"isAggregation",value:function(){return null!=this.data.aggregationFunc}},{key:"serialize",value:function(){var result="";return result+=LabelSpec.escapeString(this.data.manual)+";",result+=LabelSpec.serialize(this.data.labelValues)+";",result+=LabelSpec.escapeString(this.data.aggregationFunc)+";",result+=LabelSpec.escapeString(this.data.func)+";",result+=LabelSpec.escapeString(this.data.funcParam)}}],[{key:"parse",value:function(s){var reverse=function(s){for(var i=s.length-1,o="";i>=0;o+=s[i--]);return o},ss=reverse(s),parts=ss.split(/;(?!\\[^\\])/),funcParam=reverse(parts[0]);""===funcParam&&(funcParam=null);var func=reverse(parts[1]);""===func&&(func=null);var aggregationFunc=reverse(parts[2]);""===aggregationFunc&&(aggregationFunc=null);var labelValues=LabelSpec.parse(reverse(parts[3])),manual=reverse(parts[4]);return""===manual&&(manual=null),new QuerySpec(manual,labelValues,func,funcParam,aggregationFunc)}}]),QuerySpec}(),_export("default",QuerySpec)}}}),System.register("dvt/utils/GeneralUtils",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,GeneralUtils;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";GeneralUtils=function(){function GeneralUtils(){_classCallCheck(this,GeneralUtils)}return _createClass(GeneralUtils,null,[{key:"ArrayContains",value:function(a,v){for(var i=0;i<a.length;++i)if(a[i]===v)return!0;return!1}}]),GeneralUtils}(),_export("default",GeneralUtils)}}}),System.register("dvt/utils/TimeframeUtils",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,TimeframeUtils;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";TimeframeUtils=function(){function TimeframeUtils(){_classCallCheck(this,TimeframeUtils)}return _createClass(TimeframeUtils,null,[{key:"calculateStartDate_ms",value:function(timeframe,windowWidth){return"Window Size"===timeframe.durationType?timeframe.endDate_ms-timeframe.duration_ms:timeframe.endDate_ms-timeframe.duration_ms*windowWidth}},{key:"getName",value:function(timeframe,windowWidth){var duration=timeframe.endDate_ms-TimeframeUtils.calculateStartDate_ms(timeframe,windowWidth);return duration+"ms"}},{key:"validateDuration",value:function(s){if(s.length<2)return!1;var units=s.substring(s.length-1,s.length),num=s.substring(0,s.length-1);return"s"!=units&&"m"!=units&&"h"!=units&&"d"!=units?!1:isNaN(num)?!1:num.indexOf(".")>-1?!1:!0}}]),TimeframeUtils}(),_export("default",TimeframeUtils)}}}),System.register("dvt/stores/Store_Interactions",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/utils/Network"],function(_export){var _createClass,_classCallCheck,Network,Store_Interactions;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtUtilsNetwork){Network=_dvtUtilsNetwork["default"]}],execute:function(){"use strict";Store_Interactions=function(){function Store_Interactions(){_classCallCheck(this,Store_Interactions),this.counts=[];var listVersion=0,max_label=57;this.labels={labelsFilterChanged:1,labelsFilterChanged_includeAggregateEnabled:2,labelsFilterChanged_counterToRateEnabled:3,pageChanged:4,enteredFisheyeMode:5,magnifyChanged:6,time_skip:7,time_playPause:8,timeframe_P1s:9,timeframe_P5s:10,timeframe_P30s:11,timeframe_P1m:12,timeframe_W1h:13,timeframe_W6h:14,timeframe_W12h:15,timeframe_W24h:16,timeframe_W7d:17,timeframe_W28d:18,timeframe_W6M:19,timeframe_today:20,timeframe_thisWeek:21,hideSidebar:22,hideHeader:23,startTimeframeChanged:24,endTimeframeChanged:25,timeframePlusMinus:26,timeframeDuration:27,skipChanged:28,globalNegPalette:29,globalPosPalette:30,globalLevels:31,globalHeight:32,globalReference:33,globalFixedValue:34,globalRange:35,globalFormat:36,lineNegPalette:37,linePosPalette:38,lineLevels:39,lineReference:40,lineFixedValue:41,lineRange:42,lineFormat:43,lineMove:44,lineResize:45,lineRemove:46,timeframe_yesterday:47,timeframe_thisMonth:48,timeframe_thisYear:49,timeframe_dayBeforeYesterday:50,timeframe_thisDayLastWeek:51,lineOverlayStyle:52,globalOverlayStyle:53,overlayText:54,globalOverlayTextType:55,lineOverlayTextType:56,groupHeaderText:max_label};for(var i=0;max_label>=i;++i)this.counts.push(0);this.counts[0]=listVersion}return _createClass(Store_Interactions,[{key:"increment",value:function(labelName){var lId=this.labels[labelName];this.counts[lId]+=1}},{key:"ping",value:function(){Network.postMessage("http://ping.datavstime.com",this.counts,5e3,function(result){"OK"!=result&&console.log("interactions ping failed: "+result)})}},{key:"start",value:function(){this.ping();var pingInterval_ms=3e4;setInterval(function(){this.ping()}.bind(this),pingInterval_ms)}}]),Store_Interactions}(),_export("default",new Store_Interactions)}}}),System.register("dvt/stores/Store_SidebarLayout",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","github:jspm/nodelibs-events@0.1.1","dvt/AppDispatcher","dvt/stores/Store_Layout"],function(_export){var _get,_inherits,_createClass,_classCallCheck,EventEmitter,AppDispatcher,Store_Layout,Store_SidebarLayout;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_dvtStoresStore_Layout){Store_Layout=_dvtStoresStore_Layout["default"]}],execute:function(){"use strict";Store_SidebarLayout=function(_EventEmitter){function Store_SidebarLayout(){_classCallCheck(this,Store_SidebarLayout),_get(Object.getPrototypeOf(Store_SidebarLayout.prototype),"constructor",this).call(this),this.panelSpecs=[{name:"pages",relativeHeight:30,fixedHeight:27,currentHeightType:"relative"},{name:"labels",relativeHeight:60,fixedHeight:27,currentHeightType:"relative"},{name:"query",relativeHeight:20,fixedHeight:27,currentHeightType:"relative"}],this.dispatchToken=this.registerDispatcherCallback()}return _inherits(Store_SidebarLayout,_EventEmitter),_createClass(Store_SidebarLayout,[{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(payload.action){case"layoutSidebar:changePanelHeight":this.changePanelHeight(payload.data.name,payload.data.dy);break;case"layoutSidebar:togglePanelType":this.togglePanelType(payload.data);break;case"layoutSidebar:showPanelType":this.showPanelType(payload.data);break;case"layoutSidebar:showPanelOnly":this.showPanelOnly(payload.data);break;default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"showPanelType",value:function(name){for(var i=0;i<this.panelSpecs.length;++i)this.panelSpecs[i].name===name&&(this.panelSpecs[i].currentHeightType="relative")}},{key:"showPanelOnly",value:function(name){for(var isCurrentlyOnlyExpanded=!0,i=0;i<this.panelSpecs.length;++i)if(this.panelSpecs[i].name===name){if("fixed"===this.panelSpecs[i].currentHeightType){isCurrentlyOnlyExpanded=!1;break}}else if("relative"===this.panelSpecs[i].currentHeightType){isCurrentlyOnlyExpanded=!1;break}if(isCurrentlyOnlyExpanded)for(var i=0;i<this.panelSpecs.length;++i)this.panelSpecs[i].currentHeightType="relative";else for(var i=0;i<this.panelSpecs.length;++i)this.panelSpecs[i].name===name?this.panelSpecs[i].currentHeightType="relative":this.panelSpecs[i].currentHeightType="fixed"}},{key:"togglePanelType",value:function(name){var panel=this.panelSpecs.filter(function(a){return a.name===name})[0];"relative"===panel.currentHeightType?panel.currentHeightType="fixed":panel.currentHeightType="relative"}},{key:"panelPreCalcs",value:function(dimensions){for(var fixedHeight=0,relSum=0,i=0;i<this.panelSpecs.length;++i)"fixed"===this.panelSpecs[i].currentHeightType&&(fixedHeight+=this.panelSpecs[i].fixedHeight),"relative"===this.panelSpecs[i].currentHeightType&&(relSum+=this.panelSpecs[i].relativeHeight);var heightAvailableToRel=dimensions.height-fixedHeight;return[relSum,heightAvailableToRel]}},{key:"calculatePanelDimensions",value:function(){var dimensions=Store_Layout.getSidebarDimensions();dimensions||(dimensions=[1,1]);for(var pcs=this.panelPreCalcs(dimensions),relSum=pcs[0],heightAvailableToRel=pcs[1],panelDims=[],currentHeight=dimensions.top,i=0;i<this.panelSpecs.length;++i)if("fixed"==this.panelSpecs[i].currentHeightType){var panelDim={name:this.panelSpecs[i].name,top:Math.round(currentHeight),left:Math.round(dimensions.left),width:Math.round(dimensions.width),height:Math.round(this.panelSpecs[i].fixedHeight)};panelDims.push(panelDim),currentHeight+=this.panelSpecs[i].fixedHeight}else if("relative"==this.panelSpecs[i].currentHeightType){var hgt=this.panelSpecs[i].relativeHeight/relSum*heightAvailableToRel,panelDim={name:this.panelSpecs[i].name,top:Math.round(currentHeight),left:Math.round(dimensions.left),width:Math.round(dimensions.width),height:Math.round(hgt)};panelDims.push(panelDim),currentHeight+=hgt}return panelDims}},{key:"getDimensions",value:function(name){var panelDims=this.calculatePanelDimensions();return panelDims.filter(function(a){return a.name===name})[0]}},{key:"getHeightType",value:function(name){var panel=this.panelSpecs.filter(function(a){return a.name==name})[0];return panel.currentHeightType}},{key:"changePanelHeight",value:function(panelName,dy){var panelsOfInterest_=this.panelSpecs.filter(function(a){return a.name===panelName});if(1==panelsOfInterest_.length){var panel_upper=panelsOfInterest_[0];if("fixed"!==panel_upper.currentHeightType){for(var panel_lower=null,i=0;i<this.panelSpecs.length;++i)if(this.panelSpecs[i].name==panelName){if(i==this.panelSpecs.length-1)break;if("fixed"===this.panelSpecs[i+1].currentHeightType)break;panel_lower=this.panelSpecs[i+1];break}if(null!=panel_lower){var pcs=this.panelPreCalcs(Store_Layout.getSidebarDimensions()),rel_tot=pcs[0],phys_tot=pcs[1],phys_upper=panel_upper.relativeHeight/rel_tot*phys_tot,phys_lower=panel_lower.relativeHeight/rel_tot*phys_tot;phys_upper+=dy,phys_lower-=dy,dy>0&&59>phys_lower||0>dy&&59>phys_upper||(panel_upper.relativeHeight=phys_upper/phys_tot*rel_tot,panel_lower.relativeHeight=phys_lower/phys_tot*rel_tot)}}}}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_SidebarLayout}(EventEmitter),_export("default",new Store_SidebarLayout)}}}),System.register("dvt/DragHandler",["dvt/AppActions"],function(_export){"use strict";function DragHandler(element,dragShouldStart,alternateMouseDownCallback,dragStartedCallback,dragCallback,dragFinishedCallback,dragClassDelegate){function doMouseUp(evt){dragging&&(document.removeEventListener("mousemove",doMouseMove,!1),document.removeEventListener("mouseup",doMouseUp,!1),dragging=!1,dragFinishedCallback(evt),AppActions.setInDrag(!1))}function doMouseDown(evt){return dragShouldStart&&!dragShouldStart()?void alternateMouseDownCallback(evt):(document.addEventListener("mousemove",doMouseMove,!1),document.addEventListener("mouseup",doMouseUp,!1),dragging=!0,prevX=evt.clientX,prevY=evt.clientY,dragStartedCallback&&dragStartedCallback(evt),void AppActions.setInDrag(!0,dragClassDelegate()))}function doMouseMove(evt){var dx=evt.clientX-prevX,dy=evt.clientY-prevY;prevX=evt.clientX,prevY=evt.clientY,dragCallback(dx,dy,evt)}var prevX,prevY,dragging=!1;element.addEventListener("mousedown",doMouseDown,!1)}var AppActions;return _export("default",DragHandler),{setters:[function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){}}}),System.register("dvt/components/TimeframeSummary.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions","dvt/utils/TimeframeUtils","dvt/stores/Store_HorizonLayout"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,TimeframeUtils,Store_HorizonLayout,TimeframeSummary;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtUtilsTimeframeUtils){TimeframeUtils=_dvtUtilsTimeframeUtils["default"]},function(_dvtStoresStore_HorizonLayout){Store_HorizonLayout=_dvtStoresStore_HorizonLayout["default"]}],execute:function(){"use strict";TimeframeSummary=function(_React$Component){function TimeframeSummary(props){_classCallCheck(this,TimeframeSummary),_get(Object.getPrototypeOf(TimeframeSummary.prototype),"constructor",this).call(this,props)}return _inherits(TimeframeSummary,_React$Component),_createClass(TimeframeSummary,[{key:"render",value:function(){var summary=TimeframeUtils.getName(this.props.timeframe,Store_HorizonLayout.getColumnWidth());return React.createElement("div",{style:{fontSize:"24px",marginTop:"24px",display:"inline-block"}},"Summary Line ",summary)}}]),TimeframeSummary}(React.Component),_export("default",TimeframeSummary)}}}),System.register("dvt/components/DurationSelect.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/stores/Store_Interactions","dvt/AppActions","dvt/stores/Store_Timeframe"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,Store_Interactions,AppActions,Store_Timeframe,DurationSelect;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]}],execute:function(){"use strict";DurationSelect=function(_React$Component){function DurationSelect(props){_classCallCheck(this,DurationSelect),_get(Object.getPrototypeOf(DurationSelect.prototype),"constructor",this).call(this,props),this.state={dropdownVisible:!1,isEditing:!1,textVal:"1s"},this.isEditing=!1,this.closeOnBlur=!0}return _inherits(DurationSelect,_React$Component),_createClass(DurationSelect,[{key:"dropdownButtonClick",value:function(){this.setState({dropdownVisible:!this.state.dropdownVisible}),ReactDOM.findDOMNode(this.refs.dropDownButton).focus(),AppActions.setFieldCurrentlyInEdit("duration")}},{key:"dropdownButtonBlurred",value:function(){this.closeOnBlur?(this.setState({dropdownVisible:this.props.justSwitched,isEditing:!1}),this.isEditing=!1,this.props.justSwitched?AppActions.justSwitchedPhaseTwo():AppActions.setFieldCurrentlyInEdit(null)):(this.closeOnBlur=!0,ReactDOM.findDOMNode(this.refs.dropDownButton).focus(),AppActions.setFieldCurrentlyInEdit("duration"))}},{key:"menuSectionMouseDown",value:function(val){this.setState({textVal:val}),this.applyToStore(val)}},{key:"mouseDownChangeDurationType",value:function(){this.closeOnBlur=!1}},{key:"clickChangeDurationType",value:function(val){AppActions.setDurationType(val)}},{key:"textChanged",value:function(e){this.setState({textVal:e.target.value})}},{key:"textboxBlurred",value:function(){this.isEditing=!1,this.applyToStore(ReactDOM.findDOMNode(this.refs.durationTextBox).value)}},{key:"focussed",value:function(){this.isEditing=!0,this.setState({
isEditing:!0}),AppActions.setFieldCurrentlyInEdit("duration")}},{key:"applyToStore",value:function(val){Store_Interactions.increment("timeframeDuration");var ticks=Store_Timeframe.durationToMs(val);0!=ticks?AppActions.setDuration(val):this.setState({textVal:Store_Timeframe.msToDuration(this.props.globalTimeframe.duration_ms)}),AppActions.setFieldCurrentlyInEdit(null)}},{key:"componentWillReceiveProps",value:function(props){this.isEditing||this.setState({textVal:Store_Timeframe.msToDuration(props.globalTimeframe.duration_ms)})}},{key:"switchChangingField",value:function(){this.props.editOrderIcon&&(this.theFocussed=document.activeElement,AppActions.switchChangingField())}},{key:"switchFinishedChangingFields",value:function(){this.theFocussed&&(this.theFocussed.focus(),this.theFocussed=null)}},{key:"render",value:function(){var durType=this.props.globalTimeframe.durationType,i_s={paddingLeft:"10px",paddingRight:"10px",border:"solid 1px #fff",paddingTop:"2px",paddingBottom:"2px"};return React.createElement("div",{style:{marginTop:"2px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888",verticalAlign:"bottom",height:"15px",marginLeft:"-18px",marginBottom:"2px"}},"Window Size"==durType?"Window Size":"Pixel Size"," ",React.createElement("div",{onMouseDown:this.switchChangingField.bind(this),onClick:this.switchFinishedChangingFields.bind(this),style:{display:"inline-block",borderRadius:"8px",marginLeft:"5px",width:"16px",height:"16px",backgroundColor:this.props.editOrderIcon?"#ddd":"#fff",marginRight:"3px",paddingTop:"1px",color:this.props.editOrderIcon?"#222":"#fff",cursor:this.props.editOrderIcon?"pointer":"default"}},React.createElement("span",{className:"glyphicon glyphicon-flash",style:{paddingLeft:"3px",paddingTop:"1px"}}))),React.createElement("div",{className:"input-group"},React.createElement("input",{style:{backgroundColor:this.props.hasProblem?"#fcc":"#fff"},ref:"durationTextBox",type:"text",className:"form-control","aria-label":"...",value:this.state.textVal,onKeyDown:DurationSelect.dokeydown.bind(this),onChange:this.textChanged.bind(this),onBlur:this.textboxBlurred.bind(this),onFocus:this.focussed.bind(this)}),React.createElement("div",{className:"input-group-btn"},React.createElement("button",{ref:"dropDownButton",type:"button",style:{lineHeight:"20px",padding:"6px 12px"},className:"btn btn-default dropdown-toggle",onClick:this.dropdownButtonClick.bind(this),onBlur:this.dropdownButtonBlurred.bind(this)},React.createElement("span",{style:{lineHeight:"20px"},className:"caret"})),React.createElement("div",{id:"timeframeDropdown",className:"dropdown-menu dropdown-menu-right toptick",role:"menu",style:{zIndex:"3000",marginTop:"8px",display:this.state.dropdownVisible?"block":"none"}},React.createElement("div",{style:{width:"192px"}},React.createElement("div",{style:{width:"172px",marginLeft:"12px",paddingTop:"6px",paddingBottom:"7px"}},React.createElement("div",{style:{width:"74px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:{border:"Pixel Size"==durType?"solid 1px #ccc":"solid 1px #fff",padding:"3px 10px 1px 10px",fontSize:"12px"},onMouseDown:this.mouseDownChangeDurationType.bind(this),onClick:this.clickChangeDurationType.bind(this,"Pixel Size"),value:"Pixel Size"})),React.createElement("div",{style:{width:"40px",display:"inline-block",marginLeft:"3px"}},React.createElement("input",{type:"button",className:"btn btn-default",style:{border:"Pixel Size"==durType?"solid 1px #fff":"solid 1px #ccc",padding:"3px 10px 1px 10px",fontSize:"12px"},onMouseDown:this.mouseDownChangeDurationType.bind(this),onClick:this.clickChangeDurationType.bind(this,"Window Size"),value:"Window Size"})))),"Pixel Size"==this.props.globalTimeframe.durationType?React.createElement("div",{style:{width:"192px"}},React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"0.1s"),value:"0.1s"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"0.2s"),value:"0.2s"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"0.3s"),value:"0.3s"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"0.5s"),value:"0.5s"}))),React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"1s"),value:"1s"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"2s"),value:"2s"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"2.5s"),value:"2.5s"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"5s"),value:"5s"}))),React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"10s"),value:"10s"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"20s"),value:"20s"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"30s"),value:"30s"}))),React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"1m"),value:"1m"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"2m"),value:"2m"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"5m"),value:"5m"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"10m"),value:"10m"}))),React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"1h"),value:"1h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"2h"),value:"2h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"12h"),value:"12h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"1d"),value:"1d"})))):React.createElement("div",{style:{width:"192px"}},React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"2m"),value:"2m"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"5m"),value:"5m"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"10m"),value:"10m"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"30m"),value:"30m"}))),React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"1h"),value:"1h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"2h"),value:"2h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"3h"),value:"3h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"4h"),value:"4h"}))),React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"6h"),value:"6h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"8h"),value:"8h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"12h"),value:"12h"}))),React.createElement("div",{style:{width:"172px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"1d"),value:"1d"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"2d"),value:"2d"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSectionMouseDown.bind(this,"5d"),value:"5d"}))))))))}}],[{key:"dokeydown",value:function(e){"Enter"==e.key&&(this.setState({isEditing:!1}),this.isEditing=!1,e.target.blur())}}]),DurationSelect}(React.Component),_export("default",DurationSelect)}}}),System.register("dvt/components/SkipSpecifier.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/stores/Store_Interactions","dvt/AppActions","dvt/stores/Store_Timeframe"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,Store_Interactions,AppActions,Store_Timeframe,SkipSpecifier;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]}],execute:function(){"use strict";SkipSpecifier=function(_React$Component){function SkipSpecifier(props){_classCallCheck(this,SkipSpecifier),_get(Object.getPrototypeOf(SkipSpecifier.prototype),"constructor",this).call(this,props),this.state={dropdownVisible:!1,isEditing:!1,textVal:"10m"},this.isEditing=!1}return _inherits(SkipSpecifier,_React$Component),_createClass(SkipSpecifier,[{key:"componentWillReceiveProps",value:function(props){this.isEditing||this.setState({textVal:Store_Timeframe.msToDuration(props.globalTimeframe.skip_ms)})}},{key:"dropdownButtonClicked",value:function(){this.setState({dropdownVisible:!this.state.dropdownVisible}),ReactDOM.findDOMNode(this.refs.dropDownButton).focus()}},{key:"menuSelectionMouseDown",value:function(val){this.setState({textVal:val}),this.applyToStore(val)}},{key:"textChanged",value:function(e){this.setState({textVal:e.target.value})}},{key:"textboxBlurred",value:function(){this.applyToStore(ReactDOM.findDOMNode(this.refs.durationTextBox).value)}},{key:"dropdownButtonBlurred",value:function(){this.setState({dropdownVisible:!1,isEditing:!1}),this.isEditing=!1}},{key:"dokeydown",value:function(e){"Enter"==e.key&&(this.setState({isEditing:!1}),this.isEditing=!1,e.target.blur())}},{key:"focussed",value:function(){this.isEditing=!0,this.setState({isEditing:!0})}},{key:"applyToStore",value:function(val){Store_Interactions.increment("skipChanged");var ticks=Store_Timeframe.durationToMs(val);0!=ticks?AppActions.setSkip(ticks):this.setState({textVal:this.props.globalTimeframe.skip_ms})}},{key:"render",value:function(){var i_s={paddingLeft:"10px",paddingRight:"10px",border:"solid 1px #fff",paddingTop:"2px",paddingBottom:"2px"};return React.createElement("div",{style:{marginTop:"3px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888",verticalAlign:"bottom",height:"15px",marginLeft:"2px"}},"Skip"),React.createElement("div",{className:"input-group"},React.createElement("input",{ref:"durationTextBox",type:"text",className:"form-control","aria-label":"...",value:this.state.textVal,onKeyDown:this.dokeydown.bind(this),onChange:this.textChanged.bind(this),onBlur:this.textboxBlurred.bind(this),onFocus:this.focussed.bind(this)}),React.createElement("div",{className:"input-group-btn"},React.createElement("button",{ref:"dropDownButton",type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false",onBlur:this.dropdownButtonBlurred.bind(this),onClick:this.dropdownButtonClicked.bind(this)},React.createElement("span",{className:"caret"})),React.createElement("div",{id:"timeframeDropdown",className:"dropdown-menu dropdown-menu-right toptick",role:"menu",style:{zIndex:"3000",marginTop:"8px",display:this.state.dropdownVisible?"block":"none"}},React.createElement("div",{style:{width:"149px"}},React.createElement("div",{style:{width:"129px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"1m"),value:"1m"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"10m"),value:"10m"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"30m"),value:"30m"}))),React.createElement("div",{style:{width:"129px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"1h"),value:"1h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"2h"),value:"2h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"4h"),value:"4h"}))),React.createElement("div",{style:{width:"129px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"6h"),value:"6h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"8h"),value:"8h"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"12h"),value:"12h"}))),React.createElement("div",{style:{width:"129px",marginLeft:"10px"}},React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"1d"),value:"1d"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"2d"),value:"2d"})),React.createElement("div",{style:{width:"43px",display:"inline-block"}},React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"7d"),value:"7d"}))))))))}}]),SkipSpecifier}(React.Component),_export("default",SkipSpecifier)}}}),System.register("dvt/components/Playback.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions","dvt/stores/Store_Interactions","dvt/stores/Store_Timeframe"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,Store_Interactions,Store_Timeframe,Playback;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]}],execute:function(){"use strict";Playback=function(_React$Component){function Playback(props){_classCallCheck(this,Playback),_get(Object.getPrototypeOf(Playback.prototype),"constructor",this).call(this,props)}return _inherits(Playback,_React$Component),_createClass(Playback,[{key:"leftClick",value:function(){Store_Interactions.increment("time_skip"),ReactDOM.findDOMNode(this.refs.leftbtn).blur(),AppActions.changeMode("Historical"),AppActions.skip("backward")}},{key:"rightClick",value:function(){Store_Interactions.increment("time_skip"),ReactDOM.findDOMNode(this.refs.rightbtn).blur(),AppActions.changeMode("Historical"),AppActions.skip("forward")}},{key:"modeChanged",value:function(mode){Store_Interactions.increment("time_playPause"),ReactDOM.findDOMNode(this.refs.pausebtn).blur(),ReactDOM.findDOMNode(this.refs.playbtn).blur(),AppActions.setEndDateConstantDuration(Store_Timeframe.displayCurrentEndTime()),AppActions.changeMode(mode)}},{key:"render",value:function(){var pauseStyle={marginRight:"5px",paddingLeft:"8px",paddingRight:"7px"};"Real Time"!=this.props.globalTimeframe.mode&&(pauseStyle.backgroundColor="#f8d0d9",pauseStyle.border="solid 1px #aaa");var playStyle={paddingLeft:"7px",paddingRight:"8px",marginRight:"5px"};return"Real Time"==this.props.globalTimeframe.mode&&(playStyle.backgroundColor="#d0f8d9",playStyle.border="solid 1px #aaa"),React.createElement("div",{style:{display:"inline-block",marginTop:"24px",verticalAlign:"top"}},React.createElement("button",{ref:"leftbtn",className:"btn btn-default",onClick:this.leftClick.bind(this),style:{marginRight:"5px",paddingLeft:"6px",paddingRight:"10px"}},React.createElement("div",{className:"glyphicon glyphicon-backward",style:{lineHeight:"18px",display:"inline-block",marginBottom:"2px"}})),React.createElement("button",{ref:"pausebtn",className:"btn btn-default",onClick:this.modeChanged.bind(this,"Historical"),style:pauseStyle},React.createElement("div",{className:"glyphicon glyphicon-pause",style:{lineHeight:"18px",display:"inline-block",marginBottom:"2px"}})),React.createElement("button",{ref:"playbtn",className:"btn btn-default",onClick:this.modeChanged.bind(this,"Real Time"),style:playStyle},React.createElement("div",{className:"glyphicon glyphicon-play",style:{lineHeight:"18px",display:"inline-block",marginBottom:"2px"}})),React.createElement("button",{ref:"rightbtn",className:"btn btn-default",onClick:this.rightClick.bind(this),style:{paddingLeft:"10px",paddingRight:"6px"}},React.createElement("div",{className:"glyphicon glyphicon-forward",style:{lineHeight:"18px",display:"inline-block",marginBottom:"2px"}})))}}]),Playback}(React.Component),_export("default",Playback)}}}),System.register("dvt/Timer_RealTime",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/AppActions","dvt/stores/Store_Timeframe"],function(_export){var _createClass,_classCallCheck,AppActions,Store_Timeframe,Timer_RealTime;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]}],execute:function(){"use strict";Timer_RealTime=function(){function Timer_RealTime(){_classCallCheck(this,Timer_RealTime),this._previousMode=null,this.startTimer(),Store_Timeframe.addChangeListener(this._onChange.bind(this))}return _createClass(Timer_RealTime,[{key:"_onChange",value:function(){var currentMode=Store_Timeframe.getTimeframe().mode,switchedToRealTime="Real Time"==currentMode&&"Real Time"!=this._previousMode;this._previousMode=currentMode,switchedToRealTime&&setTimeout(function(){AppActions.setEndDateConstantDuration(Store_Timeframe.displayCurrentEndTime())},0)}},{key:"pixelAlignShouldUpdate",value:function(){if("Historical"===Store_Timeframe.getTimeframe().mode)return!0;var endDate_ms=Store_Timeframe.getTimeframe().endDate_ms,resolution_ms=Store_Timeframe.getResolution_ms(),endStep=Math.floor(endDate_ms/resolution_ms),prevEndStep=Math.floor((endDate_ms-1e3)/resolution_ms);return prevEndStep!=endStep?!0:!1}},{key:"startTimer",value:function(){var step_ms=1e3;setInterval(function(){"Real Time"==Store_Timeframe.getTimeframe().mode?AppActions.setEndDateConstantDuration(Store_Timeframe.displayCurrentEndTime()):Store_Timeframe.getTimeframe().endDate_ms>Store_Timeframe.displayCurrentEndTime()&&AppActions.setEndDateConstantDuration(Store_Timeframe.getTimeframe().endDate_ms)},step_ms)}}]),Timer_RealTime}(),_export("default",new Timer_RealTime)}}}),System.register("dvt/components/TimeframeUndo.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,TimeframeUndo;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";TimeframeUndo=function(_React$Component){function TimeframeUndo(props){_classCallCheck(this,TimeframeUndo),_get(Object.getPrototypeOf(TimeframeUndo.prototype),"constructor",this).call(this,props)}return _inherits(TimeframeUndo,_React$Component),_createClass(TimeframeUndo,[{key:"buttonClicked",value:function(){console.log("clicked")}},{key:"render",value:function(){return React.createElement("div",{style:{display:"inline-block",marginLeft:"0px",marginRight:"5px",marginTop:"24px",verticalAlign:"top",position:"relative"}},React.createElement("button",{ref:"dropDownButton",type:"button",onClick:this.buttonClicked.bind(this),style:{display:"inline-block",padding:"7px 9px 6px 9px"},className:"btn btn-default dropdown-toggle"},React.createElement("span",{className:"glyphicon glyphicon-repeat"})))}}]),TimeframeUndo}(React.Component),_export("default",TimeframeUndo)}}}),System.register("dvt/components/TimeframePresetSelect.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/stores/Store_Interactions","dvt/AppActions","dvt/stores/Store_Timeframe"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,Store_Interactions,AppActions,Store_Timeframe,TimeframePresetSelect;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]}],execute:function(){"use strict";TimeframePresetSelect=function(_React$Component){function TimeframePresetSelect(props){_classCallCheck(this,TimeframePresetSelect),_get(Object.getPrototypeOf(TimeframePresetSelect.prototype),"constructor",this).call(this,props),this.state={dropdownVisible:!1},this.closeOnBlur=!0}return _inherits(TimeframePresetSelect,_React$Component),_createClass(TimeframePresetSelect,[{key:"menuSelectionMouseDown",value:function(val){switch(val){case"P1s":Store_Interactions.increment("timeframe_P1s");break;case"P5s":Store_Interactions.increment("timeframe_P5s");break;case"P30s":Store_Interactions.increment("timeframe_P30s");break;case"P1m":Store_Interactions.increment("timeframe_P1m");break;case"W1h":Store_Interactions.increment("timeframe_W1h");break;case"W6h":Store_Interactions.increment("timeframe_W6h");break;case"W12h":Store_Interactions.increment("timeframe_W12h");break;case"W24h":Store_Interactions.increment("timeframe_W24h");break;case"W7d":Store_Interactions.increment("timeframe_W7d");break;case"W28d":Store_Interactions.increment("timeframe_W28d");break;case"W6M":Store_Interactions.increment("timeframe_W6M");break;case"Today":Store_Interactions.increment("timeframe_today");break;case"Yesterday":Store_Interactions.increment("timeframe_yesterday");break;case"This Week":Store_Interactions.increment("timeframe_thisWeek");break;case"This Month":Store_Interactions.increment("timeframe_thisMonth");break;case"This Year":Store_Interactions.increment("timeframe_thisYear");break;case"Day Before Yesterday":Store_Interactions.increment("timeframe_dayBeforeYesterday");break;case"This Day Last Week":Store_Interactions.increment("timeframe_thisDayLastWeek")}AppActions.changeMode("Historical"),AppActions.setFavorite(val)}},{key:"dropdownButtonClicked",value:function(){this.setState({dropdownVisible:!this.state.dropdownVisible}),ReactDOM.findDOMNode(this.refs.dropDownButton).focus()}},{key:"dropdownButtonBlurred",value:function(){this.closeOnBlur?this.setState({dropdownVisible:!1}):(this.closeOnBlur=!0,ReactDOM.findDOMNode(this.refs.dropDownButton).focus())}},{key:"mouseDownTimeframeType",value:function(tft){this.closeOnBlur=!1,AppActions.setTimeframeDisplayType(tft)}},{key:"render",value:function(){var i_s=(this.props.timeframeDisplayType,{paddingLeft:"8px",marginLeft:"12px",paddingRight:"10px",border:"solid 1px #fff",paddingTop:"2px",paddingBottom:"2px"}),i_t={fontSize:"smaller",fontWeight:"bold",paddingLeft:"15px",paddingTop:"10px"};return React.createElement("div",{style:{display:"inline-block",marginLeft:"0px",marginRight:"5px",marginTop:"24px",verticalAlign:"top",position:"relative"}},React.createElement("button",{ref:"dropDownButton",type:"button",onBlur:this.dropdownButtonBlurred.bind(this),onClick:this.dropdownButtonClicked.bind(this),style:{display:"inline-block",padding:"7px 9px 6px 9px"},className:"btn btn-default dropdown-toggle"},React.createElement("span",{className:"glyphicon glyphicon-align-justify"})),React.createElement("div",{id:"dropdown",className:"dropdown-menu toptickleft",role:"menu",style:{zIndex:"3000",marginTop:"8px",marginLeft:"3px",display:this.state.dropdownVisible?"block":"none"}},React.createElement("div",{style:{width:"330px",paddingBottom:"10px"}},React.createElement("div",{style:{display:"inline-block",width:"150px",verticalAlign:"top"}},React.createElement("div",{style:i_t},"Real Time"),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",
style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"P1s"),value:"Pixel Size = 1s"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"P5s"),value:"Pixel Size = 5s"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"P30s"),value:"Pixel Size = 30s"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"P1m"),value:"Pixel Size = 1m"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"W1h"),value:"Window Size = 1h"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"W6h"),value:"Window Size = 6h"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"W12h"),value:"Window Size = 12h"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"W24h"),value:"Window Size = 24h"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"W7d"),value:"Window Size = 7d"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"W28d"),value:"Window Size = 28d"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"W6M"),value:"Window Size = 6M"}))),React.createElement("div",{style:{display:"inline-block",width:"150px",verticalAlign:"top"}},React.createElement("div",{style:i_t},"Fixed Time"),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"Today"),value:"Today"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"Yesterday"),value:"Yesterday"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"Day Before Yesterday"),value:"Day Before Yesterday"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"This Day Last Week"),value:"This Day Last Week"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"This Week"),value:"This Week"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"This Month"),value:"This Month"})),React.createElement("div",null,React.createElement("input",{type:"button",className:"btn btn-default",style:i_s,onMouseDown:this.menuSelectionMouseDown.bind(this,"This Year"),value:"This Year"}))))))}}]),TimeframePresetSelect}(React.Component),_export("default",TimeframePresetSelect)}}}),System.register("dvt/components/Axis.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","github:mbostock/d3@3.5.6","dvt/stores/Store_Timeframe","dvt/stores/Store_Layout","dvt/Timer_RealTime","dvt/DragHandler","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,d3,Store_Timeframe,Store_Layout,Timer_RealTime,DragHandler,AppActions,Axis;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_githubMbostockD3356){d3=_githubMbostockD3356["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]},function(_dvtStoresStore_Layout){Store_Layout=_dvtStoresStore_Layout["default"]},function(_dvtTimer_RealTime){Timer_RealTime=_dvtTimer_RealTime["default"]},function(_dvtDragHandler){DragHandler=_dvtDragHandler["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";Axis=function(_React$Component){function Axis(props){_classCallCheck(this,Axis),_get(Object.getPrototypeOf(Axis.prototype),"constructor",this).call(this,props),this.axisFormatSeconds=d3.time.format("%H:%M:%S"),this.axisFormatMinutes=d3.time.format("%H:%M"),this.axisFormatDays=d3.time.format("%m %d"),this.axisFormatLong=d3.time.format("%Y-%m-%d %H:%M:%S"),this._previousResolution=null,this._previousMode=null,this.state={ruleDate:null,ruleLocation:null}}return _inherits(Axis,_React$Component),_createClass(Axis,[{key:"componentWillMount",value:function(){this.scale=d3.time.scale(),this.axis=d3.svg.axis().scale(this.scale).orient("top").ticks(5),this.updateD3(this.props)}},{key:"componentWillReceiveProps",value:function(props){Timer_RealTime.pixelAlignShouldUpdate()&&this.updateD3(props)}},{key:"componentDidUpdate",value:function(){var resolutionChanged=this.props.timeframe.resolution_ms!=this._previousResolution,modeChanged=this.props.timeframe.mode!=this._previousMode;(Timer_RealTime.pixelAlignShouldUpdate()||resolutionChanged||modeChanged)&&(this._previousResolution=this.props.timeframe.resolution_ms,this._previousMode=this.props.timeframe._mode,this.renderD3())}},{key:"componentDidMount",value:function(){this.renderD3();var netDragX=0,chartDragStartedCallback=function(e){netDragX=0},chartDragCallback=function(dx,dy){"Real Time"==this.props.timeframe.mode&&2>dx||(AppActions.clearMovingElement(),AppActions.shift(-dx),netDragX+=dx)};DragHandler(this.refs.dragDiv,null,null,chartDragStartedCallback.bind(this),chartDragCallback.bind(this),function(){},function(){return"ewdrag"})}},{key:"updateForNewRuleLocation",value:function(ruleLocation){if(-1==ruleLocation)return void this.setState({ruleDate:null,ruleLocation:null});var rd=(this.props.timeframe.resolution_ms,this.props.timeframe.startDate_ms+ruleLocation*this.props.timeframe.resolution_ms);this.setState({ruleDate:rd,ruleLocation:ruleLocation})}},{key:"renderD3",value:function(){var rangeWidth=this.props.width,endDate_ms=this.props.timeframe.endDate_ms;endDate_ms=Math.floor(endDate_ms/this.props.timeframe.resolution_ms)*this.props.timeframe.resolution_ms;var startDate_ms=Store_Timeframe.getStartDate_ms();startDate_ms=Math.floor(startDate_ms/this.props.timeframe.resolution_ms)*this.props.timeframe.resolution_ms,this.scale.domain([new Date(startDate_ms),new Date(endDate_ms)]).range([0,rangeWidth]);var g=d3.select(ReactDOM.findDOMNode(this.refs.axisg));g.call(this.axis),g.selectAll("text").style("fill-opacity",function(d){var r=this.scale(d)>this.state.ruleLocation-100&&this.scale(d)<this.state.ruleLocation+100&&this.props.ruleEnabled&&this.state.ruleLocation&&-1!=this.state.ruleLocation?.1:1;return r}.bind(this))}},{key:"updateD3",value:function(props){}},{key:"render",value:function(){return React.createElement("div",{style:{position:"absolute",width:this.props.width+"px",left:this.props.left+"px",cursor:"ew-resize"}},React.createElement("div",{style:{height:"31px",borderBottom:"solid 1px #666",position:"relative"}},React.createElement("svg",{ref:"dragDiv",className:"axis",height:"28",width:this.props.width+"px"},React.createElement("g",{ref:"axisg",transform:"translate(0, 28)"})),null!=this.state.ruleDate&&this.props.ruleEnabled?React.createElement("div",{style:{width:"171px",textAlign:"center",position:"absolute",top:"0px",left:this.state.ruleLocation-85+"px"}},React.createElement("div",{className:"lgrad",style:{display:"inline-block",width:"10px",height:"28px",paddingTop:"4px"}}," "),React.createElement("div",{style:{display:"inline-block",width:"151px",backgroundColor:"#fff",height:"28px",paddingTop:"4px"}},this.axisFormatLong(new Date(this.state.ruleDate))),React.createElement("div",{className:"rgrad",style:{display:"inline-block",width:"10px",height:"28px",paddingTop:"4px"}}," ")):null,null!=this.state.ruleDate&&this.props.ruleEnabled?React.createElement("div",{style:{position:"absolute",left:this.state.ruleLocation+"px",width:"1px",height:"4px",backgroundColor:"#777",top:"27px"}}):null))}}]),Axis}(React.Component),_export("default",Axis)}}}),System.register("dvt/utils/PaletteUtils",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _createClass,_classCallCheck,MasterPalette,MasterPalette2,PaletteUtils;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";MasterPalette=[["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#eff3ff","#bdd7e7","#6baed6","#3182bd","#eff3ff","#bdd7e7","#6baed6","#bdd7e7","#6baed6","#6baed6","#ffffff"],["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#edf8e9","#bae4b3","#74c476","#31a354","#edf8e9","#bae4b3","#74c476","#bae4b3","#74c476","#74c476","#ffffff"],["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#f7f7f7","#cccccc","#969696","#636363","#f7f7f7","#cccccc","#969696","#cccccc","#969696","#969696","#ffffff"],["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#feedde","#fdbe85","#fd8d3c","#e6550d","#feedde","#fdbe85","#fd8d3c","#fdbe85","#fd8d3c","#fd8d3c","#ffffff"],["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#f2f0f7","#cbc9e2","#9e9ac8","#cbc9e2","#9e9ac8","#9e9ac8","#ffffff"],["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#fee5d9","#fcae91","#fb6a4a","#de2d26","#fee5d9","#fcae91","#fb6a4a","#fcae91","#fb6a4a","#fb6a4a","#ffffff"],["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#edf8fb","#b2e2e2","#66c2a4","#b2e2e2","#66c2a4","#66c2a4","#ffffff"],["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#edf8fb","#b3cde3","#8c96c6","#8856a7","#edf8fb","#b3cde3","#8c96c6","#b3cde3","#8c96c6","#8c96c6","#ffffff"],["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#f0f9e8","#bae4bc","#7bccc4","#bae4bc","#7bccc4","#7bccc4","#ffffff"],["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#fef0d9","#fdcc8a","#fc8d59","#e34a33","#fef0d9","#fdcc8a","#fc8d59","#fdcc8a","#fc8d59","#fc8d59","#ffffff"],["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#f1eef6","#bdc9e1","#74a9cf","#bdc9e1","#74a9cf","#74a9cf","#ffffff"],["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#f1eef6","#d7b5d8","#df65b0","#dd1c77","#f1eef6","#d7b5d8","#df65b0","#d7b5d8","#df65b0","#df65b0","#ffffff"],["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#feebe2","#fbb4b9","#f768a1","#c51b8a","#feebe2","#fbb4b9","#f768a1","#fbb4b9","#f768a1","#f768a1","#ffffff"],["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#ffffcc","#c2e699","#78c679","#31a354","#ffffcc","#c2e699","#78c679","#c2e699","#78c679","#78c679","#ffffff"],["#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#f8f8f8","#ffffff"],["#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#ffffff"]],MasterPalette2=[["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c","#eff3ff","#bdd7e7","#6baed6","#2171b5","#deebf7","#9ecae1","#3182bd","#bdd7e7","#3182bd","#6baed6","#ffffff"],["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c","#edf8e9","#bae4b3","#74c476","#238b45","#e5f5e0","#a1d99b","#31a354","#bae4b3","#31a354","#74c476","#ffffff"],["#f7f7f7","#cccccc","#969696","#636363","#252525","#f7f7f7","#cccccc","#969696","#525252","#f0f0f0","#bdbdbd","#636363","#cccccc","#636363","#969696","#ffffff"],["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603","#feedde","#fdbe85","#fd8d3c","#d94701","#fee6ce","#fdae6b","#e6550d","#fdbe85","#e6550d","#fd8d3c","#ffffff"],["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f","#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3","#efedf5","#bcbddc","#756bb1","#cbc9e2","#756bb1","#9e9ac8","#ffffff"],["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15","#fee5d9","#fcae91","#fb6a4a","#cb181d","#fee0d2","#fc9272","#de2d26","#fcae91","#de2d26","#fb6a4a","#ffffff"],["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c","#edf8fb","#b2e2e2","#66c2a4","#238b45","#e5f5f9","#99d8c9","#2ca25f","#b2e2e2","#2ca25f","#66c2a4","#ffffff"],["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c","#edf8fb","#b3cde3","#8c96c6","#88419d","#e0ecf4","#9ebcda","#8856a7","#b3cde3","#8856a7","#8c96c6","#ffffff"],["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac","#f0f9e8","#bae4bc","#7bccc4","#2b8cbe","#e0f3db","#a8ddb5","#43a2ca","#bae4bc","#43a2ca","#7bccc4","#ffffff"],["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000","#fef0d9","#fdcc8a","#fc8d59","#d7301f","#fee8c8","#fdbb84","#e34a33","#fdcc8a","#e34a33","#fc8d59","#ffffff"],["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d","#f1eef6","#bdc9e1","#74a9cf","#0570b0","#ece7f2","#a6bddb","#2b8cbe","#bdc9e1","#2b8cbe","#74a9cf","#ffffff"],["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59","#f6eff7","#bdc9e1","#67a9cf","#02818a","#ece2f0","#a6bddb","#1c9099","#bdc9e1","#1c9099","#67a9cf","#ffffff"],["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043","#f1eef6","#d7b5d8","#df65b0","#ce1256","#e7e1ef","#c994c7","#dd1c77","#d7b5d8","#dd1c77","#df65b0","#ffffff"],["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177","#feebe2","#fbb4b9","#f768a1","#ae017e","#fde0dd","#fa9fb5","#c51b8a","#fbb4b9","#c51b8a","#f768a1","#ffffff"],["#ffffcc","#c2e699","#78c679","#31a354","#006837","#ffffcc","#c2e699","#78c679","#238443","#f7fcb9","#addd8e","#31a354","#c2e699","#31a354","#78c679","#ffffff"],["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494","#ffffcc","#a1dab4","#41b6c4","#225ea8","#edf8b1","#7fcdbb","#2c7fb8","#a1dab4","#2c7fb8","#41b6c4","#ffffff"]],PaletteUtils=function(){function PaletteUtils(){_classCallCheck(this,PaletteUtils)}return _createClass(PaletteUtils,null,[{key:"getColorFaint",value:function(idx){return MasterPalette[idx][6]}},{key:"getColorStrong",value:function(idx){return MasterPalette[idx][8]}},{key:"getMasterNumberOfPalettes",value:function(){if(16!=MasterPalette.length)throw new Error("wrong number of palettes");return 16}},{key:"getMasterNumberOfLevels",value:function(){if(16!=MasterPalette[0].length)throw new Error("wrong number of levels");return 16}},{key:"getMasterPaletteArray",value:function(){return MasterPalette}},{key:"getMasterPalette",value:function(){for(var bArray=[],i=0;i<MasterPalette.length;++i)for(var j=0;j<MasterPalette[i].length;++j){for(var k=0;3>k;++k){var cHex=MasterPalette[i][j],hex="0x"+cHex.substring(1+2*k,1+2*(k+1));bArray.push(parseInt(hex))}bArray.push(255)}return new Uint8Array(bArray)}}]),PaletteUtils}(),_export("default",PaletteUtils)}}}),System.register("dvt/components/HueSelector.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions","dvt/utils/PaletteUtils"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,PaletteUtils,HueSelector;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtUtilsPaletteUtils){PaletteUtils=_dvtUtilsPaletteUtils["default"]}],execute:function(){"use strict";HueSelector=function(_React$Component){function HueSelector(){_classCallCheck(this,HueSelector),_get(Object.getPrototypeOf(HueSelector.prototype),"constructor",this).call(this),this.state={currentlyOver:null}}return _inherits(HueSelector,_React$Component),_createClass(HueSelector,[{key:"handleMouseDown",value:function(key){this.props.indexSelected(key)}},{key:"handleMouseOver",value:function(key){this.setState({currentlyOver:key})}},{key:"handleMouseOut",value:function(key){this.setState({currentlyOver:null})}},{key:"render",value:function(){for(var _this=this,cls=[],k=0;4>k;++k)cls.push([]);for(var i=0;4>i;++i)for(var j=0;4>j;++j)cls[i].push([PaletteUtils.getColorFaint(4*i+j),PaletteUtils.getColorStrong(4*i+j)]);return React.createElement("div",{style:{display:"table",width:this.props.width,height:this.props.height,borderSpacing:"2px",borderCollapse:"separate"}},cls.map(function(cls1,i){return React.createElement("div",{key:i,style:{display:"table-row"}},cls1.map(function(cl,j){return React.createElement("div",{ref:"cs"+j+"-"+i,key:"cs"+j+"-"+i,style:{display:"table-cell",backgroundColor:cl[4*i+j===_this.state.currentlyOver||_this.props.selectedIndex==4*i+j?1:0],borderRadius:"2px",cursor:"pointer"},onMouseOver:_this.handleMouseOver.bind(_this,4*i+j),onMouseOut:_this.handleMouseOut.bind(_this,4*i+j),onMouseDown:_this.handleMouseDown.bind(_this,4*i+j)})}))}))}}]),HueSelector}(React.Component),_export("default",HueSelector)}}}),System.register("dvt/components/ScrollArea.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/assign","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/DragHandler"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$assign,React,ReactDOM,DragHandler,ScrollArea;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtDragHandler){DragHandler=_dvtDragHandler["default"]}],execute:function(){"use strict";ScrollArea=function(_React$Component){function ScrollArea(props){_classCallCheck(this,ScrollArea),_get(Object.getPrototypeOf(ScrollArea.prototype),"constructor",this).call(this,props),this.scrollBarWidth=25}return _inherits(ScrollArea,_React$Component),_createClass(ScrollArea,[{key:"componentDidMount",value:function(){var dragStartedCallback=function(e){},dragCallback=function(dx,dy,e){var iArea=ReactDOM.findDOMNode(this.refs.iArea),oArea=ReactDOM.findDOMNode(this.refs.oArea),iAreaHeight=iArea.clientHeight,oAreaHeight=oArea.clientHeight;if(!(oAreaHeight>iAreaHeight)){var thumbHeight=this.refs.thumb.clientHeight,scrollMovementHeight=oAreaHeight-thumbHeight,hiddenHeight=iAreaHeight-oAreaHeight,onePixelScrollHeight=hiddenHeight/scrollMovementHeight,moveBy=onePixelScrollHeight*dy;oArea.scrollTop=oArea.scrollTop+moveBy}},dragFinishedCallback=function(e){},getDragCursor=function(){return"pointerdrag"},handler=this.props.onThumbMouseDown,thumbMouseDownHandler=function(e){handler&&handler(e)};DragHandler(this.refs.thumb,function(){return!0},function(){},dragStartedCallback.bind(this),dragCallback.bind(this),dragFinishedCallback.bind(this),getDragCursor.bind(this)),this.refs.thumb.addEventListener("mousedown",thumbMouseDownHandler,!1),this.refs.oArea.addEventListener("scroll",this.onScrollHandler.bind(this),!1)}},{key:"componentDidUpdate",value:function(){this.updateThumb()}},{key:"onScrollHandler",value:function(e){this.updateThumb(),this.props.onScroll&&this.props.onScroll(e)}},{key:"updateThumb",value:function(){var iArea=ReactDOM.findDOMNode(this.refs.iArea),oArea=ReactDOM.findDOMNode(this.refs.oArea),thumb=ReactDOM.findDOMNode(this.refs.thumb),iAreaHeight=iArea.clientHeight,oAreaHeight=oArea.clientHeight;if(oAreaHeight>iAreaHeight)return void(thumb.style.display="none");var thumbHeight=Math.round(oAreaHeight/iAreaHeight*oAreaHeight),extraRoom=oAreaHeight-thumbHeight,sTop=oArea.scrollTop,top=sTop/(iAreaHeight-oAreaHeight)*extraRoom;thumb.style.display="block",thumb.style.position="absolute",thumb.style.right="3px",thumb.style.top=top+"px",thumb.style.backgroundColor="rgba(0,0,0,0.13)",thumb.style.borderRadius="3px",thumb.style.width="6px",thumb.style.height=thumbHeight+"px"}},{key:"render",value:function(){var oAreaStyle={};this.props.bgCol&&(oAreaStyle={backgroundColor:this.props.bgCol});var height=this.props.height+"px",width=this.props.width+this.scrollBarWidth+"px";return oAreaStyle=_Object$assign(oAreaStyle,{overflowY:"scroll",height:height,width:width,outline:"none"}),React.createElement("div",{style:{position:"relative",overflow:"hidden"}},React.createElement("div",{ref:"oArea",tabIndex:"0",style:oAreaStyle},React.createElement("div",{ref:"iArea"},this.props.children)),React.createElement("div",{ref:"thumb",style:{display:"none",cursor:"pointer"}}))}}]),ScrollArea}(React.Component),_export("default",ScrollArea)}}}),System.register("dvt/components/PaletteSelector.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/utils/PaletteUtils"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,PaletteUtils,PaletteSelector;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtUtilsPaletteUtils){PaletteUtils=_dvtUtilsPaletteUtils["default"]}],execute:function(){"use strict";PaletteSelector=function(_React$Component){function PaletteSelector(){_classCallCheck(this,PaletteSelector),_get(Object.getPrototypeOf(PaletteSelector.prototype),"constructor",this).call(this)}return _inherits(PaletteSelector,_React$Component),_createClass(PaletteSelector,[{key:"render",value:function(){var colors=[];if(-1!=this.props.index){var palettes=PaletteUtils.getMasterPaletteArray()[this.props.index],l=this.props.levels;1==l||-1==l?colors.push(palettes[14]):2==l?(colors.push(palettes[12]),colors.push(palettes[13])):3==l?(colors.push(palettes[9]),colors.push(palettes[10]),colors.push(palettes[11])):4==l?(colors.push(palettes[5]),colors.push(palettes[6]),colors.push(palettes[7]),colors.push(palettes[8])):5==l&&(colors.push(palettes[0]),colors.push(palettes[1]),colors.push(palettes[2]),colors.push(palettes[3]),colors.push(palettes[4])),this.props.reverse&&colors.reverse()}return React.createElement("div",{style:{width:this.props.width-2+"px",height:this.props.height-2+"px",display:"inline-block",position:"relative"}},React.createElement("div",{style:{display:"table",width:"100%",height:"100%"}},React.createElement("div",{style:{display:"table-row"}},colors.map(function(col){return React.createElement("div",{key:"col"+col,style:{display:"table-cell",backgroundColor:col}}," ")}))),React.createElement("div",{style:{position:"absolute",textShadow:"0px 1px 0px #fff",left:"0",top:"0",bottom:"0",right:"0",textAlign:"center"}},React.createElement("div",{style:{marginTop:"3px"}},this.props.text)))}}]),PaletteSelector}(React.Component),_export("default",PaletteSelector)}}}),System.register("dvt/components/HorizonHover.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/get-own-property-names","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/utils/GeneralUtils","dvt/stores/Store_Source"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$getOwnPropertyNames,React,ReactDOM,GeneralUtils,Store_Source,HorizonHover;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames){_Object$getOwnPropertyNames=_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtUtilsGeneralUtils){GeneralUtils=_dvtUtilsGeneralUtils["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]}],execute:function(){"use strict";HorizonHover=function(_React$Component){function HorizonHover(){_classCallCheck(this,HorizonHover),_get(Object.getPrototypeOf(HorizonHover.prototype),"constructor",this).call(this),this.dateFormat=d3.time.format("%Y-%m-%d %H:%M:%S")}return _inherits(HorizonHover,_React$Component),_createClass(HorizonHover,[{key:"render",value:function(){var _this=this;if(!this.props.lineSpec)return null;if(!this.props.lineSpec.IdentifiedBy_lvs)return null;if(!this.props.colSpec)return null;var metricLabelName=Store_Source.getActiveAdapter().getMetricLabelName(),hgt=226,lineTop=this.props.lineTop;this.props.lineTop+hgt>this.props.pageHeight&&(lineTop-=hgt-(this.props.pageHeight-this.props.lineTop),0>lineTop&&(lineTop=0));var leftEdge=0;leftEdge=1!=this.props.numCols?this.props.showOnLHS?this.props.colSpec[0]-285:this.props.colSpec[1]+5:this.props.showOnLHS?this.props.colSpec[0]+5:this.props.colSpec[1]-285;var labelKeys=_Object$getOwnPropertyNames(this.props.lineSpec.IdentifiedBy_lvs),transStyle={fontSize:"10px",opacity:"0.35"},normalStyle={fontSize:"11px"},hoverStyle={zIndex:"3000",display:"block",position:"absolute",width:"280px",top:lineTop+"px",left:leftEdge+"px",padding:"10px 15px"},vl=this.props.hoverVal,numfmt=d3.format(this.props.lineSpec.NumberFormat);numfmt(vl);return React.createElement("div",{className:"dropdown-menu dropdown-menu-right",role:"menu",style:hoverStyle},React.createElement("div",{style:{fontSize:"13px",marginBottom:"5px",fontWeight:"bold",wordWrap:"break-word"}},this.props.lineSpec.IdentifiedBy_lvs[metricLabelName]),this.props.lineSpec.VisibleLabels.map(function(a,i){return a!==metricLabelName?React.createElement("div",{key:i,style:GeneralUtils.ArrayContains(_this.props.lineSpec.VisibleLabels,a)?normalStyle:transStyle},React.createElement("div",null,React.createElement("b",null,a)),React.createElement("div",{style:{marginBottom:"3px",wordWrap:"break-word"}},_this.props.lineSpec.IdentifiedBy_lvs[a])):null}),labelKeys.map(function(a,i){return GeneralUtils.ArrayContains(_this.props.lineSpec.VisibleLabels,a)||a===metricLabelName?null:React.createElement("div",{key:i,style:GeneralUtils.ArrayContains(_this.props.lineSpec.VisibleLabels,a)?normalStyle:transStyle},React.createElement("div",null,React.createElement("b",null,a)),React.createElement("div",{style:{marginBottom:"3px",wordWrap:"break-word"}},_this.props.lineSpec.IdentifiedBy_lvs[a]))}))}}]),HorizonHover}(React.Component),_export("default",HorizonHover)}}}),System.register("dvt/components/HorizonValueOverlay.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/assign","npm:react@0.14.0","dvt/AppActions","dvt/utils/PaletteUtils"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$assign,React,AppActions,PaletteUtils,HorizonValueOverlay;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtUtilsPaletteUtils){PaletteUtils=_dvtUtilsPaletteUtils["default"]}],execute:function(){"use strict";HorizonValueOverlay=function(_React$Component){function HorizonValueOverlay(){_classCallCheck(this,HorizonValueOverlay),_get(Object.getPrototypeOf(HorizonValueOverlay.prototype),"constructor",this).call(this),this.numberFormatString=null,this.numfmt=null}return _inherits(HorizonValueOverlay,_React$Component),_createClass(HorizonValueOverlay,[{key:"componentWillReceiveProps",value:function(props){this.numberFormatString!=props.lineSpec.NumberFormat&&(this.numberFormatString=props.lineSpec.NumberFormat,this.numfmt=d3.format(this.numberFormatString))}},{key:"render",value:function(){if(1==this.props.magHeight)return null;var colLeft=this.props.colSpec[0],colRight=this.props.colSpec[1],dropDown=!1;if(!this.props.dontDrop&&this.props.location)if(2==this.props.magHeight){if(this.props.location<this.props.lineSpec.overlayLength+60)if("Hover"===this.props.lineSpec.OverlayStyle){if(this.props.isCurrentLine)return null}else if(!this.props.isCurrentLine)return null}else this.props.magHeight>2&&this.props.location<this.props.lineSpec.overlayLength+60&&(dropDown=!0);var blockWidth=150,tp=this.props.lineSpec.offset+2;dropDown&&(tp+=18);var baseStyle={top:tp+"px",position:"absolute",textAlign:"right",width:blockWidth+"px",pointerEvents:"none",fontSize:"14px"};2==this.props.magHeight?baseStyle.top=this.props.lineSpec.offset-2+"px":3==this.props.magHeight&&(baseStyle.top=this.props.lineSpec.offset+(dropDown?16:0)+"px",
dropDown&&(baseStyle.fontSize="12px"));var vl=this.props.lineSpec.lastValue,loc=this.props.location;baseStyle=null==loc?_Object$assign(baseStyle,{left:colRight-blockWidth+"px"}):1==this.props.magHeight&&this.props.lineSpec.pageIndex%2==1&&this.props.location>100?_Object$assign(baseStyle,{left:colLeft+loc+"px"}):_Object$assign(baseStyle,{left:colLeft+loc-blockWidth+"px"});var txt="";return null!=this.numfmt&&(txt=this.numfmt(vl)),isNaN(vl)?React.createElement("div",{key:this.props.key,style:baseStyle},React.createElement("span",{className:"glyphicon glyphicon-exclamation-sign",style:{marginRight:"5px"}})):React.createElement("div",{key:this.props.key,style:baseStyle},React.createElement("div",{style:{color:"#111",textShadow:"0px 1px 0px #fff",paddingLeft:"5px",paddingRight:"5px",borderRadius:"3px",fontFamily:"helvetica"}},txt))}}]),HorizonValueOverlay}(React.Component),_export("default",HorizonValueOverlay)}}}),System.register("dvt/components/HiddenSettingsButton.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,HiddenSettingsButton;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";HiddenSettingsButton=function(_React$Component){function HiddenSettingsButton(){_classCallCheck(this,HiddenSettingsButton),_get(Object.getPrototypeOf(HiddenSettingsButton.prototype),"constructor",this).call(this)}return _inherits(HiddenSettingsButton,_React$Component),_createClass(HiddenSettingsButton,[{key:"buttonBlurred",value:function(){this.props.horizonPopup.buttonBlurred()}},{key:"render",value:function(){return React.createElement("button",{ref:"settingsButton",style:{position:"fixed",left:"0",top:"0",width:"0",height:"0",border:"0",outline:"none",bacakgroundColor:"#fff",padding:"0"},onBlur:this.buttonBlurred.bind(this)})}}]),HiddenSettingsButton}(React.Component),_export("default",HiddenSettingsButton)}}}),System.register("dvt/components/HorizonOverlayUtils",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/utils/GeneralUtils"],function(_export){var _createClass,_classCallCheck,GeneralUtils,HorizonOverlayUtils;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtUtilsGeneralUtils){GeneralUtils=_dvtUtilsGeneralUtils["default"]}],execute:function(){"use strict";HorizonOverlayUtils=function(){function HorizonOverlayUtils(){_classCallCheck(this,HorizonOverlayUtils)}return _createClass(HorizonOverlayUtils,null,[{key:"loadIconImage",value:function(dpr){HorizonOverlayUtils.x_span_img=new Image,HorizonOverlayUtils.x_span_img_neg=new Image,2==dpr?(HorizonOverlayUtils.x_span_img.src="/x_span32.png",HorizonOverlayUtils.x_span_img_neg.src="/x_span32_neg.png"):(HorizonOverlayUtils.x_span_img.src="/x_span16.png",HorizonOverlayUtils.x_span_img_neg.src="/x_span16_neg.png")}},{key:"makeOverlayCanvas",value:function(width,height,dpr,textLineCssHeight){var textCtx=document.createElement("canvas").getContext("2d",{alpha:!1});textCtx.canvas.width=width,textCtx.canvas.height=height,textCtx.textAlign="left",textCtx.textBaseline="middle";var fSize=(textLineCssHeight-4)*dpr;return HorizonOverlayUtils.baseFont=fSize+"px Helvetica Neue,Helvetica,Arial,sans-serif",textCtx}},{key:"makeOverlayCanvases",value:function(dpr,textLineCssHeight){for(var result=[],i=6;12>=i;++i){var width=Math.pow(2,i);result.push(HorizonOverlayUtils.makeOverlayCanvas(width,textLineCssHeight*dpr-1,dpr,textLineCssHeight))}return result}},{key:"makeString_expanded",value:function(func,aggregationFunc,spec,labelVisibility,metricLabel,invertColors){var els=[];return aggregationFunc&&els.push({color:invertColors?"#ffffff":"#000000",text:"["+aggregationFunc+"] ",weight:"n",paddingRight:0}),func&&els.push({color:invertColors?"#ffffff":"#000000",text:"["+func+"] ",weight:"n",paddingRight:0}),GeneralUtils.ArrayContains(labelVisibility,metricLabel)&&(spec[metricLabel]?els.push({color:invertColors?"#ffffff":"#000000",text:spec[metricLabel],weight:"b",paddingRight:8}):els.push({color:invertColors?"#ffffff":"#000000",text:"[metric n/a]",weight:"b",paddingRight:8})),labelVisibility.forEach(function(k){k!==metricLabel&&(els.push({color:invertColors?"#ffffff":"#000000",text:k+"=",weight:"n",paddingRight:0}),els.push({color:invertColors?"#ffffff":"#000000",text:spec[k],weight:"b",paddingRight:8}))}),els}},{key:"makeString_compact",value:function(func,aggregationFunc,spec,labelVisibility,metricLabel,invertColors){var str="";aggregationFunc&&(str+="["+aggregationFunc+"] "),func&&(str+="["+func+"] ");var added=!1;GeneralUtils.ArrayContains(labelVisibility,metricLabel)&&(spec[metricLabel]?(added=!0,str+=spec[metricLabel]+" • "):str+="[metric n/a]  "),labelVisibility.forEach(function(k){k!==metricLabel&&(added=!0,str+=spec[k]+" • ")});var els=[];return els.push({color:invertColors?"#ffffff":"#000000",text:str.substr(0,str.length-(added?2:1)),weight:"n",paddingRight:0}),els}},{key:"makeString_custom",value:function(invertColors,overlayText){var els=[];return els.push({color:invertColors?"#ffffff":"#000000",text:overlayText,weight:"n",paddingRight:0}),els}},{key:"drawText",value:function(ctxs,series,metricLabel,includeButton_close,includeButton_settings,overlayTextType,overlayText,dpr,invertColors){var textElements=[],spec=series.IdentifiedBy_lvs,visibility=series.VisibleLabels;textElements="Custom"===overlayTextType?HorizonOverlayUtils.makeString_custom(invertColors,overlayText):"Labels & Values"===overlayTextType?HorizonOverlayUtils.makeString_expanded(series.QuerySpec.data.func,series.QuerySpec.data.aggregationFunc,spec,visibility,metricLabel,invertColors):HorizonOverlayUtils.makeString_compact(series.QuerySpec.data.func,series.QuerySpec.data.aggregationFunc,spec,visibility,metricLabel,invertColors);for(var textLen=0,ctx=ctxs[6],i=0;i<textElements.length;++i)ctx.font=("b"==textElements[i].weight?"bold ":"")+HorizonOverlayUtils.baseFont,textLen+=Math.ceil(ctx.measureText(textElements[i].text).width)+textElements[i].paddingRight*dpr;var buttonLen=0;buttonLen+=includeButton_close?16*dpr:0,buttonLen+=includeButton_settings?16*dpr:0;var len=textLen+buttonLen+7*dpr,idx=Math.ceil(Math.log(len)/Math.log(2));6>idx&&(idx=6),idx>12&&(idx=12),ctx=ctxs[idx-6];var col="#ffffff";invertColors&&(col="#000000"),ctx.fillStyle=col,ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height);for(var currentLoc=0,j=0;j<textElements.length;++j)ctx.fillStyle=textElements[j].color,ctx.font=("b"==textElements[j].weight?"bold ":"")+HorizonOverlayUtils.baseFont,ctx.fillText(textElements[j].text,buttonLen+5*dpr+1+currentLoc,ctx.canvas.height/2-1),currentLoc+=Math.ceil(ctx.measureText(textElements[j].text).width)+textElements[j].paddingRight*dpr;return includeButton_close&&includeButton_settings?invertColors?ctx.drawImage(HorizonOverlayUtils.x_span_img_neg,3*dpr,0):ctx.drawImage(HorizonOverlayUtils.x_span_img,3*dpr,0):!includeButton_close&&includeButton_settings&&(invertColors?ctx.drawImage(HorizonOverlayUtils.x_span_img_neg,16*dpr,0,16*dpr,16*dpr,3*dpr,0,16*dpr,16*dpr):ctx.drawImage(HorizonOverlayUtils.x_span_img,16*dpr,0,16*dpr,16*dpr,3*dpr,0,16*dpr,16*dpr)),ctx.fillStyle="#ff0000",ctx.fillRect(0,0,dpr,dpr),ctx.fillRect(0,ctx.canvas.height-dpr-1,dpr,ctx.canvas.height-1),ctx.fillRect(len-dpr,0,len,dpr),ctx.fillRect(len-dpr,ctx.canvas.height-dpr-1,len,ctx.canvas.height-1),ctx.fillRect(0,ctx.canvas.height-1,len,ctx.canvas.height-1),{context:ctx,overlayLength:len}}},{key:"makeTextTexture",value:function(ctxs,series,metricLabel,includeButton_close,includeButton_settings,overlayStyle,overlayTextType,overlayText,dpr,gl){var t=HorizonOverlayUtils.drawText(ctxs,series,metricLabel,includeButton_close,includeButton_settings,overlayTextType,overlayText,dpr,"Transparent"===overlayStyle),textTex=gl.createTexture();return gl.bindTexture(gl.TEXTURE_2D,textTex),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGB,gl.RGB,gl.UNSIGNED_BYTE,t.context.canvas),{texture:textTex,width:t.context.canvas.width,overlayLength:t.overlayLength}}}]),HorizonOverlayUtils}(),_export("default",HorizonOverlayUtils)}}}),System.register("dvt/components/HorizonGroupHeaderUtils",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/components/HorizonOverlayUtils"],function(_export){var _createClass,_classCallCheck,HorizonOverlayUtils,HorizonGroupHeaderUtils;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtComponentsHorizonOverlayUtils){HorizonOverlayUtils=_dvtComponentsHorizonOverlayUtils["default"]}],execute:function(){"use strict";HorizonGroupHeaderUtils=function(){function HorizonGroupHeaderUtils(){_classCallCheck(this,HorizonGroupHeaderUtils)}return _createClass(HorizonGroupHeaderUtils,null,[{key:"makeCanvas",value:function(width_pixels,height_pixels,dpr){var textCtx=document.createElement("canvas").getContext("2d",{alpha:!1});textCtx.canvas.width=width_pixels,textCtx.canvas.height=height_pixels,textCtx.textAlign="left",textCtx.textBaseline="middle",HorizonGroupHeaderUtils.topOffsetCssPixels=14;var fSize_pixels=(height_pixels/dpr-HorizonGroupHeaderUtils.topOffsetCssPixels)*dpr;return HorizonGroupHeaderUtils.baseFont="bold "+fSize_pixels+"px Helvetica Neue,Helvetica,Arial,sans-serif",textCtx}},{key:"drawText",value:function(ctx,name,includeButton_close,includeButton_settings,dpr){var backgroundCol="#ffffff",foregroundCol="#000000",buttonLen=0;buttonLen+=includeButton_close?16*dpr:0,buttonLen+=includeButton_settings?16*dpr:0,ctx.fillStyle=backgroundCol,ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height),ctx.font=HorizonGroupHeaderUtils.baseFont,ctx.fillStyle=foregroundCol,ctx.fillText(name,buttonLen+5*dpr+1,(ctx.canvas.height-HorizonGroupHeaderUtils.topOffsetCssPixels*dpr)/2+(HorizonGroupHeaderUtils.topOffsetCssPixels-4)*dpr);var totalLen=Math.ceil(ctx.measureText(name).width)+buttonLen+7*dpr;return includeButton_close&&includeButton_settings?ctx.drawImage(HorizonOverlayUtils.x_span_img,3*dpr,12*dpr):!includeButton_close&&includeButton_settings&&ctx.drawImage(HorizonOverlayUtils.x_span_img,16*dpr,0,16*dpr,16*dpr,3*dpr,12*dpr,16*dpr,16*dpr),{context:ctx,length:totalLen}}},{key:"makeTextTexture",value:function(ctx,name,includeButton_close,includeButton_settings,dpr,gl){var t=HorizonGroupHeaderUtils.drawText(ctx,name,includeButton_close,includeButton_settings,dpr),textTex=gl.createTexture();return gl.bindTexture(gl.TEXTURE_2D,textTex),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGB,gl.RGB,gl.UNSIGNED_BYTE,t.context.canvas),{texture:textTex,length:t.length}}}]),HorizonGroupHeaderUtils}(),_export("default",HorizonGroupHeaderUtils)}}}),System.register("dvt/components/LicenseInformation.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,LicenseInformation;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";LicenseInformation=function(_React$Component){function LicenseInformation(props){_classCallCheck(this,LicenseInformation),_get(Object.getPrototypeOf(LicenseInformation.prototype),"constructor",this).call(this,props)}return _inherits(LicenseInformation,_React$Component),_createClass(LicenseInformation,[{key:"close",value:function(){AppActions.toggleLicenseInformation()}},{key:"render",value:function(){return this.props.visible?React.createElement("div",{style:{width:"100%",height:"100%",zIndex:"5000",position:"fixed",left:"0",top:"0"}},React.createElement("div",{style:{opacity:"0.5",backgroundColor:"#000",width:"100%",height:"100%",position:"absolute"}}),React.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",paddingTop:"40px"}},React.createElement("div",{className:"panel panel-default",style:{width:"650px",marginLeft:"auto",marginRight:"auto",top:"0"}},React.createElement("div",{className:"panel-body",style:{position:"relative"}},React.createElement("div",{style:{position:"absolute",right:"10px",top:"10px",cursor:"pointer"},onClick:this.close.bind(this)},React.createElement("span",{className:"glyphicon glyphicon-remove",style:{fontSize:"14px"}})),React.createElement("h3",{style:{marginBottom:"28px",marginTop:"13px"}},"License Information"),React.createElement("pre",null,React.createElement("tt",null,"datavstime timeseries visualization software",React.createElement("br",null),"Copyright (C) 2014-2015 Matt Howlett (",React.createElement("a",{href:"https://www.matthowlett.com"},"www.matthowlett.com"),")",React.createElement("br",null))),React.createElement("div",{style:{marginBottom:"30px"}}),React.createElement("div",{style:{"float":"right"}},React.createElement("button",{className:"btn btn-default",onClick:this.close.bind(this)},"OK")))))):null}}]),LicenseInformation}(React.Component),_export("default",LicenseInformation)}}}),System.register("dvt/components/SettingsModalContent.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/map","npm:babel-runtime@5.8.20/core-js/object/assign","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions","dvt/stores/Store_Pages","dvt/stores/Store_Source"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Map,_Object$assign,React,ReactDOM,AppActions,Store_Pages,Store_Source,SettingsModalContent;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsMap){_Map=_npmBabelRuntime5820CoreJsMap["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]}],execute:function(){"use strict";SettingsModalContent=function(_React$Component){function SettingsModalContent(props){_classCallCheck(this,SettingsModalContent),_get(Object.getPrototypeOf(SettingsModalContent.prototype),"constructor",this).call(this,props),this.profilesCopy=Store_Source.getProfilesCopy(),this.templateProfile={Name:"New Profile",Adapter:"Prometheus",Host:"http://",Timeout:5e3,ServerLag:5e3,ResponseLag:3e3,MaxRequests:32,changesMade:!0};var ap=Store_Source.getActiveProfileCopy();this.state={Key:ap.Key,Name:ap.Name,Host:ap.Host,Adapter:ap.Adapter,ResponseLag:ap.ResponseLag,ServerLag:ap.ServerLag,Timeout:ap.Timeout,MaxRequests:ap.MaxRequests,adapterDropdownVisible:!1,changesMade:!1}}return _inherits(SettingsModalContent,_React$Component),_createClass(SettingsModalContent,[{key:"findUnusedKey",value:function(){for(var key=1,found=!0;found;){found=!1;for(var i=0;i<this.profilesCopy.length;++i)if(this.profilesCopy[i].Key==key){found=!0,key+=1;break}}return key}},{key:"close",value:function(){AppActions.toggleGlobalSettings()}},{key:"tabChange",value:function(tabName,event){AppActions.setVisibleSettingsTab(tabName),event.preventDefault()}},{key:"maxRequestsValueChanged",value:function(e){this.setState({MaxRequests:e.currentTarget.value,changesMade:!0})}},{key:"proxyNameValueChanged",value:function(e){this.setState({Name:e.currentTarget.value,changesMade:!0});for(var i=0;i<this.profilesCopy.length;++i)this.profilesCopy[i].Key==this.state.Key&&(this.profilesCopy[i].Name=e.currentTarget.value)}},{key:"proxyHostValueChanged",value:function(e){this.setState({Host:e.currentTarget.value,changesMade:!0})}},{key:"responseLagValueChanged",value:function(e){this.setState({ResponseLag:e.currentTarget.value,changesMade:!0})}},{key:"serverLagValueChanged",value:function(e){this.setState({ServerLag:e.currentTarget.value,changesMade:!0})}},{key:"timeoutValueChanged",value:function(e){this.setState({Timeout:e.currentTarget.value,changesMade:!0})}},{key:"adapterDropdownButtonClicked",value:function(){this.setState({adapterDropdownVisible:!this.state.adapterDropdownVisible})}},{key:"adapterDropdownButtonBlurred",value:function(){this.setState({adapterDropdownVisible:!1})}},{key:"adapterSelectionMouseDown",value:function(s){this.setState({Adapter:s,changesMade:!0}),this.setState({adapterDropdownVisible:!this.state.adapterDropdownVisible})}},{key:"changeProfile",value:function(profileKey){for(var i=0;i<this.profilesCopy.length;++i)this.profilesCopy[i].Key===this.state.Key&&(this.profilesCopy[i].Host=this.state.Host,this.profilesCopy[i].Name=this.state.Name,this.profilesCopy[i].Adapter=this.state.Adapter,this.profilesCopy[i].ResponseLag=this.state.ResponseLag,this.profilesCopy[i].ServerLag=this.state.ServerLag,this.profilesCopy[i].Timeout=this.state.Timeout,this.profilesCopy[i].MaxRequests=this.state.MaxRequests,this.profilesCopy[i].changesMade=this.state.changesMade);for(var i=0;i<this.profilesCopy.length;++i)if(this.profilesCopy[i].Key==profileKey){var ap=this.profilesCopy[i];this.profilesCopy[i].hasOwnProperty("changesMade")||(ap.changesMade=!1),this.setState({Name:ap.Name,Host:ap.Host,Adapter:ap.Adapter,ResponseLag:ap.ResponseLag,ServerLag:ap.ServerLag,Timeout:ap.Timeout,MaxRequests:ap.MaxRequests,Key:profileKey,changesMade:ap.changesMade});break}}},{key:"setAsActive",value:function(){AppActions.setVisibleSidebarTab("labels"),"Proxy"===this.state.Adapter?AppActions.setPagesTabVisibility(!0):AppActions.setPagesTabVisibility(!1),AppActions.removeAllFilterLabels(),AppActions.setLabelsAndValuesAndCounts(new _Map),AppActions.activateSource(this.state.Key),setTimeout(function(){Store_Pages.loadUserPages()},0),AppActions.toggleGlobalSettings()}},{key:"save",value:function(){for(var i=0;i<this.profilesCopy.length;++i)if(this.profilesCopy[i].Key===this.state.Key){this.profilesCopy[i].Host=this.state.Host,this.profilesCopy[i].Name=this.state.Name,this.profilesCopy[i].Adapter=this.state.Adapter,this.profilesCopy[i].ResponseLag=this.state.ResponseLag,this.profilesCopy[i].ServerLag=this.state.ServerLag,this.profilesCopy[i].MaxRequests=this.state.MaxRequests,this.profilesCopy[i].Timeout=this.state.Timeout,AppActions.saveSourceProfile(this.profilesCopy[i]),this.profilesCopy[i].changesMade=!1,this.setState({changesMade:!1}),this.props.activeProfileKey==this.state.Key&&this.setAsActive();break}}},{key:"addNewSource",value:function(){var newProfile=_Object$assign({Key:this.findUnusedKey()},this.templateProfile);this.profilesCopy.push(newProfile),this.changeProfile(newProfile.Key)}},{key:"removeCurrentSource",value:function(){for(var i=0;i<this.profilesCopy.length;++i)if(this.profilesCopy[i].Key===this.state.Key){this.profilesCopy.splice(i,1);break}AppActions.removeSourceProfile(this.state.Key),this.changeProfile(0)}},{key:"render",value:function(){var _this=this,dataClassName="proxy"==this.props.visibleTab?"active":"",exportClassName="export"==this.props.visibleTab?"active":"";return this.props.visible?React.createElement("div",{style:{width:"100%",height:"100%",zIndex:"5000",position:"fixed",left:"0",top:"0"}},React.createElement("div",{style:{opacity:"0.7",backgroundColor:"#ccc",width:"100%",height:"100%",position:"absolute"}}),React.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",paddingTop:"16px"}},React.createElement("div",{className:"panel panel-default",style:{width:"510px",marginLeft:"auto",marginRight:"auto",top:"0"}},React.createElement("div",{className:"panel-body",style:{position:"relative",padding:"20px"}},React.createElement("div",{style:{position:"absolute",right:"20px",top:"15px",cursor:"pointer"},onClick:this.close.bind(this)},React.createElement("span",{className:"glyphicon glyphicon-remove",style:{fontSize:"14px"}})),React.createElement("h3",{style:{marginBottom:"24px",marginTop:"13px"}},"Global Settings"),React.createElement("ul",{className:"nav nav-tabs","data-tabs":"tabs"},React.createElement("li",{role:"presentation",className:dataClassName},React.createElement("a",{style:{padding:"5px 10px",fontSize:"12px"},href:"#",onClick:this.tabChange.bind(this,"proxy")},"Sources")),React.createElement("li",{role:"presentation",className:exportClassName},React.createElement("a",{style:{padding:"5px 10px",fontSize:"12px"},href:"#",onClick:this.tabChange.bind(this,"export")},"Export"))),"proxy"==this.props.visibleTab?React.createElement("div",{style:{marginTop:"15px"}},React.createElement("div",{style:{display:"table",width:"100%"}},React.createElement("div",{style:{display:"table-row"}},React.createElement("div",{style:{display:"table-cell",width:"185px"}},React.createElement("div",{style:{fontSize:"small",color:"#888",marginBottom:"1px",marginLeft:"1px"}},"Profile"),React.createElement("div",{style:{borderRadius:"2px",border:"solid 1px #ccc",marginRight:"25px",height:"266px",width:"185px",padding:"4px 0px",fontSize:"12px"}},this.profilesCopy.map(function(el,i){return React.createElement("div",{key:i,className:"rowhover",style:{padding:"2px 6px",cursor:"pointer",backgroundColor:_this.state.Key==el.Key?"#e8e8e8":"#fff"},onClick:_this.changeProfile.bind(_this,el.Key)},el.Name," ",_this.state.changesMade&&el.Key==_this.state.Key||el.changesMade?"*":"",el.Key==_this.props.activeProfileKey?React.createElement("div",{style:{"float":"right"}},React.createElement("span",{className:"glyphicon glyphicon-eye-open"})):null)})),React.createElement("div",{style:{"float":"right",marginTop:"17px",marginRight:"25px"}},React.createElement("button",{ref:"newButton",className:"btn btn-default",style:{outline:"none",display:"inline-block",padding:"0px 5px 0px 4px",border:"none"},onClick:this.addNewSource.bind(this)},React.createElement("span",{style:{fontSize:"13px",verticalAlign:"1px"},className:"glyphicon glyphicon-plus"})),React.createElement("button",{ref:"deleteButton",className:"btn btn-default",style:{outline:"none",display:"inline-block",padding:"0px 5px 0px 4px",border:"none"},onClick:this.removeCurrentSource.bind(this),disabled:0==this.state.Key},React.createElement("span",{style:{fontSize:"13px",verticalAlign:"1px"},className:"glyphicon glyphicon-trash"})))),React.createElement("div",{style:{display:"table-cell",width:"265px"}},React.createElement("div",{style:{marginBottom:"10px",verticalAlign:"middle"}},React.createElement("div",{style:{fontSize:"small",color:"#888",marginBottom:"1px",marginLeft:"1px"}},"Name"),React.createElement("input",{ref:"nameTextBox",style:{width:"260px"},type:"text",className:"form-control input-sm","aria-label":"...",value:this.state.Name,onChange:this.proxyNameValueChanged.bind(this),disabled:0==this.state.Key})),React.createElement("div",{style:{marginBottom:"10px",verticalAlign:"middle"}},React.createElement("div",{style:{fontSize:"small",color:"#888",marginBottom:"1px",marginLeft:"1px"}},"Host"),React.createElement("input",{ref:"hostTextBox",style:{width:"260px"},type:"text",className:"form-control input-sm","aria-label":"...",value:this.state.Host,onChange:this.proxyHostValueChanged.bind(this),disabled:0==this.state.Key})),React.createElement("div",{style:{marginTop:"10px"}},React.createElement("div",{style:{marginBottom:"10px",verticalAlign:"middle"}},React.createElement("div",{style:{fontSize:"small",color:"#888",marginBottom:"1px",marginLeft:"1px"}},"Adapter"),React.createElement("div",{style:{zIndex:"20",position:"relative"}},React.createElement("button",{className:"btn btn-default btn-sm",style:{width:"260px",display:"inline-block",backgroundColor:0===this.state.Key?"#eee":"#fff",opacity:"1.0"},onMouseDown:this.adapterDropdownButtonClicked.bind(this),onBlur:this.adapterDropdownButtonBlurred.bind(this),disabled:0===this.state.Key},React.createElement("div",{style:{position:"relative",textAlign:"left"}},this.state.Adapter," ",React.createElement("div",{style:{position:"absolute",right:"0",top:"0"}},React.createElement("span",{className:"caret"})))),this.state.adapterDropdownVisible?React.createElement("div",{className:"panelshadow",style:{position:"absolute",display:"block",left:"0px",top:"38px",width:"280px",border:"solid 1px #ccc",backgroundColor:"#fff",borderRadius:"2px",padding:"4px 0px"}},React.createElement("div",{className:"rowhover",style:{padding:"0px 4px"},onMouseDown:this.adapterSelectionMouseDown.bind(this,"Proxy")},"Proxy"),React.createElement("div",{className:"rowhover",style:{padding:"0px 4px"},onMouseDown:this.adapterSelectionMouseDown.bind(this,"Prometheus")},"Prometheus")):null))),React.createElement("div",null,React.createElement("div",{style:{marginBottom:"10px",verticalAlign:"middle",display:"inline-block",marginRight:"10px"}},React.createElement("div",{style:{fontSize:"small",color:"#888",marginBottom:"1px",marginLeft:"1px"}},"Server Lag"),React.createElement("div",{style:{width:"125px"}},React.createElement("div",{className:"input-group"},React.createElement("input",{type:"text",className:"form-control input-sm",value:this.state.ServerLag,onChange:this.serverLagValueChanged.bind(this),disabled:0==this.state.Key}),React.createElement("span",{className:"input-group-addon input-sm",style:{borderRadius:"2px"}},"ms")))),React.createElement("div",{style:{marginBottom:"10px",verticalAlign:"middle",display:"inline-block"}},React.createElement("div",{style:{fontSize:"small",color:"#888",marginBottom:"1px",marginLeft:"1px"}},"Response Lag"),React.createElement("div",{style:{width:"125px"}},React.createElement("div",{className:"input-group"},React.createElement("input",{type:"text",className:"form-control input-sm",value:this.state.ResponseLag,onChange:this.responseLagValueChanged.bind(this),disabled:0==this.state.Key}),React.createElement("span",{className:"input-group-addon input-sm",style:{borderRadius:"2px"}},"ms"))))),React.createElement("div",null,React.createElement("div",{style:{marginBottom:"10px",verticalAlign:"middle",display:"inline-block",marginRight:"10px"}},React.createElement("div",{style:{fontSize:"small",color:"#888",marginBottom:"1px",marginLeft:"1px"}},"Timeout"),React.createElement("div",{style:{width:"125px"}},React.createElement("div",{className:"input-group"},React.createElement("input",{type:"text",className:"form-control input-sm",value:this.state.Timeout,onChange:this.timeoutValueChanged.bind(this),disabled:0==this.state.Key}),React.createElement("span",{className:"input-group-addon input-sm",style:{borderRadius:"2px"}},"ms")))),React.createElement("div",{style:{marginBottom:"10px",verticalAlign:"middle",display:"inline-block"}},React.createElement("div",{style:{fontSize:"small",color:"#888",marginBottom:"1px",marginLeft:"1px"}},"Max Requests"),React.createElement("input",{ref:"maxRequestsTextBox",style:{width:"125px"},type:"text",className:"form-control input-sm","aria-label":"...",value:this.state.MaxRequests,onChange:this.maxRequestsValueChanged.bind(this),disabled:0==this.state.Key}))),React.createElement("div",{style:{"float":"right",marginBottom:"-10px",marginTop:"5px"}},React.createElement("button",{className:"btn btn-sm btn-default",style:{width:"95px",borderRadius:"2px",marginRight:"5px"},disabled:this.state.changesMade||this.state.Key==this.props.activeProfileKey,onClick:this.setAsActive.bind(this)},"Set as Active"),React.createElement("button",{className:"btn btn-sm btn-default",onClick:this.save.bind(this),style:{marginRight:"0px",width:"65px",borderRadius:"2px"},disabled:0==this.state.Key||!this.state.changesMade},"Save")))))):null,"export"==this.props.visibleTab?React.createElement("div",{style:{marginTop:"20px"}},null!=this.props.current?React.createElement("textarea",{rows:"15",style:{width:"100%"},value:Store_Pages.exportJSON(),readOnly:!0}):React.createElement("div",{style:{fontSize:"12px"}},"[no page selected]")):null,React.createElement("div",{style:{marginBottom:"20px"}}))))):null}}]),SettingsModalContent}(React.Component),_export("default",SettingsModalContent)}}}),System.register("dvt/components/SettingsModalButton.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,SettingsModalButton;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";SettingsModalButton=function(_React$Component){function SettingsModalButton(props){_classCallCheck(this,SettingsModalButton),_get(Object.getPrototypeOf(SettingsModalButton.prototype),"constructor",this).call(this,props)}return _inherits(SettingsModalButton,_React$Component),_createClass(SettingsModalButton,[{key:"clicked",value:function(){AppActions.toggleGlobalSettings()}},{key:"render",value:function(){return React.createElement("button",{
className:"btn btn-default",style:{outline:"none",color:"#222",border:"solid 0px #fff",padding:"2px 4px",marginBottom:"6px",fontSize:"16px"},onClick:this.clicked.bind(this)},React.createElement("span",{className:"glyphicon glyphicon-cog"}))}}]),SettingsModalButton}(React.Component),_export("default",SettingsModalButton)}}}),System.register("dvt/components/DeleteConfirmModal.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,DeleteConfirmModal;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";DeleteConfirmModal=function(_React$Component){function DeleteConfirmModal(props){_classCallCheck(this,DeleteConfirmModal),_get(Object.getPrototypeOf(DeleteConfirmModal.prototype),"constructor",this).call(this,props)}return _inherits(DeleteConfirmModal,_React$Component),_createClass(DeleteConfirmModal,[{key:"close",value:function(confirmed){AppActions.toggleConfirmDelete()}},{key:"handleYes",value:function(){AppActions.deletePage(null==this.props.name?this.props.current.Name:this.props.name),AppActions.toggleConfirmDelete()}},{key:"render",value:function(){if(!this.props.visible)return null;var name=null==this.props.name?this.props.current.Name:this.props.name;return React.createElement("div",{style:{width:"100%",height:"100%",zIndex:"5000",position:"fixed",left:"0",top:"0"}},React.createElement("div",{style:{opacity:"0.7",backgroundColor:"#ccc",width:"100%",height:"100%",position:"absolute"}}),React.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",paddingTop:"40px"}},React.createElement("div",{className:"panel panel-default",style:{width:"500px",marginLeft:"auto",marginRight:"auto",top:"0"}},React.createElement("div",{className:"panel-body",style:{position:"relative"}},React.createElement("div",{style:{position:"absolute",right:"10px",top:"10px",cursor:"pointer"},onClick:this.close.bind(this)},React.createElement("span",{className:"glyphicon glyphicon-remove",style:{fontSize:"14px"}})),React.createElement("center",null,React.createElement("p",{style:{marginTop:"20px",marginBottom:"20px"}},'This will remove the page "',name,'" permanently. Proceed?'),React.createElement("div",{style:{marginBottom:"10px"}},React.createElement("button",{className:"btn btn-default",onClick:this.handleYes.bind(this)},"Yes"),React.createElement("button",{className:"btn btn-primary",onClick:this.close.bind(this),style:{marginLeft:"10px"}},"No")))))))}}]),DeleteConfirmModal}(React.Component),_export("default",DeleteConfirmModal)}}}),System.register("dvt/components/IconBar.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/stores/Store_Interactions","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,Store_Interactions,AppActions,IconBar;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";IconBar=function(_React$Component){function IconBar(props){_classCallCheck(this,IconBar),_get(Object.getPrototypeOf(IconBar.prototype),"constructor",this).call(this,props)}return _inherits(IconBar,_React$Component),_createClass(IconBar,[{key:"fisheyeClick",value:function(){this.props.allstate.layout.inFisheyeMode||Store_Interactions.increment("enteredFisheyeMode"),this.props.allstate.layout.inFisheyeMode&&AppActions.setFisheyeFrozenLine(null),AppActions.setInFisheyeMode(!this.props.allstate.layout.inFisheyeMode),setTimeout(function(){AppActions.refreshOverlayData("__all__")},0),this.refs.fisheyeButton.blur()}},{key:"magnifySmaller",value:function(){Store_Interactions.increment("magnifyChanged"),AppActions.changeVerticalMagnify(-1),this.refs.magnifySmallerButton.blur()}},{key:"magnifyBigger",value:function(){Store_Interactions.increment("magnifyChanged"),AppActions.changeVerticalMagnify(1),this.refs.magnifyBiggerButton.blur()}},{key:"toggleRule",value:function(){AppActions.toggleRule()}},{key:"toggleHoverDetail",value:function(){AppActions.toggleHoverDetail()}},{key:"toggleMovement",value:function(){AppActions.toggleMovement()}},{key:"render",value:function(){return React.createElement("div",{style:{display:"inline-block",marginLeft:"2px"}},React.createElement("button",{ref:"magnifyBiggerButton",className:"btn btn-default",style:{outline:"none",display:"inline-block",padding:"0px 5px 0px 4px",border:"none",position:"relative",backgroundColor:"#fcfcfc"},onClick:this.magnifyBigger.bind(this)},React.createElement("span",{style:{fontSize:"10px",verticalAlign:"1px"},className:"glyphicon glyphicon-plus"}),this.props.allstate.layout.verticalMagnify>0?React.createElement("div",{style:{fontSize:"10px",position:"absolute",left:"12px",top:"11px"}},this.props.allstate.layout.verticalMagnify):null),React.createElement("button",{ref:"magnifySmallerButton",className:"btn btn-default",style:{outline:"none",display:"inline-block",padding:"0px 4px 0px 3px",border:"none",position:"relative",backgroundColor:"#fcfcfc"},onClick:this.magnifySmaller.bind(this)},React.createElement("span",{style:{fontSize:"10px",verticalAlign:"1px"},className:"glyphicon glyphicon-minus"}),this.props.allstate.layout.verticalMagnify<0?React.createElement("div",{style:{fontSize:"10px",position:"absolute",left:"12px",top:"11px"}},-this.props.allstate.layout.verticalMagnify):null),React.createElement("button",{ref:"fisheyeButton",className:"btn btn-default",style:{position:"relative",outline:"none",display:"inline-block",padding:"0px 5px 0px 4px",borderRadius:"2px",border:"none",backgroundColor:this.props.allstate.layout.inFisheyeMode?"#eeeeee":"#fcfcfc"},onClick:this.fisheyeClick.bind(this)},React.createElement("span",{style:{fontSize:"10px",verticalAlign:"1px"},className:"glyphicon glyphicon-search"}),null!=this.props.allstate.layout.fisheyeFrozenLine?React.createElement("div",{style:{fontSize:"7px",position:"absolute",left:"12px",top:"-2px",color:"#338"}},React.createElement("span",{className:"glyphicon glyphicon-lock"})):null),React.createElement("button",{ref:"showRuleButton",className:"btn btn-default",style:{outline:"none",display:"inline-block",padding:"0px 7px 0px 7px",verticalAlign:"-1px",border:"none",borderRadius:"2px",backgroundColor:this.props.allstate.layout.ruleEnabled?"#eeeeee":"#fcfcfc"},onClick:this.toggleRule.bind(this)},React.createElement("i",{style:{fontSize:"12px",verticalAlign:"1px"},className:"fa fa-info"})),React.createElement("button",{ref:"showDetailButton",className:"btn btn-default",style:{outline:"none",display:"inline-block",padding:"0px 3px 0px 3px",verticalAlign:"-1px",border:"none",borderRadius:"2px",backgroundColor:this.props.allstate.layout.hoverDetailEnabled?"#eeeeee":"#fcfcfc"},onClick:this.toggleHoverDetail.bind(this)},React.createElement("i",{style:{fontSize:"12px",verticalAlign:"1px"},className:"fa fa-list-alt"})),React.createElement("button",{ref:"movementButton",className:"btn btn-default",style:{outline:"none",display:"inline-block",padding:"0px 4px 0px 3px",verticalAlign:"-1px",border:"none",borderRadius:"2px",backgroundColor:this.props.allstate.layout.movementEnabled?"#eeeeee":"#fcfcfc"},onClick:this.toggleMovement.bind(this)},React.createElement("i",{style:{fontSize:"12px",verticalAlign:"1px"},className:"fa fa-arrows"})))}}]),IconBar}(React.Component),_export("default",IconBar)}}}),System.register("dvt/components/DataVsTimeTitle.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions","dvt/components/Axis.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/Horizon.jsx!github:floatdrop/plugin-jsx@1.1.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,Axis,Horizon,DataVsTimeTitle;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtComponentsAxisJsxGithubFloatdropPluginJsx110){Axis=_dvtComponentsAxisJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsHorizonJsxGithubFloatdropPluginJsx110){Horizon=_dvtComponentsHorizonJsxGithubFloatdropPluginJsx110["default"]}],execute:function(){"use strict";DataVsTimeTitle=function(_React$Component){function DataVsTimeTitle(){_classCallCheck(this,DataVsTimeTitle),_get(Object.getPrototypeOf(DataVsTimeTitle.prototype),"constructor",this).call(this)}return _inherits(DataVsTimeTitle,_React$Component),_createClass(DataVsTimeTitle,[{key:"render",value:function(){return React.createElement("a",{className:"titlelink",href:"/"},React.createElement("div",{style:{fontSize:"30px",marginTop:"20px",marginLeft:"14px",fontFamily:"'Open Sans', sans-serif",color:"#111",display:"inline-block"}},"data",React.createElement("span",{style:{color:"#36b"}},React.createElement("span",{style:{fontSize:"10px"}}," "),"vs",React.createElement("span",{style:{fontSize:"10px"}}," ")),"time",null))}}]),DataVsTimeTitle}(React.Component),_export("default",DataVsTimeTitle)}}}),System.register("dvt/components/NetworkStatus.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,NetworkStatus;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]}],execute:function(){"use strict";NetworkStatus=function(_React$Component){function NetworkStatus(props){_classCallCheck(this,NetworkStatus),_get(Object.getPrototypeOf(NetworkStatus.prototype),"constructor",this).call(this,props)}return _inherits(NetworkStatus,_React$Component),_createClass(NetworkStatus,[{key:"render",value:function(){return React.createElement("div",{style:{margin:"0 auto",width:"75%",textAlign:"center"}},this.props.status.map(function(el,i){return React.createElement("div",{key:el+"_"+i,style:{backgroundColor:"rgba(230,230,230,0.90)",padding:"1px",borderRadius:"3px",marginRight:"4px",display:"inline-block"}},React.createElement("div",{style:{backgroundColor:"#5b5b5b",borderRadius:"2px",padding:"4px 8px",display:"inline-block",color:"#f9f9f9"}},React.createElement("span",{style:{marginLeft:"5px",marginRight:"3px",fontSize:"12px"},className:"glyphicon glyphicon-refresh gly-spin"}),React.createElement("span",{style:{marginRight:"5px",marginLeft:"3px"}},el)))}))}}]),NetworkStatus}(React.Component),_export("default",NetworkStatus)}}}),System.register("dvt/components/HorizonConnectionError.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions","dvt/stores/Store_Source","dvt/stores/Store_Pages"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,Store_Source,Store_Pages,HorizonConnectionError;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]}],execute:function(){"use strict";HorizonConnectionError=function(_React$Component){function HorizonConnectionError(){_classCallCheck(this,HorizonConnectionError),_get(Object.getPrototypeOf(HorizonConnectionError.prototype),"constructor",this).call(this)}return _inherits(HorizonConnectionError,_React$Component),_createClass(HorizonConnectionError,[{key:"retryButtonClicked",value:function(){AppActions.activateSource(Store_Source.getActiveProfileKey()),Store_Pages.loadUserPages()}},{key:"render",value:function(){return React.createElement("div",{style:{margin:"30px auto",width:"75%",textAlign:"center"}},React.createElement("div",{style:{backgroundColor:"rgba(230,230,230,0.90)",padding:"1px",borderRadius:"3px",marginRight:"4px",display:"inline-block"}},React.createElement("div",{style:{backgroundColor:"#5b5b5b",borderRadius:"2px",padding:"4px 8px",display:"inline-block",color:"#f9f9f9"}},React.createElement("span",{style:{marginRight:"5px",marginLeft:"3px"}},"Error connecting to:   ",Store_Source.getActiveProfileCopy().Host),React.createElement("button",{className:"btn btn-default btn-small",style:{marginLeft:"10px",paddingTop:"3px",paddingBottom:"3px"},onClick:this.retryButtonClicked.bind(this)},"Retry"))))}}]),HorizonConnectionError}(React.Component),_export("default",HorizonConnectionError)}}}),System.register("dvt/components/UserButton.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,UserButton;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";UserButton=function(_React$Component){function UserButton(props){_classCallCheck(this,UserButton),_get(Object.getPrototypeOf(UserButton.prototype),"constructor",this).call(this,props),this.state={dropdownVisible:!1}}return _inherits(UserButton,_React$Component),_createClass(UserButton,[{key:"dropdownButtonClicked",value:function(){this.setState({dropdownVisible:!this.state.dropdownVisible}),ReactDOM.findDOMNode(this.refs.dropDownButton).focus()}},{key:"menuSelectionMouseDown",value:function(val){console.log(val),alert("not implemented yet")}},{key:"dropdownButtonBlurred",value:function(){this.setState({dropdownVisible:!1,isEditing:!1})}},{key:"licenseClicked",value:function(){AppActions.toggleLicenseInformation()}},{key:"loginClicked",value:function(event){event.preventDefault()}},{key:"render",value:function(){return React.createElement("div",{style:{display:"inline-block"}},React.createElement("div",{style:{position:"relative"}},React.createElement("button",{ref:"dropDownButton",className:"btn btn-default",style:{outline:"none",color:"#222",border:"solid 0px #fff",padding:"2px 4px",marginBottom:"6px",fontSize:"16px"},onBlur:this.dropdownButtonBlurred.bind(this),onClick:this.dropdownButtonClicked.bind(this)},React.createElement("span",{className:"glyphicon glyphicon-user"})),this.state.dropdownVisible?React.createElement("ul",{ref:"dropdown",className:"dropdown-menu dropdown-menu-right",style:{zIndex:"3000",display:"block",position:"absolute"}},React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.loginClicked.bind(this),style:{color:"#888"}},"Login")),React.createElement("li",null,React.createElement("a",{href:"#",onMouseDown:this.licenseClicked.bind(this)},"License Information"))):null))}}]),UserButton}(React.Component),_export("default",UserButton)}}}),System.register("dvt/components/LabelValuesList.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/array/from","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/stores/Store_Interactions","dvt/AppActions","dvt/stores/Store_Pages","dvt/stores/Store_Labels"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Array$from,React,ReactDOM,Store_Interactions,AppActions,Store_Pages,Store_Labels,LabelValuesList;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsArrayFrom){_Array$from=_npmBabelRuntime5820CoreJsArrayFrom["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]},function(_dvtStoresStore_Labels){Store_Labels=_dvtStoresStore_Labels["default"]}],execute:function(){"use strict";LabelValuesList=function(_React$Component){function LabelValuesList(props){_classCallCheck(this,LabelValuesList),_get(Object.getPrototypeOf(LabelValuesList.prototype),"constructor",this).call(this,props)}return _inherits(LabelValuesList,_React$Component),_createClass(LabelValuesList,[{key:"handleChange",value:function(selectedValue){Store_Interactions.increment("labelsFilterChanged"),this.props.aggregateEnabled&&Store_Interactions.increment("labelsFilterChanged_includeAggregateEnabled"),this.props.counterToRateEnabled&&Store_Interactions.increment("labelsFilterChanged_counterToRateEnabled"),AppActions.addFilterLabelValue(this.props.currentExpandedLabel,selectedValue)}},{key:"render",value:function(){var _this=this,filteredLabelValue=null,filterLabels=this.props.filterLabelValuePairs.map(function(a){return a.label});-1!=filterLabels.indexOf(this.props.currentExpandedLabel)&&(filteredLabelValue=this.props.filterLabelValuePairs.filter(function(a){return a.label==_this.props.currentExpandedLabel})[0].value);var vcs=this.props.expandedLabelValuesAndSeriesCounts;return React.createElement("div",null,_Array$from(vcs.keys()).map(function(labelValue,i){return React.createElement("div",{key:i,className:i%2==0?"rowhover roweven":"rowhover rowodd",onMouseDown:_this.handleChange.bind(_this,labelValue),style:{overflowX:"hidden",width:_this.props.width-13+"px",position:"relative",paddingLeft:"20px",cursor:"pointer"}},React.createElement("div",{style:{display:"inline-block",fontSize:"14px",whiteSpace:"nowrap",marginLeft:labelValue===filteredLabelValue?"12px":"0px",fontWeight:labelValue===filteredLabelValue?"bold":"normal"}},labelValue===filteredLabelValue?null:React.createElement("span",{className:"glyphicon glyphicon-stop",style:{color:"#444",fontSize:"6px",marginRight:"3px",verticalAlign:"2px"}}),labelValue,React.createElement("span",{style:{fontSize:"10px",marginLeft:"4px"}},"(",vcs.get(labelValue),")")),labelValue===filteredLabelValue?React.createElement("div",{style:{position:"absolute",left:"22px",top:"3px",cursor:"pointer"}},React.createElement("span",{className:"glyphicon glyphicon-stop",style:{color:"#222",fontSize:"11px",verticalAlign:"1px"}})):null)}))}}]),LabelValuesList}(React.Component),_export("default",LabelValuesList)}}}),System.register("dvt/components/SidebarContainer.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,SidebarContainer;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]}],execute:function(){"use strict";SidebarContainer=function(_React$Component){function SidebarContainer(props){_classCallCheck(this,SidebarContainer),_get(Object.getPrototypeOf(SidebarContainer.prototype),"constructor",this).call(this,props)}return _inherits(SidebarContainer,_React$Component),_createClass(SidebarContainer,[{key:"toggleVisibility",value:function(){}},{key:"render",value:function(){var pagesClassName="glyphicon glyphicon-chevron-down";return React.createElement("div",{style:{display:"table-cell",position:"relative"}},React.createElement("a",{href:"#",onClick:this.toggleVisibility.bind(this),className:"linktotext"},React.createElement("div",{style:{fontSize:"14px",padding:"2px 5px",backgroundColor:"#eee",borderRadius:"2px"}},this.props.title,React.createElement("div",{style:{"float":"right",fontSize:"11px",marginTop:"4px"}},React.createElement("span",{className:pagesClassName})))),React.createElement("div",{style:{position:"absolute",left:"-5px",bottom:"0px",top:"0px",right:"0px"}},this.props.children))}}]),SidebarContainer}(React.Component),_export("default",SidebarContainer)}}}),System.register("dvt/components/PageSelect.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/assign","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/stores/Store_Interactions","dvt/AppActions","dvt/stores/Store_Pages","dvt/stores/Store_SidebarLayout","dvt/components/ScrollArea.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/DragHandler"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$assign,React,ReactDOM,Store_Interactions,AppActions,Store_Pages,Store_SidebarLayout,ScrollArea,DragHandler,PageSelect;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]},function(_dvtStoresStore_SidebarLayout){Store_SidebarLayout=_dvtStoresStore_SidebarLayout["default"]},function(_dvtComponentsScrollAreaJsxGithubFloatdropPluginJsx110){ScrollArea=_dvtComponentsScrollAreaJsxGithubFloatdropPluginJsx110["default"]},function(_dvtDragHandler){DragHandler=_dvtDragHandler["default"]}],execute:function(){"use strict";PageSelect=function(_React$Component){function PageSelect(props){_classCallCheck(this,PageSelect),_get(Object.getPrototypeOf(PageSelect.prototype),"constructor",this).call(this,props),this.state={overName:null,mouseOverHeader:!1,editText:null}}return _inherits(PageSelect,_React$Component),_createClass(PageSelect,[{key:"componentDidMount",value:function(){DragHandler(this.refs.dragHandle,function(){return!0},function(){},function(e){},function(dx,dy,e){AppActions.changePanelHeight("pages",dy)},function(e){},function(){return"rowdrag"})}},{key:"handleNew",value:function(){AppActions.addNewPage()}},{key:"handleClick",value:function(name){Store_Interactions.increment("pageChanged"),AppActions.setPage(name),AppActions.switchTo("page"),AppActions.refreshOverlayData("__all__")}},{key:"handleCopy",value:function(){AppActions.copyCurrent()}},{key:"handleSave",value:function(){AppActions.saveCurrentPage()}},{key:"handleDelete",value:function(){AppActions.toggleConfirmDelete(null)}},{key:"removePage",value:function(name,e){AppActions.toggleConfirmDelete(name),e.preventDefault()}},{key:"handleShowHide",value:function(e){AppActions.togglePanelType("pages"),AppActions.refreshOverlayData("__all__")}},{key:"switchTo",value:function(){AppActions.switchTo("page"),AppActions.showPanelType("pages"),AppActions.refreshOverlayData("__all__")}},{key:"headerOver",value:function(){this.setState({mouseOverHeader:!0}),AppActions.setDragOverNewPage(!0)}},{key:"headerOut",value:function(){this.setState({mouseOverHeader:!1}),AppActions.setDragOverNewPage(!1)}},{key:"handleExpand",value:function(){AppActions.switchTo("page"),AppActions.showPanelOnly("pages")}},{key:"handleRename",value:function(){this.setState({editText:this.props.pages.current_page.Name});var that=this;setTimeout(function(){var tb=ReactDOM.findDOMNode(that.refs.renameBox);tb.focus(),tb.setSelectionRange(that.props.pages.current_page.Name.length,that.props.pages.current_page.Name.length)},0)}},{key:"handleMouseOver",value:function(name){this.setState({overName:name});for(var i=0;i<this.props.pages.user.length;++i)if(this.props.pages.user[i].Name===name){AppActions.setDragOverPage(name);break}}},{key:"handleMouseOut",value:function(name){this.setState({overName:null}),AppActions.setDragOverPage(null)}},{key:"textKeyDown",value:function(e){if(13===e.nativeEvent.keyCode){var tb=ReactDOM.findDOMNode(this.refs.renameBox);tb.blur()}}},{key:"textChanged",value:function(e){this.setState({editText:e.currentTarget.value})}},{key:"textBlurEvent",value:function(){AppActions.changePageName(this.props.pages.current_page.Name,this.state.editText),this.setState({editText:null})}},{key:"render",value:function(){var _this=this,isPage=this.props.pages.current_page===this.props.pages.current&&null!==this.props.pages.current_page,currentName=null;null!=this.props.pages.current_page&&(currentName=this.props.pages.current_page.Name);var saveEnabled=!1,deleteEnabled=!1,renameEnabled=!1,copyEnabled=!1;null!=this.props.pages.current&&(copyEnabled=!0,saveEnabled=!Store_Pages.currentIsInPredefined()&&this.props.pages.current.Changed&&isPage,deleteEnabled=!Store_Pages.currentIsInPredefined()&&isPage,renameEnabled=deleteEnabled&&isPage);var highlighted="page"===Store_Pages.currentSelectedPageType(),bgCol="#fcfcfc",headerBgCol=this.state.mouseOverHeader||highlighted?"#e3e3e3":"#f0f0f0",rowEvenClass="rowhover roweven",rowOddClass="rowhover rowodd",fontCol="#222",headerHeight=24,headerGap=3,footerHeight=8,saHeight=this.props.height-headerHeight-headerGap-footerHeight,visible="relative"===Store_SidebarLayout.getHeightType("pages"),arrowClassName="glyphicon glyphicon-triangle-bottom";return visible||(arrowClassName="glyphicon glyphicon-triangle-right"),this.props.dragOverNewPage&&(headerBgCol="#d8d8d8"),React.createElement("div",{style:{backgroundColor:bgCol,borderRadius:"2px",position:"relative"}},React.createElement("div",{style:{height:headerHeight+"px",paddingBottom:"2px",paddingTop:"2px",backgroundColor:headerBgCol,marginBottom:headerGap+"px",borderRadius:"2px"}},React.createElement("div",{style:{display:"table",width:"100%"}},React.createElement("div",{style:{display:"table-row"}},React.createElement("div",{style:{display:"table-cell",width:"100%",cursor:"pointer"},onMouseDown:this.switchTo.bind(this),onMouseOver:this.headerOver.bind(this),onMouseOut:this.headerOut.bind(this)},React.createElement("span",{style:{paddingLeft:"2px",fontWeight:highlighted?"bold":"normal",color:fontCol}},"Pages")),React.createElement("div",{style:{display:"table-cell",whiteSpace:"nowrap",paddingRight:"2px"}},React.createElement("button",{onClick:this.handleRename.bind(this),disabled:!renameEnabled,className:"btn btn-default",style:{backgroundColor:headerBgCol,marginLeft:"-2px",padding:"1px 3px 3px 4px",fontSize:"12px",border:"none",outline:"none"}},React.createElement("i",{className:"fa fa-pencil"})),React.createElement("button",{style:{backgroundColor:headerBgCol,marginLeft:"3px",padding:"1px 4px 3px 4px",fontSize:"12px",border:"none",outline:"none"},onClick:this.handleSave.bind(this),disabled:!saveEnabled,className:"btn btn-default"},React.createElement("i",{className:"fa fa-save"})),React.createElement("button",{style:{backgroundColor:headerBgCol,marginLeft:"3px",padding:"1px 4px 3px 4px",fontSize:"10px",border:"none",outline:"none"},onClick:this.handleCopy.bind(this),
disabled:!copyEnabled,className:"btn btn-default"},React.createElement("span",{className:"glyphicon glyphicon-duplicate"})),React.createElement("button",{style:{backgroundColor:headerBgCol,marginLeft:"2px",padding:"1px 4px 3px 4px",fontSize:"9px",border:"none",outline:"none"},onClick:this.handleNew.bind(this),className:"btn btn-default"},React.createElement("i",{className:"fa fa-file"})),React.createElement("button",{style:{backgroundColor:headerBgCol,marginLeft:"1px",padding:"1px 5px 3px 4px",fontSize:"10px",border:"none",outline:"none"},onClick:this.handleDelete.bind(this),disabled:!deleteEnabled,className:"btn btn-default"},React.createElement("span",{className:"glyphicon glyphicon-trash"})),React.createElement("button",{style:{backgroundColor:headerBgCol,marginLeft:"1px",padding:"1px 3px 3px 5px",fontSize:"12px",border:"none",outline:"none"},onClick:this.handleExpand.bind(this),className:"btn btn-default"},React.createElement("i",{className:"fa fa-sort"})),React.createElement("button",{style:{backgroundColor:headerBgCol,marginLeft:"2px",padding:"1px 3px 3px 3px",fontSize:"10px",border:"none",outline:"none"},onClick:this.handleShowHide.bind(this),className:"btn btn-default"},React.createElement("span",{className:arrowClassName})))))),visible?React.createElement(ScrollArea,{height:saHeight,width:this.props.width,bgCol:bgCol},React.createElement("div",{style:{paddingLeft:"0px",width:this.props.width-13+"px"}},this.props.pages.predefined.map(function(item,i){return React.createElement("div",{key:i,className:i%2==0?rowEvenClass:rowOddClass,style:{cursor:"pointer",fontWeight:highlighted&&item.Name===currentName?"bold":"normal"},onClick:_this.handleClick.bind(_this,item.Name)},item.Name," ",React.createElement("span",{className:"glyphicon glyphicon-lock",style:{color:"#444",fontSize:"8px",verticalAlign:"2px",marginLeft:"3px"}}),React.createElement("div",{style:{"float":"right",color:"#556",width:"9px",fontSize:"12px",marginTop:"2px"}}," "),item.Name===currentName?React.createElement("div",{style:{"float":"right",marginTop:"-2px"}},React.createElement("span",{className:"glyphicon glyphicon-eye-open",style:{fontSize:"12px",color:highlighted?"#666":"#aaa",marginRight:"0px",verticalAlign:"-2px"}})):null)}),this.props.pages.user.map(function(item,i){return React.createElement("div",{key:i,className:i%2==0?"rowhover roweven":"rowhover rowodd",style:_Object$assign({cursor:"pointer",position:"relative",color:fontCol,fontWeight:highlighted&&item.Name===currentName?"bold":"normal"},item.Name==_this.props.dragOverPage?{backgroundColor:"#eeeef4"}:{}),onClick:_this.handleClick.bind(_this,item.Name),onMouseOver:_this.handleMouseOver.bind(_this,item.Name),onMouseOut:_this.handleMouseOut.bind(_this,item.Name)},null!=_this.state.editText&&void 0!=_this.state.editText&&highlighted&&item.Name===currentName?React.createElement("input",{ref:"renameBox",style:{fontWeight:"normal",fontSize:"10px",height:"18px"},value:_this.state.editText,onChange:_this.textChanged.bind(_this),onBlur:_this.textBlurEvent.bind(_this),onKeyDown:_this.textKeyDown.bind(_this)}):React.createElement("div",{style:{position:"relative",overflow:"hidden"}},React.createElement("div",{style:{display:"inline-block",position:"absolute",left:"2px",top:"1px",cursor:"pointer"},onMouseDown:_this.removePage.bind(_this,item.Name)},React.createElement("span",{className:"glyphicon glyphicon-remove",style:{fontSize:"12px"}})),React.createElement("span",{style:{marginLeft:"18px",whiteSpace:"nowrap",overflow:"hidden"}},item.Name)),item.Changed||item.Name===currentName?React.createElement("div",{className:i%2==0?"roweven":"rowodd",style:_Object$assign({position:"absolute",color:highlighted?"#666":"#aaa",right:"0px",fontSize:"11px",top:"0px"},item.Name==_this.state.overName?{backgroundColor:"#eeeef4"}:{})},React.createElement("div",{style:{display:"inline-block",width:"6px"}}),item.Name==currentName?React.createElement("div",{className:"glyphicon glyphicon-eye-open",style:{display:"inline-block",height:"15px",verticalAlign:"-3px",marginRight:"4px"}}):null,item.Changed?React.createElement("div",{className:"glyphicon glyphicon-flash",style:{display:"inline-block",height:"15px",verticalAlign:"-3px",marginRight:"4px"}}):null):null)}))):null,React.createElement("div",{ref:"dragHandle",style:{display:visible?"block":"none",backgroundColor:"#fcfcfc",height:footerHeight+"px",cursor:"row-resize",borderTop:"solid 1px #f0f0f0"}}))}}]),PageSelect}(React.Component),_export("default",PageSelect)}}}),System.register("dvt/components/Legend.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,Legend;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]}],execute:function(){"use strict";Legend=function(_React$Component){function Legend(props){_classCallCheck(this,Legend),_get(Object.getPrototypeOf(Legend.prototype),"constructor",this).call(this,props)}return _inherits(Legend,_React$Component),_createClass(Legend,[{key:"render",value:function(){return React.createElement("div",{style:{backgroundColor:"#8080ff",height:"60px",borderRadius:"2px"}})}}]),Legend}(React.Component),_export("default",Legend)}}}),System.register("dvt/components/QueryEntry.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions","dvt/stores/Store_SidebarLayout","dvt/stores/Store_Pages"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,Store_SidebarLayout,Store_Pages,QueryEntry;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_SidebarLayout){Store_SidebarLayout=_dvtStoresStore_SidebarLayout["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]}],execute:function(){"use strict";QueryEntry=function(_React$Component){function QueryEntry(props){_classCallCheck(this,QueryEntry),_get(Object.getPrototypeOf(QueryEntry.prototype),"constructor",this).call(this,props),this.state={textAreaValue:"",mouseOverHeader:!1}}return _inherits(QueryEntry,_React$Component),_createClass(QueryEntry,[{key:"runButtonClicked",value:function(){AppActions.executeQuery(this.state.textAreaValue)}},{key:"handleShowHide",value:function(e){AppActions.togglePanelType("query"),AppActions.refreshOverlayData("__all__")}},{key:"switchTo",value:function(){AppActions.switchTo("query"),AppActions.showPanelType("query"),AppActions.refreshOverlayData("__all__")}},{key:"headerOver",value:function(){this.setState({mouseOverHeader:!0})}},{key:"headerOut",value:function(){this.setState({mouseOverHeader:!1})}},{key:"textAreaChanged",value:function(e){this.setState({textAreaValue:e.target.value})}},{key:"handleExpand",value:function(){AppActions.switchTo("query"),AppActions.showPanelOnly("query"),AppActions.refreshOverlayData("__all__")}},{key:"textKeyDown",value:function(e){13===e.nativeEvent.keyCode&&(AppActions.executeQuery(this.state.textAreaValue),e.preventDefault())}},{key:"render",value:function(){var highlighted="query"===Store_Pages.currentSelectedPageType(),bgCol=this.state.mouseOverHeader||highlighted?"#e3e3e3":"#f0f0f0",headerHeight=24,headerGap=3,footerHeight=8,visible=(this.props.height-headerHeight-headerGap-footerHeight,"relative"===Store_SidebarLayout.getHeightType("query")),arrowClassName="glyphicon glyphicon-triangle-bottom";return visible||(arrowClassName="glyphicon glyphicon-triangle-right"),React.createElement("div",null,React.createElement("div",{style:{height:headerHeight+"px",paddingBottom:"2px",paddingTop:"2px",backgroundColor:bgCol,marginBottom:headerGap+"px",borderRadius:"2px"}},React.createElement("div",{style:{display:"table"}},React.createElement("div",{style:{display:"table-row"}},React.createElement("div",{style:{display:"table-cell",width:"100%",cursor:"pointer"},onMouseDown:this.switchTo.bind(this),onMouseOver:this.headerOver.bind(this),onMouseOut:this.headerOut.bind(this)},React.createElement("span",{style:{paddingLeft:"2px",fontWeight:highlighted?"bold":"normal"}},"Query")),React.createElement("div",{style:{display:"table-cell",whiteSpace:"nowrap",paddingRight:"2px"}},React.createElement("button",{className:"btn btn-small btn-default",style:{marginBottom:"2px",fontSize:"10px",padding:"1px 4px 2px 4px",outline:"none"},onClick:this.runButtonClicked.bind(this)},"run"),React.createElement("button",{style:{backgroundColor:bgCol,marginLeft:"1px",padding:"1px 3px 3px 8px",fontSize:"12px",border:"none",outline:"none"},onClick:this.handleExpand.bind(this),className:"btn btn-default"},React.createElement("i",{className:"fa fa-sort"})),React.createElement("button",{style:{backgroundColor:bgCol,marginLeft:"2px",padding:"2px 3px",fontSize:"10px",border:"none",outline:"none"},className:"btn btn-default",onMouseDown:this.handleShowHide.bind(this)},React.createElement("span",{className:arrowClassName})))))),visible?React.createElement("div",{height:this.props.height-headerHeight-headerGap-footerHeight,width:this.props.width},React.createElement("textarea",{onChange:this.textAreaChanged.bind(this),value:this.state.textAreaValue,onKeyDown:this.textKeyDown.bind(this),style:{width:this.props.width+"px",height:this.props.height-headerHeight-headerGap-footerHeight+"px",border:"solid 1px #ddd",outline:"none"}})):null,React.createElement("div",{ref:"dragHandle",style:{display:visible?"block":"none",backgroundColor:"#fcfcfc",height:footerHeight+"px",cursor:"row-resize",borderTop:"solid 1px #f0f0f0"}}))}}]),QueryEntry}(React.Component),_export("default",QueryEntry)}}}),System.register("dvt/ResizeHandler",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/AppActions","dvt/stores/Store_Timeframe","dvt/stores/Store_Layout"],function(_export){var _createClass,_classCallCheck,AppActions,Store_Timeframe,Store_Layout,ResizeHandler;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]},function(_dvtStoresStore_Layout){Store_Layout=_dvtStoresStore_Layout["default"]}],execute:function(){"use strict";ResizeHandler=function(){function ResizeHandler(){_classCallCheck(this,ResizeHandler),window.addEventListener("resize",function(){AppActions.setWindowSize([window.innerWidth,window.innerHeight])})}return _createClass(ResizeHandler,null,[{key:"windowMounted",value:function(){AppActions.setWindowSize([window.innerWidth,window.innerHeight])}}]),ResizeHandler}(),_export("default",ResizeHandler)}}}),System.register("dvt/Timer_Animate",["npm:babel-runtime@5.8.20/helpers/class-call-check"],function(_export){var _classCallCheck,Timer_Animate;return{setters:[function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]}],execute:function(){"use strict";Timer_Animate=function Timer_Animate(){_classCallCheck(this,Timer_Animate)},_export("default",new Timer_Animate)}}}),System.register("dvt/stores/Store_Labels",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/map","npm:babel-runtime@5.8.20/core-js/array/from","dvt/AppDispatcher","github:jspm/nodelibs-events@0.1.1","dvt/utils/FindIndexOf","dvt/stores/Store_Pages"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Map,_Array$from,AppDispatcher,EventEmitter,FindIndexOf,Store_Pages,Store_Labels;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsMap){_Map=_npmBabelRuntime5820CoreJsMap["default"]},function(_npmBabelRuntime5820CoreJsArrayFrom){_Array$from=_npmBabelRuntime5820CoreJsArrayFrom["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]},function(_dvtUtilsFindIndexOf){FindIndexOf=_dvtUtilsFindIndexOf["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]}],execute:function(){"use strict";Store_Labels=function(_EventEmitter){function Store_Labels(){_classCallCheck(this,Store_Labels),_get(Object.getPrototypeOf(Store_Labels.prototype),"constructor",this).call(this),this._global_labels=[],this._global_labelValuesAndSeriesCounts=new _Map,this._global_labelValueCounts=new _Map,this._transient_labelValuesAndSeriesCounts=null,this._transient_labelValueCounts=null,this._current_expandedLabel=null,this._current_filterLabelValues=[],this._current_initialFilterLabelValue=null,this._aggregateOnLoad=!0,this._counterToRate=!1,this.dispatchToken=this.registerDispatcherCallback()}return _inherits(Store_Labels,_EventEmitter),_createClass(Store_Labels,[{key:"getCounterToRateFlag",value:function(){return this._counterToRate}},{key:"getAggregateOnLoadFlag",value:function(){return this._aggregateOnLoad}},{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(payload.action){case"labels:aggregateOnLoad":this._aggregateOnLoad=payload.data;break;case"labels:counterToRate":this._counterToRate=payload.data;break;case"labels:setGlobalLabelsAndValuesAndCounts":this.setLabelsAndValuesAndCounts(payload.data);break;case"labels:setCurrentExpandedLabelName":this._current_expandedLabel=payload.data;break;case"labels:addFilterLabelValue":this.addFilterLabelValue(payload.data.label,payload.data.value);break;case"labels:removeFilterLabel":this.removeFilterLabel(payload.data);break;case"labels:removeAllFilterLabels":this._current_filterLabelValues=[],this._current_initialFilterLabelValue=null,Store_Pages.clearCurrentAndTransient();break;default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"setTransientCounts",value:function(labelCounts,labelValuesAndSeriesCounts){this._transient_labelValueCounts=labelCounts,this._transient_labelValuesAndSeriesCounts=labelValuesAndSeriesCounts}},{key:"getAllLabelNames",value:function(){return this._global_labels}},{key:"getGlobalLabelValuesAndSeriesCounts",value:function(){return this._global_labelValuesAndSeriesCounts}},{key:"getCurrentLabelValuesAndSeriesCounts",value:function(){if(null===this._current_expandedLabel)return[];if(null==this._transient_labelValuesAndSeriesCounts)return this._global_labelValuesAndSeriesCounts.get(this._current_expandedLabel);var rv=this._transient_labelValuesAndSeriesCounts.get(this._current_expandedLabel);return rv}},{key:"getCurrentExpandedLabel",value:function(){return this._current_expandedLabel}},{key:"getLabelChildCounts",value:function(){return null==this._transient_labelValueCounts?this._global_labelValueCounts:this._transient_labelValueCounts}},{key:"getFilterLabelValuePairs",value:function(){return this._current_filterLabelValues}},{key:"removeFilterLabel",value:function(label){if(1==this._current_filterLabelValues.length)return this._current_filterLabelValues=[],this._current_initialFilterLabelValue=null,void Store_Pages.clearCurrentAndTransient();for(var i=0;i<this._current_filterLabelValues.length;++i)if(this._current_filterLabelValues[i].label===label){this._current_filterLabelValues.splice(i,1);break}return this._current_initialFilterLabelValue.label!==label?void Store_Pages.reconstructSeriesSubsetFromInitial():void(0!=this._current_filterLabelValues.length&&Store_Pages.retrieveNewSeriesSet(this._current_filterLabelValues[i].label,this._current_filterLabelValues[i].value))}},{key:"addFilterLabelValue",value:function(label,value){if(this._current_expandedLabel=null,-1==this._current_filterLabelValues.map(function(a){return a.label}).indexOf(label))this._current_filterLabelValues.push({label:label,value:value}),1==this._current_filterLabelValues.length?(this._current_initialFilterLabelValue={label:label,value:value},Store_Pages.retrieveNewSeriesSet(label,value)):Store_Pages.filterTransient(label,value);else if(this._current_initialFilterLabelValue.label===label)this._current_initialFilterLabelValue.value!==value&&(this._current_filterLabelValues=[{label:label,value:value}],Store_Pages.retrieveNewSeriesSet(label,value));else{for(var i=0;i<this._current_filterLabelValues.length;++i)if(this._current_filterLabelValues[i].label==label){this._current_filterLabelValues[i].value=value;break}Store_Pages.reconstructSeriesSubsetFromInitial()}}},{key:"setLabelsAndValuesAndCounts",value:function(data){this._global_labels=_Array$from(data.keys()),this._global_labelValuesAndSeriesCounts=data,this._global_labelValueCounts=new _Map,this._global_labels.forEach(function(k){this._global_labelValueCounts.set(k,data.get(k).size)}.bind(this))}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_Labels}(EventEmitter),_export("default",new Store_Labels)}}}),System.register("dvt/components/TimeframeCommon.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions","dvt/components/TimeframeUndo.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/TimeframePresetSelect.jsx!github:floatdrop/plugin-jsx@1.1.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,TimeframeUndo,TimeframePresetSelect,TimeframeCommon;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtComponentsTimeframeUndoJsxGithubFloatdropPluginJsx110){TimeframeUndo=_dvtComponentsTimeframeUndoJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsTimeframePresetSelectJsxGithubFloatdropPluginJsx110){TimeframePresetSelect=_dvtComponentsTimeframePresetSelectJsxGithubFloatdropPluginJsx110["default"]}],execute:function(){"use strict";TimeframeCommon=function(_React$Component){function TimeframeCommon(props){_classCallCheck(this,TimeframeCommon),_get(Object.getPrototypeOf(TimeframeCommon.prototype),"constructor",this).call(this,props)}return _inherits(TimeframeCommon,_React$Component),_createClass(TimeframeCommon,[{key:"render",value:function(){return React.createElement("div",{style:{display:"inline-block",verticalAlign:"top"}},React.createElement(TimeframePresetSelect,{timeframeDisplayType:this.props.timeframe.displayType}))}}]),TimeframeCommon}(React.Component),_export("default",TimeframeCommon)}}}),System.register("dvt/components/Axes.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/components/Axis.jsx!github:floatdrop/plugin-jsx@1.1.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,Axis,Axes;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtComponentsAxisJsxGithubFloatdropPluginJsx110){Axis=_dvtComponentsAxisJsxGithubFloatdropPluginJsx110["default"]}],execute:function(){"use strict";Axes=function(_React$Component){function Axes(props){_classCallCheck(this,Axes),_get(Object.getPrototypeOf(Axes.prototype),"constructor",this).call(this,props)}return _inherits(Axes,_React$Component),_createClass(Axes,[{key:"updateForNewRuleLocation",value:function(location){for(var i=0;i<this.props.columnSpecs.length;++i)this.refs["axis"+i].updateForNewRuleLocation(location)}},{key:"render",value:function(){var _this=this;return React.createElement("div",{className:"axesouter"},this.props.columnSpecs.map(function(spec,i){return React.createElement(Axis,{key:i,ref:"axis"+i,timeframe:_this.props.timeframe,width:spec[1]-spec[0],left:spec[0],ruleEnabled:_this.props.ruleEnabled})}))}}]),Axes}(React.Component),_export("default",Axes)}}}),System.register("dvt/components/ArrangePopover.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/map","npm:babel-runtime@5.8.20/core-js/object/get-own-property-names","npm:babel-runtime@5.8.20/core-js/object/assign","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/stores/Store_Pages","dvt/stores/Store_Source","dvt/AppActions","dvt/utils/Series","dvt/components/ScrollArea.jsx!github:floatdrop/plugin-jsx@1.1.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Map,_Object$getOwnPropertyNames,_Object$assign,React,ReactDOM,Store_Pages,Store_Source,AppActions,Series,ScrollArea,ArrangePopover;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsMap){_Map=_npmBabelRuntime5820CoreJsMap["default"]},function(_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames){_Object$getOwnPropertyNames=_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtUtilsSeries){Series=_dvtUtilsSeries["default"]},function(_dvtComponentsScrollAreaJsxGithubFloatdropPluginJsx110){ScrollArea=_dvtComponentsScrollAreaJsxGithubFloatdropPluginJsx110["default"]}],execute:function(){"use strict";ArrangePopover=function(_React$Component){function ArrangePopover(props){_classCallCheck(this,ArrangePopover),_get(Object.getPrototypeOf(ArrangePopover.prototype),"constructor",this).call(this,props),this.state={functionPopupOpen:!1}}return _inherits(ArrangePopover,_React$Component),_createClass(ArrangePopover,[{key:"changeColumnCount",value:function(nColumns){AppActions.setNumberOfColumns(nColumns),this.props.popupInstance.preventClose()}},{key:"groupPage",value:function(dimensionName,nGroups){var totalGroups=nGroups[0]+(nGroups[1]?1:0);AppActions.groupCurrentPageBy(dimensionName,totalGroups),AppActions.refreshOverlayData("__all__"),this.props.popupInstance.preventClose()}},{key:"orderBy",value:function(dimensionName,groupKey){AppActions.orderSeriesBy(dimensionName,groupKey),this.props.popupInstance.preventClose()}},{key:"orderByData",value:function(groupKey){for(var setter=function(el){var max=0,key=el.IdentifiedBy_string+"~~~"+el.QuerySpec.serialized,dta=this.props.horizonInstance.data[key],vs=dta.seriesData.data();if(!vs)return void(el.TempValue=NaN);for(var j=0;j<vs.length;++j)Math.abs(vs[j])>max&&(max=Math.abs(vs[j]));el.TempValue=max}.bind(this),cols=this.props.allstate.pages.current.Columns,i=0;i<cols.length;++i)for(var j=0;j<cols[i].length;++j)if("Series"===cols[i][j].ElementType)setter(cols[i][j]);else{if("Group"!==cols[i][j].ElementType)throw new Error("unknown elementType");for(var k=0;k<cols[i][j].Children.length;++k)setter(cols[i][j].Children[k])}AppActions.orderSeriesByTempValue(groupKey);for(var i=0;i<cols.length;++i)for(var j=0;j<cols[i].length;++j)if("Series"===cols[i][j].ElementType)delete cols[i][j].TempValue;else{if("Group"!==cols[i][j].ElementType)throw new Error("unknown elementType");for(var k=0;k<cols[i][j].Children.length;++k)delete cols[i][j].Children[k].TempValue}this.props.popupInstance.preventClose()}},{key:"allVisibleClicked",value:function(dimNames){for(var i=0;i<dimNames.length;++i)AppActions.setLabelVisibility(dimNames[i],this.props.lineSpec?this.props.lineSpec.Key:null,"y");AppActions.refreshOverlayData(this.props.lineSpec?this.props.lineSpec.Key:"__all__"),this.props.popupInstance.preventClose()}},{key:"toggleVisibility",value:function(dimensionName,status){"p"==status?AppActions.setLabelVisibility(dimensionName,this.props.lineSpec?this.props.lineSpec.Key:null,"y"):AppActions.toggleLabelVisibility(dimensionName,this.props.lineSpec?this.props.lineSpec.Key:null),AppActions.refreshOverlayData(this.props.lineSpec?this.props.lineSpec.Key:"__all__"),this.props.popupInstance.preventClose()}},{key:"ungroupClicked",value:function(){AppActions.ungroupCurrentPage(),AppActions.refreshOverlayData("__all__"),this.props.popupInstance.preventClose()}},{key:"counterToRate",value:function(){for(var metricName=Store_Source.getActiveAdapter().getMetricLabelName(),counterMetrics=new _Map,monoFunc=function(el){var key=el.IdentifiedBy_string+"~~~"+el.QuerySpec.serialized,query=this.props.horizonInstance.data[key].seriesData.query;if(query.querySpec.isSimple()){var dta=this.props.horizonInstance.data[key].seriesData.data();return dta&&Series.detectMonotonicIncreasing(dta)?(AppActions.makeMonotonic(el.IdentifiedBy_string),!0):!1}}.bind(this),forceFunc=function(el){var key=el.IdentifiedBy_string+"~~~"+el.QuerySpec.serialized,dat=this.props.horizonInstance.data[key];if(dat){var query=dat.seriesData.query;query.querySpec.isSimple()&&AppActions.makeMonotonic(el.IdentifiedBy_string)}}.bind(this),cols=this.props.allstate.pages.current.Columns,i=0;i<cols.length;++i)for(var j=0;j<cols[i].length;++j)if("Series"===cols[i][j].ElementType){if(counterMetrics.get(cols[i][j].IdentifiedBy_lvs[metricName]))continue;monoFunc(cols[i][j])&&counterMetrics.set(cols[i][j].IdentifiedBy_lvs[metricName],!0)}else{if("Group"!==cols[i][j].ElementType)throw new Error("unknown elementType");for(var k=0;k<cols[i][j].Children.length;++k)counterMetrics.get(cols[i][j].Children[k].IdentifiedBy_lvs[metricName])||monoFunc(cols[i][j].Children[k])&&counterMetrics.set(cols[i][j].Children[k].IdentifiedBy_lvs[metricName],!0)}for(var i=0;i<cols.length;++i)for(var j=0;j<cols[i].length;++j)if("Series"===cols[i][j].ElementType)counterMetrics.get(cols[i][j].IdentifiedBy_lvs[metricName])&&forceFunc(cols[i][j]);else{if("Group"!==cols[i][j].ElementType)throw new Error("unknown elementType");for(var k=0;k<cols[i][j].Children.length;++k)counterMetrics.get(cols[i][j].Children[k].IdentifiedBy_lvs[metricName])&&forceFunc(cols[i][j].Children[k])}this.props.popupInstance.preventClose()}},{key:"mouseDownSelectFunction",value:function(aggregateFunc){return null==aggregateFunc?(this.setState({functionPopupOpen:!this.state.functionPopupOpen}),void this.props.popupInstance.preventClose()):void AppActions.aggregateGroup(null==this.props.lineSpec?null:this.props.lineSpec.Key,aggregateFunc,this.props.groupFunction,null==this.props.lineSpec?Store_Pages.calculateCurrentPageGlobalFunctionParamValue():Store_Pages.calculateGroupFunctionParamValue(this.props.lineSpec))}},{key:"mouseDownToggleShowFunctionMenu",value:function(){this.setState({functionPopupOpen:!this.state.functionPopupOpen}),this.props.popupInstance.preventClose()}},{key:"expand",value:function(lineSpec){AppActions.expandAggregated(lineSpec.Key)}},{key:"expandAllAggregates",value:function(){AppActions.expandAggregated(null)}},{key:"render",value:function(){var _this=this,nColumns=0,dimsInfo={},dimNames=[];if(null==this.props.lineSpec)dimsInfo=Store_Pages.computeDimensionInfo(null),dimNames=_Object$getOwnPropertyNames(dimsInfo),this.props.allstate.pages.current&&(nColumns=this.props.allstate.pages.current.Columns.length);else if("Group"===this.props.lineSpec.ElementType)dimsInfo=Store_Pages.computeDimensionInfo(this.props.lineSpec),dimNames=_Object$getOwnPropertyNames(dimsInfo);else if("Series"===this.props.lineSpec.ElementType){dimNames=_Object$getOwnPropertyNames(this.props.lineSpec.IdentifiedBy_lvs);for(var i=0;i<dimNames.length;++i){for(var found=!1,j=0;j<this.props.lineSpec.VisibleLabels.length;++j)if(this.props.lineSpec.VisibleLabels[j]==dimNames[i]){found=!0,dimsInfo[dimNames[i]]=[0,!1,"y"];break}found||(dimsInfo[dimNames[i]]=[0,!1,"n"])}}var box_s={display:"inline-block",border:"solid 1px #ddd",padding:"0px 3px",marginRight:"3px",borderRadius:"2px",fontSize:"10px",color:"#aaa"},box_s_no=_Object$assign({backgroundColor:"#f8d0d9"},box_s),box_s_yes=_Object$assign({backgroundColor:"#d0f8d9"},box_s),box_s_part=_Object$assign({backgroundColor:"#d0d0d0"},box_s),enableAggregate=(_Object$assign({opacity:"0",cursor:"default"},box_s),!1);return null!=this.props.lineSpec&&"Group"===this.props.lineSpec.ElementType&&(enableAggregate=Store_Pages.canAggregateGroup(this.props.lineSpec)),
React.createElement("div",{style:{width:"195px",display:"inline-block"}},this.props.lineSpec?null:React.createElement("div",{style:{width:"135px",display:"inline-block",verticalAlign:"top"}},React.createElement("div",{style:{marginBottom:"6px",height:"43px",marginTop:"0px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"# Columns")),React.createElement("div",null,React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"6px",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px",backgroundColor:1==nColumns?"#eee":"#fff"},onMouseDown:this.changeColumnCount.bind(this,1)},"1"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"6px",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px",backgroundColor:2==nColumns?"#eee":"#fff"},onMouseDown:this.changeColumnCount.bind(this,2)},"2"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"6px",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px",backgroundColor:3==nColumns?"#eee":"#fff"},onMouseDown:this.changeColumnCount.bind(this,3)},"3"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"5px",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px",backgroundColor:4==nColumns?"#eee":"#fff"},onMouseDown:this.changeColumnCount.bind(this,4)},"4"),React.createElement("button",{className:"btn btn-default btn-xs",style:{backgroundColor:5==nColumns?"#eee":"#fff",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px"},onMouseDown:this.changeColumnCount.bind(this,5)},"5")))),React.createElement("div",{style:{marginBottom:"4px",marginLeft:"0px"}},null==this.props.lineSpec?React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"4px",marginTop:"4px"},onMouseDown:this.expandAllAggregates.bind(this)},"expand aggregates"):null,null!=this.props.lineSpec&&"Series"===this.props.lineSpec.ElementType&&this.props.lineSpec.QuerySpec.isAggregation()?React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"4px",marginTop:"4px"},onMouseDown:this.expand.bind(this,this.props.lineSpec)},"expand"):null,null==this.props.lineSpec||null!=this.props.lineSpec&&"Group"===this.props.lineSpec.ElementType?React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"4px",marginTop:"4px"},onMouseDown:this.orderByData.bind(this,this.props.lineSpec?this.props.lineSpec.Key:null)},"↑↓ data"):null,null==this.props.lineSpec?React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"4px",marginTop:"4px"},onMouseDown:this.ungroupClicked.bind(this)},"ungroup"):null,null==this.props.lineSpec||"Group"==this.props.lineSpec.ElementType?React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"4px",marginTop:"4px"},onMouseDown:this.counterToRate.bind(this)},"counter → rate"):null,null==this.props.lineSpec||null!=this.props.lineSpec&&"Group"===this.props.lineSpec.ElementType?React.createElement("div",{style:{marginBottom:"8px",height:"43px",marginTop:"6px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Aggregation Function")),React.createElement("button",{className:"btn btn-default btn-sm",style:{width:"126px",display:"inline-block"},onMouseDown:this.mouseDownToggleShowFunctionMenu.bind(this)},React.createElement("div",{style:{textAlign:"left"}},React.createElement("div",{style:{"float":"left"}},"[none]"),React.createElement("div",{style:{"float":"right"}},React.createElement("span",{className:"caret"})))),this.state.functionPopupOpen?React.createElement("div",{className:"panelshadow",style:{position:"absolute",display:"block",left:"15px",top:88+(null==this.props.lineSpec?75:0)+"px",width:"126px",border:"solid 1px #ccc",backgroundColor:"#fff",borderRadius:"2px",padding:"4px 0px",zIndex:"3000"}},React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer"},onMouseDown:this.mouseDownSelectFunction.bind(this,null)},"[none]"),Store_Source.getActiveAdapter().availableAggregationFunctions().map(function(f,i){return React.createElement("div",{key:i,className:"rowhover",style:{padding:"0px 4px",cursor:"pointer"},onMouseDown:_this.mouseDownSelectFunction.bind(_this,f)},f)})):null):null,React.createElement("div",{style:{fontSize:"12px",marginTop:"10px"}},null==this.props.lineSpec?React.createElement("span",null,React.createElement("b",null,"G"),"roup by / "):null,null==this.props.lineSpec||"Group"===this.props.lineSpec.ElementType?React.createElement("span",null,React.createElement("b",null,"O"),"rder by / "):null,React.createElement("b",null,"V"),"isibility"),React.createElement("div",{style:{width:"175px",display:"inline-block",verticalAlign:"top",marginTop:"4px"}},dimNames.map(function(a,i){return React.createElement("div",{key:i,style:{whiteSpace:"nowrap",overflow:"hidden"}},null==_this.props.lineSpec?React.createElement("div",{style:box_s,className:"btn btn-default",onMouseDown:_this.groupPage.bind(_this,a,dimsInfo[a])},"G"):null,null==_this.props.lineSpec||null!=_this.props.lineSpec&&"Group"===_this.props.lineSpec.ElementType?React.createElement("div",{style:box_s,className:"btn btn-default",onMouseDown:_this.orderBy.bind(_this,a,_this.props.lineSpec?_this.props.lineSpec.Key:null)},"O"):null,React.createElement("div",{style:"n"==dimsInfo[a][2]?box_s_no:"y"==dimsInfo[a][2]?box_s_yes:box_s_part,className:"btn btn-default",onMouseDown:_this.toggleVisibility.bind(_this,a,dimsInfo[a][2])},"V"),React.createElement("span",{style:{marginLeft:"4px"}},a),null==_this.props.lineSpec||null!=_this.props.lineSpec&&"Group"===_this.props.lineSpec.ElementType?React.createElement("span",{style:{fontSize:"10px"}}," ("+dimsInfo[a][0]+(dimsInfo[a][1]?" +N/A":"")+")"):null)})),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"4px",marginTop:"4px"},onMouseDown:this.allVisibleClicked.bind(this,dimNames)},"all visible")))}}]),ArrangePopover}(React.Component),_export("default",ArrangePopover)}}}),System.register("dvt/components/GlobalLineSettings.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions","dvt/components/IconBar.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/HorizonPopup.jsx!github:floatdrop/plugin-jsx@1.1.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,IconBar,HorizonPopup,GlobalLineSettings;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtComponentsIconBarJsxGithubFloatdropPluginJsx110){IconBar=_dvtComponentsIconBarJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsHorizonPopupJsxGithubFloatdropPluginJsx110){HorizonPopup=_dvtComponentsHorizonPopupJsxGithubFloatdropPluginJsx110["default"]}],execute:function(){"use strict";GlobalLineSettings=function(_React$Component){function GlobalLineSettings(){_classCallCheck(this,GlobalLineSettings),_get(Object.getPrototypeOf(GlobalLineSettings.prototype),"constructor",this).call(this)}return _inherits(GlobalLineSettings,_React$Component),_createClass(GlobalLineSettings,[{key:"buttonBlurred",value:function(){this.refs.horizonPopup.buttonBlurred()}},{key:"buttonClicked",value:function(){this.refs.horizonPopup.buttonClickedGlobal()}},{key:"render",value:function(){var enableButtons=null!=this.props.allstate.pages.current&&this.props.allstate.pages.current.Columns&&this.props.allstate.pages.current.Columns.length>0,horizonInstance=this.props.horizonInstance;return React.createElement("div",{style:{width:(this.props.allstate.layout.sidebarHidden?183:75)+"px",height:"31px",position:"absolute",zIndex:"2",bottom:"1px"}},React.createElement("div",{style:{backgroundColor:"#fff",height:"31px",width:(this.props.allstate.layout.sidebarHidden?158:52)+"px",display:"inline-block"}},React.createElement("div",{style:{display:"inline-block",backgroundColor:"#fff",borderRadius:"2px",paddingLeft:"5px",marginTop:"4px",paddingRight:"0px",marginRight:"3px"}},React.createElement("button",{ref:"settingsButton",className:"btn btn-default",disabled:!enableButtons,style:{outline:"none",display:"inline-block",padding:"0px 3px 0px 3px",border:"none"},onBlur:this.buttonBlurred.bind(this),onClick:this.buttonClicked.bind(this)},React.createElement("span",{style:{fontSize:"10px",verticalAlign:"1px",marginLeft:"3px"},className:"glyphicon glyphicon-wrench"})),this.props.allstate.layout.sidebarHidden?React.createElement(IconBar,{allstate:this.props.allstate}):null,React.createElement("div",{style:{width:"1px",height:"14px",verticalAlign:"-4px",backgroundColor:"#eee",marginLeft:"6px",display:"inline-block"}})),React.createElement(HorizonPopup,{ref:"horizonPopup",allstate:this.props.allstate,horizonInstance:horizonInstance,lineSpec:null,buttonsInstance:this,isVisible:this.props.popupVisible,lineTop:0,pageHeight:1e3})),React.createElement("div",{className:"rgrad",style:{display:"inline-block",width:"16px",height:"22px"}}," "))}}]),GlobalLineSettings}(React.Component),_export("default",GlobalLineSettings)}}}),System.register("dvt/components/LabelsList.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/stores/Store_Interactions","dvt/stores/Store_SidebarLayout","dvt/stores/Store_Pages","dvt/components/ScrollArea.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/AppActions","dvt/components/LabelValuesList.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/DragHandler"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,Store_Interactions,Store_SidebarLayout,Store_Pages,ScrollArea,AppActions,LabelValuesList,DragHandler,LabelsList;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtStoresStore_SidebarLayout){Store_SidebarLayout=_dvtStoresStore_SidebarLayout["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]},function(_dvtComponentsScrollAreaJsxGithubFloatdropPluginJsx110){ScrollArea=_dvtComponentsScrollAreaJsxGithubFloatdropPluginJsx110["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtComponentsLabelValuesListJsxGithubFloatdropPluginJsx110){LabelValuesList=_dvtComponentsLabelValuesListJsxGithubFloatdropPluginJsx110["default"]},function(_dvtDragHandler){DragHandler=_dvtDragHandler["default"]}],execute:function(){"use strict";LabelsList=function(_React$Component){function LabelsList(props){_classCallCheck(this,LabelsList),_get(Object.getPrototypeOf(LabelsList.prototype),"constructor",this).call(this,props),this.state={counterChecked:props.counterToRate,settingsDropdownVisible:!1,closeOnBlur:!0,mouseOverHeader:!1}}return _inherits(LabelsList,_React$Component),_createClass(LabelsList,[{key:"componentDidMount",value:function(){DragHandler(this.refs.dragHandle,function(){return!0},function(){},function(e){},function(dx,dy,e){AppActions.changePanelHeight("labels",dy)},function(e){},function(){return"rowdrag"})}},{key:"handleChange",value:function(name){var currentFilterLabels=this.props.filterLabelValuePairs.map(function(k){return k.label});name===this.props.currentExpandedLabel||-1!=currentFilterLabels.indexOf(name)?AppActions.setCurrentExpandedLabelName(null):AppActions.setCurrentExpandedLabelName(name),AppActions.switchTo("transient"),AppActions.refreshOverlayData("__all__")}},{key:"removeFilter",value:function(value,event){Store_Interactions.increment("labelsFilterChanged"),this.state.aggregateChecked&&Store_Interactions.increment("labelsFilterChanged_includeAggregateEnabled"),this.state.counterChecked&&Store_Interactions.increment("labelsFilterChanged_counterToRateEnabled"),AppActions.removeFilterLabel(value),AppActions.switchTo("transient"),AppActions.refreshOverlayData("__all__"),event.preventDefault()}},{key:"counterClicked",value:function(){var ctr=!this.state.counterChecked;this.setState({counterChecked:ctr}),ReactDOM.findDOMNode(this.refs.settingsButton).focus(),AppActions.setCounterToRate(ctr)}},{key:"settingsClickHandler",value:function(){this.setState({settingsDropdownVisible:!this.state.settingsDropdownVisible})}},{key:"settingsBlurHandler",value:function(){this.state.closeOnBlur?this.setState({settingsDropdownVisible:!1}):this.setState({closeOnBlur:!0})}},{key:"preventClose",value:function(){this.setState({closeOnBlur:!1})}},{key:"handleShowHide",value:function(e){AppActions.togglePanelType("labels"),AppActions.refreshOverlayData("__all__")}},{key:"switchTo",value:function(){AppActions.switchTo("transient"),AppActions.showPanelType("labels"),AppActions.refreshOverlayData("__all__")}},{key:"headerOver",value:function(){this.setState({mouseOverHeader:!0})}},{key:"headerOut",value:function(){this.setState({mouseOverHeader:!1})}},{key:"handleExpand",value:function(){AppActions.switchTo("transient"),AppActions.showPanelOnly("labels"),AppActions.refreshOverlayData("__all__")}},{key:"render",value:function(){var _this=this,currentFilterLabels=this.props.filterLabelValuePairs.map(function(k){return k.label}),highlighted="transient"===Store_Pages.currentSelectedPageType(),headerBgCol=this.state.mouseOverHeader||highlighted?"#e3e3e3":"#f0f0f0",headerHeight=24,headerGap=3,footerHeight=8,saHeight=this.props.height-headerHeight-headerGap-footerHeight,visible="relative"===Store_SidebarLayout.getHeightType("labels"),arrowClassName="glyphicon glyphicon-triangle-bottom";return visible||(arrowClassName="glyphicon glyphicon-triangle-right"),React.createElement("div",{style:{position:"relative"}},React.createElement("div",{style:{height:headerHeight+"px",paddingTop:"2px",paddingBottom:"2px",marginBottom:headerGap+"px",backgroundColor:headerBgCol,position:"relative",borderRadius:"2px"}},React.createElement("div",{style:{display:"table",width:"100%"}},React.createElement("div",{style:{display:"table-row"}},React.createElement("div",{style:{display:"table-cell",width:"100%",cursor:"pointer"},onMouseDown:this.switchTo.bind(this),onMouseOver:this.headerOver.bind(this),onMouseOut:this.headerOut.bind(this)},React.createElement("span",{style:{marginLeft:"2px",fontWeight:highlighted?"bold":"normal"}},"Labels")),React.createElement("div",{style:{display:"table-cell",whiteSpace:"nowrap",paddingRight:"2px"}},React.createElement("button",{ref:"settingsButton",style:{backgroundColor:headerBgCol,marginLeft:"2px",padding:"0px 3px 2px 4px",fontSize:"11px",border:"none",outline:"none"},className:"btn btn-default",onClick:this.settingsClickHandler.bind(this),onBlur:this.settingsBlurHandler.bind(this)},React.createElement("i",{className:"fa fa-wrench"})),React.createElement("button",{style:{backgroundColor:headerBgCol,marginLeft:"1px",padding:"1px 3px 3px 5px",fontSize:"12px",border:"none",outline:"none"},onClick:this.handleExpand.bind(this),className:"btn btn-default"},React.createElement("i",{className:"fa fa-sort"})),React.createElement("button",{style:{backgroundColor:headerBgCol,marginLeft:"0px",padding:"2px 4px",fontSize:"10px",border:"none",outline:"none"},onMouseDown:this.handleShowHide.bind(this),className:"btn btn-default"},React.createElement("span",{className:arrowClassName})),React.createElement("div",{ref:"settingsDropdown",className:"dropdown-menu dropdown-menu-right toptick",role:"menu",style:{zIndex:"3000",marginTop:"8px",marginRight:"35px",padding:"10px",display:this.state.settingsDropdownVisible?"block":"none",fontSize:"smaller"}},React.createElement("div",null,React.createElement("input",{id:"counterCB",type:"checkbox",checked:this.state.counterChecked,onChange:this.counterClicked.bind(this),onMouseDown:this.preventClose.bind(this)}),React.createElement("label",{htmlFor:"counterCB",style:{fontWeight:"normal",marginBottom:"1px",marginLeft:"8px"},onMouseDown:this.preventClose.bind(this)},"auto counter → rate"))))))),visible?React.createElement(ScrollArea,{height:saHeight,width:this.props.width},React.createElement("div",{style:{width:this.props.width-13+"px"}},this.props.allLabelNames.map(function(labelName,i){return React.createElement("div",{key:i},React.createElement("div",{className:i%2==0?"rowhover roweven":"rowhover rowodd",onClick:_this.handleChange.bind(_this,labelName),style:{color:0==_this.props.allLabelChildCounts.get(labelName)?"#ccc":"#222",overflowX:"hidden",width:_this.props.width-13+"px",position:"relative",cursor:-1==currentFilterLabels.indexOf(labelName)?"pointer":null}},React.createElement("div",{style:{display:"inline-block",fontSize:"14px",whiteSpace:"nowrap",fontWeight:highlighted&&-1!=currentFilterLabels.indexOf(labelName)?"bold":"normal"}},React.createElement("span",{style:{fontSize:"11px",marginRight:"4px",marginLeft:"2px"},className:"glyphicon glyphicon-triangle-"+(_this.props.currentExpandedLabel==labelName?"bottom":"right")}),labelName,-1==currentFilterLabels.indexOf(labelName)?React.createElement("span",{style:{marginLeft:"4px",fontSize:"10px"}},"(",_this.props.allLabelChildCounts.get(labelName),")"):null),-1!=currentFilterLabels.indexOf(labelName)?React.createElement("a",{href:"#",style:{position:"absolute",right:"9px",top:"2px",cursor:"pointer"},onMouseDown:_this.removeFilter.bind(_this,labelName)},React.createElement("span",{className:"glyphicon glyphicon-filter",style:{marginRight:"-2px",color:highlighted?"#666":"#ccc",veticalAlign:"-2px"}})):null,-1==currentFilterLabels.indexOf(labelName)?null:React.createElement("div",{style:{width:"100%"}},React.createElement("div",{style:{"float":"right",fontSize:"10px",marginRight:"13px",color:highlighted?"#222":"#ccc"}},_this.props.filterLabelValuePairs.filter(function(a){return a.label==labelName})[0].value," ↵"))),_this.props.currentExpandedLabel==labelName&&-1==currentFilterLabels.indexOf(labelName)?React.createElement(LabelValuesList,{width:_this.props.width,filterLabelValuePairs:_this.props.filterLabelValuePairs,currentExpandedLabel:_this.props.currentExpandedLabel,expandedLabelValuesAndSeriesCounts:_this.props.expandedLabelValuesAndSeriesCounts,aggregateEnabled:_this.state.aggregateChecked,counterToRateEnabled:_this.state.counterChecked}):null)}))):null,React.createElement("div",{ref:"dragHandle",style:{display:visible?"block":"none",backgroundColor:"#fcfcfc",height:footerHeight+"px",borderTop:"solid 1px #f0f0f0",cursor:"row-resize"}}))}}]),LabelsList}(React.Component),_export("default",LabelsList)}}}),System.register("dvt/adapters/Adapter_Proxy",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/map","npm:babel-runtime@5.8.20/core-js/object/get-own-property-names","npm:babel-runtime@5.8.20/core-js/object/create","github:mbostock/d3@3.5.6","github:moment/moment@2.10.6","dvt/AppActions","dvt/utils/Network","dvt/utils/Series","dvt/utils/Query","dvt/utils/LabelSpec"],function(_export){var _createClass,_classCallCheck,_Map,_Object$getOwnPropertyNames,_Object$create,d3,moment,AppActions,Network,Series,Query,LabelSpec,Adapter_Proxy;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsMap){_Map=_npmBabelRuntime5820CoreJsMap["default"]},function(_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames){_Object$getOwnPropertyNames=_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames["default"]},function(_npmBabelRuntime5820CoreJsObjectCreate){_Object$create=_npmBabelRuntime5820CoreJsObjectCreate["default"]},function(_githubMbostockD3356){d3=_githubMbostockD3356["default"]},function(_githubMomentMoment2106){moment=_githubMomentMoment2106["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtUtilsNetwork){Network=_dvtUtilsNetwork["default"]},function(_dvtUtilsSeries){Series=_dvtUtilsSeries["default"]},function(_dvtUtilsQuery){Query=_dvtUtilsQuery["default"]},function(_dvtUtilsLabelSpec){LabelSpec=_dvtUtilsLabelSpec["default"]}],execute:function(){"use strict";Adapter_Proxy=function(){function Adapter_Proxy(){_classCallCheck(this,Adapter_Proxy)}return _createClass(Adapter_Proxy,[{key:"getMetricLabelName",value:function(){return"metric"}},{key:"availableFunctions",value:function(){return[]}},{key:"availableAggregationFunctions",value:function(){return[]}},{key:"executeDataQuery",value:function(querySpec,start,stop,step,dataCallback,noDataCallback,errorCallback){var interpretQuerySpec=function(qs){if(qs.data.manual)return qs.data.manual;var s=Adapter_Proxy.seriesSpecToString(qs.data.labelValues);return s},queryString=interpretQuerySpec(querySpec);step-Math.round(step)>1e-4&&console.log("WARNING: Adapter_Proxy: expecting integer step size. ("+step+")");var url=Adapter_Proxy.Host+"/api/v1/query?series="+queryString+"&start="+start.getTime()+"&stop="+stop.getTime()+"&step="+step;Network.getJson(url,5e3,function(data,error){if(error)return console.log("Network error: ",error),void errorCallback(error);if(!data)return void errorCallback("no data!");if(0==data.length)return void errorCallback("datalen == 0");for(var result={},i=0;i<data.length;++i){var metricString=LabelSpec.serialize(data[i].series);result[metricString]=data[i].values.map(function(a){return parseFloat(a)})}dataCallback(result)})}},{key:"getLabelAndValueSummary",value:function(callback){AppActions.summaryLoadError(!1);var netStatMessage="retrieving label and value summary";AppActions.addNetworkStatus(netStatMessage);var url=Adapter_Proxy.Host+"/api/v1/label-and-value-summary";Network.getJson(url,Adapter_Proxy.Timeout_ms,function(data,error){if(AppActions.removeNetworkStatus(netStatMessage),!data||error)return AppActions.summaryLoadError(!0),void callback(new _Map);var labels=new _Map,ks=_Object$getOwnPropertyNames(data);ks.sort(),ks.forEach(function(k){var v=data[k],m=new _Map,ks2=_Object$getOwnPropertyNames(v);ks2.sort(),ks2.forEach(function(k2){var v2=v[k2];m.set(k2,v2)}),labels.set(k,m)}),callback(labels)})}},{key:"getSeriesSet",value:function(setSpec,callback){var query=Adapter_Proxy.seriesSpecToString(setSpec),url=Adapter_Proxy.Host+"/api/v1/query?series="+query;Network.getJson(url,Adapter_Proxy.Timeout_ms,function(data,error){var errorResult={status:"networkError",errorType:"network",error:"getSeries: network error (timeout?)"};if(!data||error)return void callback(errorResult);for(var seriesSet=[],i=0;i<data.length;++i)seriesSet.push(data[i].series);callback(seriesSet)})}},{key:"getPredefinedPages",value:function(callback){var url=Adapter_Proxy.Host+"/api/v1/predefined-pages";Network.getJson(url,5e3,function(data,error){var errorResult=[];return!data||error?void callback(errorResult):void callback(data)})}}],[{key:"seriesSpecToString",value:function(spec){var result="",keys=_Object$getOwnPropertyNames(spec);return keys.sort(),keys.forEach(function(k){result+=k+":'"+spec[k]+"',"}),result="{"+result.substring(0,result.length-1)+"}"}},{key:"parseSpecString",value:function(s){var result=_Object$create(null);s=s.substr(1,s.length-2);for(var parts=s.split(","),i=0;i<parts.length;++i){var tokens=parts[i].split(":"),key=tokens[0],val=tokens[1].substr(1,tokens[1].length-2);result[key]=val}return result}}]),Adapter_Proxy}(),_export("default",Adapter_Proxy)}}}),System.register("dvt/components/DTPicker.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/keys","npm:react@0.14.0","npm:react-dom@0.14.0","github:moment/moment@2.10.6","npm:classnames@2.1.5"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$keys,React,ReactDOM,moment,classnames,Constants,Glyphicon,DateTimeField,DateTimePickerTime,DateTimePickerDays,DateTimePickerMonths,DateTimePickerYears,DateTimePickerDate,DateTimePicker;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectKeys){_Object$keys=_npmBabelRuntime5820CoreJsObjectKeys["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_githubMomentMoment2106){moment=_githubMomentMoment2106["default"]},function(_npmClassnames215){classnames=_npmClassnames215["default"]}],execute:function(){"use strict";Constants={MODE_DATE:"date",MODE_DATETIME:"datetime",MODE_TIME:"time"},_export("Constants",Constants),Glyphicon=function(_React$Component){function Glyphicon(props){_classCallCheck(this,Glyphicon),_get(Object.getPrototypeOf(Glyphicon.prototype),"constructor",this).call(this,props)}return _inherits(Glyphicon,_React$Component),_createClass(Glyphicon,[{key:"render",value:function(){return React.createElement("span",{className:"glyphicon glyphicon-cog"})}}]),Glyphicon}(React.Component),_export("Glyphicon",Glyphicon),DateTimeField=React.createClass({displayName:"DateTimeField",propTypes:{dateTime:React.PropTypes.string,onChange:React.PropTypes.func,format:React.PropTypes.string,inputProps:React.PropTypes.object,inputFormat:React.PropTypes.string,defaultText:React.PropTypes.string,mode:React.PropTypes.oneOf([Constants.MODE_DATE,Constants.MODE_DATETIME,Constants.MODE_TIME]),minDate:React.PropTypes.object,maxDate:React.PropTypes.object},getDefaultProps:function(){return{dateTime:moment().format("x"),format:"x",showToday:!0,viewMode:"days",daysOfWeekDisabled:[],mode:Constants.MODE_DATETIME,onChange:function(x){console.log(x)}}},getInitialState:function(){return{showDatePicker:this.props.mode!==Constants.MODE_TIME,showTimePicker:this.props.mode===Constants.MODE_TIME,inputFormat:this.resolvePropsInputFormat(),buttonIcon:this.props.mode===Constants.MODE_TIME?"time":"calendar",widgetStyle:{display:"block",position:"absolute",left:-9999,zIndex:"9999 !important"},viewDate:moment(this.props.dateTime,this.props.format,!0).startOf("month"),selectedDate:moment(this.props.dateTime,this.props.format,!0),inputValue:"undefined"!=typeof this.props.defaultText?this.props.defaultText:moment(this.props.dateTime,this.props.format,!0).format(this.resolvePropsInputFormat())}},componentWillReceiveProps:function(nextProps){return moment(nextProps.dateTime,nextProps.format,!0).isValid()?this.setState({viewDate:moment(nextProps.dateTime,nextProps.format,!0).startOf("month"),selectedDate:moment(nextProps.dateTime,nextProps.format,!0),inputValue:moment(nextProps.dateTime,nextProps.format,!0).format(nextProps.inputFormat)}):nextProps.inputFormat!==this.props.inputFormat?this.setState({inputFormat:nextProps.inputFormat}):void 0},resolvePropsInputFormat:function(){if(this.props.inputFormat)return this.props.inputFormat;switch(this.props.mode){case Constants.MODE_TIME:return"h:mm A";case Constants.MODE_DATE:return"MM/DD/YY";default:return"MM/DD/YY h:mm A"}},onChange:function(event){var value=null==event.target?event:event.target.value;return moment(value,this.state.inputFormat,!0).isValid()&&this.setState({selectedDate:moment(value,this.state.inputFormat,!0),viewDate:moment(value,this.state.inputFormat,!0).startOf("month")}),this.setState({inputValue:value},function(){return this.props.onChange(moment(this.state.inputValue,this.state.inputFormat,!0).format(this.props.format))})},setSelectedDate:function(e){var target=e.target;if(target.className&&!target.className.match(/disabled/g)){var month;return month=-1!=target.className.indexOf("new")?this.state.viewDate.month()+1:-1!=target.className.indexOf("old")?this.state.viewDate.month()-1:this.state.viewDate.month(),this.setState({selectedDate:this.state.viewDate.clone().month(month).date(parseInt(e.target.innerHTML)).hour(this.state.selectedDate.hours()).minute(this.state.selectedDate.minutes())},function(){return this.closePicker(),this.props.onChange(this.state.selectedDate.format(this.props.format)),this.setState({inputValue:this.state.selectedDate.format(this.state.inputFormat)})})}},setSelectedHour:function(e){return this.setState({selectedDate:this.state.selectedDate.clone().hour(parseInt(e.target.innerHTML)).minute(this.state.selectedDate.minutes())},function(){return this.closePicker(),this.props.onChange(this.state.selectedDate.format(this.props.format)),this.setState({inputValue:this.state.selectedDate.format(this.state.inputFormat)})})},setSelectedMinute:function(e){return this.setState({selectedDate:this.state.selectedDate.clone().hour(this.state.selectedDate.hours()).minute(parseInt(e.target.innerHTML))},function(){return this.closePicker(),this.props.onChange(this.state.selectedDate.format(this.props.format)),this.setState({inputValue:this.state.selectedDate.format(this.state.inputFormat)})})},setViewMonth:function(month){return this.setState({viewDate:this.state.viewDate.clone().month(month)})},setViewYear:function(year){return this.setState({viewDate:this.state.viewDate.clone().year(year)})},addMinute:function(){return this.setState({selectedDate:this.state.selectedDate.clone().add(1,"minutes")},function(){return this.props.onChange(this.state.selectedDate.format(this.props.format)),this.setState({inputValue:this.state.selectedDate.format(this.resolvePropsInputFormat())})})},addHour:function(){return this.setState({selectedDate:this.state.selectedDate.clone().add(1,"hours")},function(){return this.props.onChange(this.state.selectedDate.format(this.props.format)),this.setState({inputValue:this.state.selectedDate.format(this.resolvePropsInputFormat())})})},addMonth:function(){return this.setState({viewDate:this.state.viewDate.add(1,"months")})},addYear:function(){return this.setState({viewDate:this.state.viewDate.add(1,"years")})},addDecade:function(){return this.setState({viewDate:this.state.viewDate.add(10,"years")})},subtractMinute:function(){return this.setState({selectedDate:this.state.selectedDate.clone().subtract(1,"minutes")},function(){return this.props.onChange(this.state.selectedDate.format(this.props.format)),this.setState({inputValue:this.state.selectedDate.format(this.resolvePropsInputFormat())})})},subtractHour:function(){return this.setState({selectedDate:this.state.selectedDate.clone().subtract(1,"hours")},function(){return this.props.onChange(this.state.selectedDate.format(this.props.format)),
this.setState({inputValue:this.state.selectedDate.format(this.resolvePropsInputFormat())})})},subtractMonth:function(){return this.setState({viewDate:this.state.viewDate.subtract(1,"months")})},subtractYear:function(){return this.setState({viewDate:this.state.viewDate.subtract(1,"years")})},subtractDecade:function(){return this.setState({viewDate:this.state.viewDate.subtract(10,"years")})},togglePeriod:function(){return this.state.selectedDate.hour()>12?this.onChange(this.state.selectedDate.clone().subtract(12,"hours").format(this.state.inputFormat)):this.onChange(this.state.selectedDate.clone().add(12,"hours").format(this.state.inputFormat))},togglePicker:function(){return this.setState({showDatePicker:!this.state.showDatePicker,showTimePicker:!this.state.showTimePicker})},onClick:function(){var classes,gBCR,offset,placePosition,scrollTop,styles;return this.state.showPicker?this.closePicker():(this.setState({showPicker:!0}),gBCR=ReactDOM.findDOMNode(this.refs.dtpbutton).getBoundingClientRect(),classes={"bootstrap-datetimepicker-widget":!0,"dropdown-menu":!0},offset={top:gBCR.top+window.pageYOffset-document.documentElement.clientTop,left:gBCR.left+window.pageXOffset-document.documentElement.clientLeft},offset.top=offset.top+ReactDOM.findDOMNode(this.refs.datetimepicker).offsetHeight,scrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,placePosition="up"===this.props.direction?"top":"bottom"===this.props.direction?"bottom":"auto"===this.props.direction?offset.top+ReactDOM.findDOMNode(this.refs.widget).offsetHeight>window.offsetHeight+scrollTop&&this.refs.widget.offsetHeight+ReactDOM.findDOMNode(this.refs.datetimepicker).offsetHeight>offset.top?"top":"bottom":void 0,"top"===placePosition?(offset.top=-ReactDOM.findDOMNode(this.refs.widget).offsetHeight-ReactDOM.findDOMNode(this).clientHeight-2,classes.top=!0,classes.bottom=!1,classes["pull-right"]=!0):(offset.top=40,classes.top=!1,classes.bottom=!0,classes["pull-right"]=!0),styles={display:"block",position:"absolute",top:offset.top,left:"auto",right:40},this.setState({widgetStyle:styles,widgetClasses:classes}))},closePicker:function(e){var style;return style=this.state.widgetStyle,style.left=-9999,style.display="none",this.setState({showPicker:!1,widgetStyle:style})},renderOverlay:function(){var styles;return styles={position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:"999"},this.state.showPicker?React.createElement("div",{style:styles,onClick:this.closePicker}):React.createElement("span",null)},render:function(){return React.createElement("div",null,this.renderOverlay(),React.createElement(DateTimePicker,{ref:"widget",widgetClasses:this.state.widgetClasses,widgetStyle:this.state.widgetStyle,showDatePicker:this.state.showDatePicker,showTimePicker:this.state.showTimePicker,viewDate:this.state.viewDate,selectedDate:this.state.selectedDate,showToday:this.props.showToday,viewMode:this.props.viewMode,daysOfWeekDisabled:this.props.daysOfWeekDisabled,mode:this.props.mode,minDate:this.props.minDate,maxDate:this.props.maxDate,addDecade:this.addDecade,addYear:this.addYear,addMonth:this.addMonth,addHour:this.addHour,addMinute:this.addMinute,subtractDecade:this.subtractDecade,subtractYear:this.subtractYear,subtractMonth:this.subtractMonth,subtractHour:this.subtractHour,subtractMinute:this.subtractMinute,setViewYear:this.setViewYear,setViewMonth:this.setViewMonth,setSelectedDate:this.setSelectedDate,setSelectedHour:this.setSelectedHour,setSelectedMinute:this.setSelectedMinute,togglePicker:this.togglePicker,togglePeriod:this.togglePeriod}),React.createElement("div",{className:"input-group date",ref:"datetimepicker"},React.createElement("input",React.__spread({type:"text",className:"form-control",onChange:this.onChange,value:this.state.inputValue},this.props.inputProps)),React.createElement("span",{className:"input-group-addon",onClick:this.onClick,onBlur:this.onBlur,ref:"dtpbutton"},React.createElement(Glyphicon,{glyph:this.state.buttonIcon}))))}}),_export("DateTimeField",DateTimeField),DateTimePickerTime=React.createClass({displayName:"DateTimePickerTime",propTypes:{setSelectedHour:React.PropTypes.func.isRequired,setSelectedMinute:React.PropTypes.func.isRequired,subtractHour:React.PropTypes.func.isRequired,addHour:React.PropTypes.func.isRequired,subtractMinute:React.PropTypes.func.isRequired,addMinute:React.PropTypes.func.isRequired,viewDate:React.PropTypes.object.isRequired,selectedDate:React.PropTypes.object.isRequired,togglePeriod:React.PropTypes.func.isRequired,mode:React.PropTypes.oneOf([Constants.MODE_DATE,Constants.MODE_DATETIME,Constants.MODE_TIME])},getInitialState:function(){return{minutesDisplayed:!1,hoursDisplayed:!1}},goBack:function(){return this.setState({minutesDisplayed:!1,hoursDisplayed:!1})},showMinutes:function(){return this.setState({minutesDisplayed:!0})},showHours:function(){return this.setState({hoursDisplayed:!0})},renderMinutes:function(){return this.state.minutesDisplayed?React.createElement(DateTimePickerMinutes,React.__spread({},this.props,{onSwitch:this.goBack})):null},renderHours:function(){return this.state.hoursDisplayed?React.createElement(DateTimePickerHours,React.__spread({},this.props,{onSwitch:this.goBack})):null},renderPicker:function(){return this.state.minutesDisplayed||this.state.hoursDisplayed?"":React.createElement("div",{className:"timepicker-picker"},React.createElement("table",{className:"table-condensed"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("a",{className:"btn",onClick:this.props.addHour},React.createElement(Glyphicon,{glyph:"chevron-up"}))),React.createElement("td",{className:"separator"}),React.createElement("td",null,React.createElement("a",{className:"btn",onClick:this.props.addMinute},React.createElement(Glyphicon,{glyph:"chevron-up"}))),React.createElement("td",{className:"separator"})),React.createElement("tr",null,React.createElement("td",null,React.createElement("span",{className:"timepicker-hour",onClick:this.showHours},this.props.selectedDate.format("h"))),React.createElement("td",{className:"separator"},":"),React.createElement("td",null,React.createElement("span",{className:"timepicker-minute",onClick:this.showMinutes},this.props.selectedDate.format("mm"))),React.createElement("td",{className:"separator"}),React.createElement("td",null,React.createElement("button",{className:"btn btn-primary",onClick:this.props.togglePeriod,type:"button"},this.props.selectedDate.format("A")))),React.createElement("tr",null,React.createElement("td",null,React.createElement("a",{className:"btn",onClick:this.props.subtractHour},React.createElement(Glyphicon,{glyph:"chevron-down"}))),React.createElement("td",{className:"separator"}),React.createElement("td",null,React.createElement("a",{className:"btn",onClick:this.props.subtractMinute},React.createElement(Glyphicon,{glyph:"chevron-down"}))),React.createElement("td",{className:"separator"})))))},render:function(){return React.createElement("div",{className:"timepicker"},this.renderPicker(),this.renderHours(),this.renderMinutes())}}),_export("DateTimePickerTime",DateTimePickerTime),DateTimePickerDays=React.createClass({displayName:"DateTimePickerDays",propTypes:{subtractMonth:React.PropTypes.func.isRequired,addMonth:React.PropTypes.func.isRequired,viewDate:React.PropTypes.object.isRequired,selectedDate:React.PropTypes.object.isRequired,showToday:React.PropTypes.bool,daysOfWeekDisabled:React.PropTypes.array,setSelectedDate:React.PropTypes.func.isRequired,showMonths:React.PropTypes.func.isRequired,minDate:React.PropTypes.object,maxDate:React.PropTypes.object},getDefaultProps:function(){return{showToday:!0}},renderDays:function(){var cells,classes,days,html,i,month,nextMonth,prevMonth,minDate,maxDate,row,year,_i,_len,_ref;for(year=this.props.viewDate.year(),month=this.props.viewDate.month(),prevMonth=this.props.viewDate.clone().subtract(1,"months"),days=prevMonth.daysInMonth(),prevMonth.date(days).startOf("week"),nextMonth=moment(prevMonth).clone().add(42,"d"),minDate=this.props.minDate?this.props.minDate.clone().subtract(1,"days"):this.props.minDate,maxDate=this.props.maxDate?this.props.maxDate.clone():this.props.maxDate,html=[],cells=[];prevMonth.isBefore(nextMonth);){if(classes={day:!0},prevMonth.year()<year||prevMonth.year()===year&&prevMonth.month()<month?classes.old=!0:(prevMonth.year()>year||prevMonth.year()===year&&prevMonth.month()>month)&&(classes["new"]=!0),prevMonth.isSame(moment({y:this.props.selectedDate.year(),M:this.props.selectedDate.month(),d:this.props.selectedDate.date()}))&&(classes.active=!0),this.props.showToday&&prevMonth.isSame(moment(),"day")&&(classes.today=!0),(minDate&&prevMonth.isBefore(minDate)||maxDate&&prevMonth.isAfter(maxDate))&&(classes.disabled=!0),this.props.daysOfWeekDisabled)for(_ref=this.props.daysOfWeekDisabled,_i=0,_len=_ref.length;_len>_i;_i++)if(i=_ref[_i],prevMonth.day()===this.props.daysOfWeekDisabled[i]){classes.disabled=!0;break}cells.push(React.createElement("td",{key:prevMonth.month()+"-"+prevMonth.date(),className:classnames(classes),onMouseDown:this.props.preventClose,onClick:this.props.setSelectedDate},prevMonth.date())),prevMonth.weekday()===moment().endOf("week").weekday()&&(row=React.createElement("tr",{key:prevMonth.month()+"-"+prevMonth.date()},cells),html.push(row),cells=[]),prevMonth.add(1,"d")}return html},render:function(){return React.createElement("div",{className:"datepicker-days",style:{display:"block"}},React.createElement("table",{className:"table-condensed"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"prev",onMouseDown:this.props.preventClose,onClick:this.props.subtractMonth},"‹"),React.createElement("th",{className:"switch",colSpan:"5",onMouseDown:this.props.preventClose,onClick:this.props.showMonths},moment.months()[this.props.viewDate.month()]," ",this.props.viewDate.year()),React.createElement("th",{className:"next",onMouseDown:this.props.preventClose,onClick:this.props.addMonth},"›")),React.createElement("tr",null,React.createElement("th",{className:"dow"},"Su"),React.createElement("th",{className:"dow"},"Mo"),React.createElement("th",{className:"dow"},"Tu"),React.createElement("th",{className:"dow"},"We"),React.createElement("th",{className:"dow"},"Th"),React.createElement("th",{className:"dow"},"Fr"),React.createElement("th",{className:"dow"},"Sa"))),React.createElement("tbody",null,this.renderDays())))}}),_export("DateTimePickerDays",DateTimePickerDays),DateTimePickerMonths=React.createClass({displayName:"DateTimePickerMonths",propTypes:{subtractYear:React.PropTypes.func.isRequired,addYear:React.PropTypes.func.isRequired,viewDate:React.PropTypes.object.isRequired,selectedDate:React.PropTypes.object.isRequired,showYears:React.PropTypes.func.isRequired,setViewMonth:React.PropTypes.func.isRequired},renderMonths:function(){var classes,i,month,months,monthsShort;for(month=this.props.selectedDate.month(),monthsShort=moment.monthsShort(),i=0,months=[];12>i;)classes={month:!0,active:i===month&&this.props.viewDate.year()===this.props.selectedDate.year()},months.push(React.createElement("span",{key:i,className:classnames(classes),onMouseDown:this.props.preventClose,onClick:this.props.setViewMonth},monthsShort[i])),i++;return months},render:function(){return React.createElement("div",{className:"datepicker-months",style:{display:"block"}},React.createElement("table",{className:"table-condensed"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"prev",onMouseDown:this.props.preventClose,onClick:this.props.subtractYear},"‹"),React.createElement("th",{className:"switch",colSpan:"5",onMouseDown:this.props.preventClose,onClick:this.props.showYears},this.props.viewDate.year()),React.createElement("th",{className:"next",onMouseDown:this.props.preventClose,onClick:this.props.addYear},"›"))),React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{colSpan:"7"},this.renderMonths())))))}}),_export("DateTimePickerMonths",DateTimePickerMonths),DateTimePickerYears=React.createClass({displayName:"DateTimePickerYears",propTypes:{subtractDecade:React.PropTypes.func.isRequired,addDecade:React.PropTypes.func.isRequired,viewDate:React.PropTypes.object.isRequired,selectedDate:React.PropTypes.object.isRequired,setViewYear:React.PropTypes.func.isRequired},renderYears:function(){var classes,i,year,years;for(years=[],year=10*parseInt(this.props.viewDate.year()/10,10),year--,i=-1;11>i;)classes={year:!0,old:-1===i|10===i,active:this.props.selectedDate.year()===year},years.push(React.createElement("span",{key:year,className:classnames(classes),onMouseDown:this.props.preventClose,onClick:this.props.setViewYear},year)),year++,i++;return years},render:function(){var year;return year=10*parseInt(this.props.viewDate.year()/10,10),React.createElement("div",{className:"datepicker-years",style:{display:"block"}},React.createElement("table",{className:"table-condensed"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"prev",onMouseDown:this.props.preventClose,onClick:this.props.subtractDecade},"‹"),React.createElement("th",{className:"switch",colSpan:"5"},year," - ",year+9),React.createElement("th",{className:"next",onMouseDown:this.props.preventClose,onClick:this.props.addDecade},"›"))),React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{colSpan:"7"},this.renderYears())))))}}),_export("DateTimePickerYears",DateTimePickerYears),DateTimePickerDate=React.createClass({displayName:"DateTimePickerDate",propTypes:{subtractMonth:React.PropTypes.func.isRequired,addMonth:React.PropTypes.func.isRequired,viewDate:React.PropTypes.object.isRequired,selectedDate:React.PropTypes.object.isRequired,showToday:React.PropTypes.bool,viewMode:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),daysOfWeekDisabled:React.PropTypes.array,setSelectedDate:React.PropTypes.func.isRequired,subtractYear:React.PropTypes.func.isRequired,addYear:React.PropTypes.func.isRequired,setViewMonth:React.PropTypes.func.isRequired,setViewYear:React.PropTypes.func.isRequired,addDecade:React.PropTypes.func.isRequired,subtractDecade:React.PropTypes.func.isRequired,minDate:React.PropTypes.object,maxDate:React.PropTypes.object},getInitialState:function(){var viewModes={days:{daysDisplayed:!0,monthsDisplayed:!1,yearsDisplayed:!1},months:{daysDisplayed:!1,monthsDisplayed:!0,yearsDisplayed:!1},years:{daysDisplayed:!1,monthsDisplayed:!1,yearsDisplayed:!0}};return viewModes[this.props.viewMode]||viewModes[_Object$keys(viewModes)[this.props.viewMode]]||viewModes.days},showMonths:function(){return this.setState({daysDisplayed:!1,monthsDisplayed:!0})},showYears:function(){return this.setState({monthsDisplayed:!1,yearsDisplayed:!0})},setViewYear:function(e){return this.props.setViewYear(e.target.innerHTML),this.setState({yearsDisplayed:!1,monthsDisplayed:!0})},setViewMonth:function(e){return this.props.setViewMonth(e.target.innerHTML),this.setState({monthsDisplayed:!1,daysDisplayed:!0})},renderDays:function(){return this.state.daysDisplayed?React.createElement(DateTimePickerDays,{preventClose:this.props.preventClose,addMonth:this.props.addMonth,subtractMonth:this.props.subtractMonth,setSelectedDate:this.props.setSelectedDate,viewDate:this.props.viewDate,selectedDate:this.props.selectedDate,showToday:this.props.showToday,daysOfWeekDisabled:this.props.daysOfWeekDisabled,showMonths:this.showMonths,minDate:this.props.minDate,maxDate:this.props.maxDate}):null},renderMonths:function(){return this.state.monthsDisplayed?React.createElement(DateTimePickerMonths,{preventClose:this.props.preventClose,subtractYear:this.props.subtractYear,addYear:this.props.addYear,viewDate:this.props.viewDate,selectedDate:this.props.selectedDate,showYears:this.showYears,setViewMonth:this.setViewMonth}):null},renderYears:function(){return this.state.yearsDisplayed?React.createElement(DateTimePickerYears,{preventClose:this.props.preventClose,viewDate:this.props.viewDate,selectedDate:this.props.selectedDate,setViewYear:this.setViewYear,addDecade:this.props.addDecade,subtractDecade:this.props.subtractDecade}):null},render:function(){return React.createElement("div",{className:"datepicker"},this.renderDays(),this.renderMonths(),this.renderYears())}}),_export("DateTimePickerDate",DateTimePickerDate),DateTimePicker=React.createClass({displayName:"DateTimePicker",propTypes:{showDatePicker:React.PropTypes.bool,showTimePicker:React.PropTypes.bool,subtractMonth:React.PropTypes.func.isRequired,addMonth:React.PropTypes.func.isRequired,viewDate:React.PropTypes.object.isRequired,selectedDate:React.PropTypes.object.isRequired,showToday:React.PropTypes.bool,viewMode:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),mode:React.PropTypes.oneOf([Constants.MODE_DATE,Constants.MODE_DATETIME,Constants.MODE_TIME]),daysOfWeekDisabled:React.PropTypes.array,setSelectedDate:React.PropTypes.func.isRequired,subtractYear:React.PropTypes.func.isRequired,addYear:React.PropTypes.func.isRequired,setViewMonth:React.PropTypes.func.isRequired,setViewYear:React.PropTypes.func.isRequired,subtractHour:React.PropTypes.func.isRequired,addHour:React.PropTypes.func.isRequired,subtractMinute:React.PropTypes.func.isRequired,addMinute:React.PropTypes.func.isRequired,addDecade:React.PropTypes.func.isRequired,subtractDecade:React.PropTypes.func.isRequired,togglePeriod:React.PropTypes.func.isRequired,minDate:React.PropTypes.object,maxDate:React.PropTypes.object},renderDatePicker:function(){return this.props.showDatePicker?React.createElement("li",null,React.createElement(DateTimePickerDate,{addMonth:this.props.addMonth,subtractMonth:this.props.subtractMonth,setSelectedDate:this.props.setSelectedDate,viewDate:this.props.viewDate,selectedDate:this.props.selectedDate,showToday:this.props.showToday,viewMode:this.props.viewMode,daysOfWeekDisabled:this.props.daysOfWeekDisabled,subtractYear:this.props.subtractYear,addYear:this.props.addYear,setViewMonth:this.props.setViewMonth,setViewYear:this.props.setViewYear,addDecade:this.props.addDecade,subtractDecade:this.props.subtractDecade,minDate:this.props.minDate,maxDate:this.props.maxDate})):void 0},renderTimePicker:function(){return this.props.showTimePicker?React.createElement("li",null,React.createElement(DateTimePickerTime,{viewDate:this.props.viewDate,selectedDate:this.props.selectedDate,setSelectedHour:this.props.setSelectedHour,setSelectedMinute:this.props.setSelectedMinute,addHour:this.props.addHour,subtractHour:this.props.subtractHour,addMinute:this.props.addMinute,subtractMinute:this.props.subtractMinute,togglePeriod:this.props.togglePeriod,mode:this.props.mode})):void 0},renderSwitchButton:function(){return this.props.mode===Constants.MODE_DATETIME?React.createElement("li",null,React.createElement("span",{className:"btn picker-switch",style:{width:"100%"},onClick:this.props.togglePicker},React.createElement(Glyphicon,{glyph:this.props.showTimePicker?"calendar":"time"}))):null},render:function(){return React.createElement("div",{className:classnames(this.props.widgetClasses),style:this.props.widgetStyle},React.createElement("ul",{className:"list-unstyled"},this.renderDatePicker(),this.renderSwitchButton(),this.renderTimePicker()))}}),_export("DateTimePicker",DateTimePicker)}}}),System.register("dvt/components/HorizonPopup.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions","dvt/components/HueSelector.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/ArrangePopover.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/PaletteSelector.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/utils/PaletteUtils","dvt/stores/Store_Pages","dvt/stores/Store_Source","dvt/stores/Store_Interactions","dvt/utils/TimeframeUtils"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,HueSelector,ArrangePopover,PaletteSelector,PaletteUtils,Store_Pages,Store_Source,Store_Interactions,TimeframeUtils,HorizonPopup;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtComponentsHueSelectorJsxGithubFloatdropPluginJsx110){HueSelector=_dvtComponentsHueSelectorJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsArrangePopoverJsxGithubFloatdropPluginJsx110){ArrangePopover=_dvtComponentsArrangePopoverJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsPaletteSelectorJsxGithubFloatdropPluginJsx110){PaletteSelector=_dvtComponentsPaletteSelectorJsxGithubFloatdropPluginJsx110["default"]},function(_dvtUtilsPaletteUtils){PaletteUtils=_dvtUtilsPaletteUtils["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtUtilsTimeframeUtils){TimeframeUtils=_dvtUtilsTimeframeUtils["default"]}],execute:function(){"use strict";HorizonPopup=function(_React$Component){function HorizonPopup(){_classCallCheck(this,HorizonPopup),_get(Object.getPrototypeOf(HorizonPopup.prototype),"constructor",this).call(this),this.state={functionPopupOpen:!1,referencePopupOpen:!1,overlayStylePopupOpen:!1,negPaletteSelectOpen:!1,posPaletteSelectOpen:!1,rangeValue:null,formatValue:null,overlayTextValue:null,groupHeaderTextValue:null,fixedValue:null,functionParamValue:null,isEditingFixed:!1,isEditingFunctionParam:!1,isEditingFormat:!1,isEditingRange:!1,isEditingOverlayText:!1,isEditingGroupHeaderText:!1},this.closeOnBlur=!0,this.refocusButton=!0,this.ignoreButtonClick=!1,this.startEditingState=null}return _inherits(HorizonPopup,_React$Component),_createClass(HorizonPopup,[{key:"componentWillReceiveProps",value:function(props){if(null!=props.lineSpec)if("Group"==props.lineSpec.ElementType){if(this.state.isEditingFixed||this.setState({fixedValue:Store_Pages.calculateGroupReferenceValue(props.lineSpec)}),!this.state.isEditingFunctionParam){var v=Store_Pages.calculateGroupFunctionParamValue(props.lineSpec);this.setState({functionParamValue:v})}this.state.isEditingRange||this.setState({rangeValue:Store_Pages.calculateGroupRange(props.lineSpec)}),this.state.isEditingFormat||this.setState({formatValue:Store_Pages.calculateGroupNumberFormat(props.lineSpec)}),this.state.isEditingOverlayText||this.setState({overlayTextValue:Store_Pages.calculateGroupOverlayText(props.lineSpec)}),this.state.isEditingGroupHeaderText||this.setState({groupHeaderTextValue:props.lineSpec.Name})}else{if(this.state.isEditingFixed||this.setState({fixedValue:props.lineSpec.ReferenceValue}),!this.state.isEditingFunctionParam){var v=props.lineSpec.QuerySpec.data.funcParam;this.setState({functionParamValue:v})}this.state.isEditingRange||this.setState({rangeValue:props.lineSpec.Range}),this.state.isEditingFormat||this.setState({formatValue:props.lineSpec.NumberFormat}),this.state.isEditingOverlayText||this.setState({overlayTextValue:props.lineSpec.OverlayText}),!this.state.isEditingGroupHeaderText}else{if(this.state.isEditingFixed||this.setState({fixedValue:Store_Pages.calculateCurrentPageGlobalReferenceValue()}),!this.state.isEditingFunctionParam){var fpv=Store_Pages.calculateCurrentPageGlobalFunctionParamValue();this.setState({functionParamValue:fpv})}this.state.isEditingRange||this.setState({rangeValue:Store_Pages.calculateCurrentPageGlobalRange()}),this.state.isEditingFormat||this.setState({formatValue:Store_Pages.calculateCurrentPageGlobalNumberFormat()}),this.state.isEditingOverlayText||this.setState({overlayTextValue:Store_Pages.calculateCurrentPageGlobalOverlayText()}),!this.state.isEditingGroupHeaderText}}},{key:"buttonClickedGlobal",value:function(){this.ignoreButtonClick||(this.props.isVisible?setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).blur()}.bind(this),0):setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0),AppActions.setGlobalLineSettingsVisibility(!this.props.isVisible)),this.ignoreButtonClick=!1}},{key:"buttonClicked",value:function(){this.ignoreButtonClick||setTimeout(function(){AppActions.setLineSettingsVisibility(!this.props.isVisible),ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0),this.ignoreButtonClick=!1}},{key:"buttonBlurred",value:function(){if(this.closeOnBlur){if(this.state.functionPopupOpen)return this.setState({functionPopupOpen:!1}),void setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0);if(this.state.referencePopupOpen)return this.setState({referencePopupOpen:!1}),void setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0);if(this.state.overlayStylePopupOpen)return this.setState({overlayStylePopupOpen:!1}),void setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0);if(this.state.overlayTextTypePopupOpen)return this.setState({overlayTextTypePopupOpen:!1}),void setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0);if(this.state.negPaletteSelectOpen)return this.setState({negPaletteSelectOpen:!1}),void setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0);if(this.state.posPaletteSelectOpen)return this.setState({posPaletteSelectOpen:!1}),void setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0);AppActions.setLineSettingsVisibility(!1),AppActions.setGlobalLineSettingsVisibility(!1),this.ignoreButtonClick=!1}else this.refocusButton&&(this.closeOnBlur=!0,setTimeout(function(){ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}.bind(this),0)),this.refocusButton=!1}},{key:"mouseDownPreventHide",value:function(){this.closeOnBlur=!1}},{key:"mouseDownSelectRef",value:function(refType){var key=this.props.lineSpec?this.props.lineSpec.Key:null;null==key?Store_Interactions.increment("globalReference"):Store_Interactions.increment("lineReference"),AppActions.modifySeries(key,function(s){return s.ReferenceType=refType}),this.setState({referencePopupOpen:!1}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"mouseDownToggleShowRefMenu",value:function(){this.state.posPaletteSelectOpen&&this.setState({posPaletteSelectOpen:!1}),this.state.negPaletteSelectOpen&&this.setState({negPaletteSelectOpen:!1}),this.state.overlayStylePopupOpen&&this.setState({overlayStylePopupOpen:!1}),this.state.overlayTextTypePopupOpen&&this.setState({overlayTextTypePopupOpen:!1}),this.state.functionPopupOpen&&this.setState({functionPopupOpen:!1}),this.setState({referencePopupOpen:!this.state.referencePopupOpen}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"mouseDownSelectFunction",value:function(func){var key=this.props.lineSpec?this.props.lineSpec.Key:null;this.props.horizonInstance.deleteSeriesOrGroupOrAllData(this.props.lineSpec),AppActions.modifySeries(key,function(s){s.QuerySpec=s.QuerySpec.mutate("func",func),s.PreventAutoConvert=!0}),this.setState({functionPopupOpen:!1}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"mouseDownToggleShowFunctionMenu",value:function(){this.state.posPaletteSelectOpen&&this.setState({posPaletteSelectOpen:!1}),this.state.negPaletteSelectOpen&&this.setState({negPaletteSelectOpen:!1}),this.state.overlayStylePopupOpen&&this.setState({overlayStylePopupOpen:!1}),this.state.overlayTextTypePopupOpen&&this.setState({overlayTextTypePopupOpen:!1}),this.setState({functionPopupOpen:!this.state.functionPopupOpen}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"mouseDownSelectOverlayStyle",value:function(formatType){var key=this.props.lineSpec?this.props.lineSpec.Key:null;null==key?Store_Interactions.increment("globalOverlayStyle"):Store_Interactions.increment("lineOverlayStyle"),AppActions.modifySeries(key,function(s){return s.OverlayStyle=formatType}),this.setState({overlayStylePopupOpen:!1}),this.refocusButton=!0,this.mouseDownPreventHide(),null==key?AppActions.refreshOverlayData("__all__"):AppActions.refreshOverlayData(this.props.lineSpec.Key)}},{key:"mouseDownToggleShowOverlayStyleMenu",value:function(){this.state.posPaletteSelectOpen&&this.setState({posPaletteSelectOpen:!1}),this.state.negPaletteSelectOpen&&this.setState({negPaletteSelectOpen:!1}),this.state.referencePopupOpen&&this.setState({referencePopupOpen:!1}),this.state.functionPopupOpen&&this.setState({functionPopupOpen:!1}),this.state.overlayTextTypePopupOpen&&this.setState({overlayTextTypePopupOpen:!1}),this.setState({overlayStylePopupOpen:!this.state.overlayStylePopupOpen}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"mouseDownSelectOverlayTextType",value:function(formatType){var key=this.props.lineSpec?this.props.lineSpec.Key:null;null==key?Store_Interactions.increment("globalOverlayTextType"):Store_Interactions.increment("lineOverlayTextType"),AppActions.modifySeries(key,function(s){return s.OverlayTextType=formatType}),this.setState({overlayTextTypePopupOpen:!1}),this.refocusButton=!0,this.mouseDownPreventHide(),null==key?AppActions.refreshOverlayData("__all__"):AppActions.refreshOverlayData(this.props.lineSpec.Key)}},{key:"mouseDownToggleShowOverlayTextTypeMenu",value:function(){this.state.posPaletteSelectOpen&&this.setState({posPaletteSelectOpen:!1}),this.state.negPaletteSelectOpen&&this.setState({negPaletteSelectOpen:!1}),this.state.referencePopupOpen&&this.setState({referencePopupOpen:!1}),this.state.functionPopupOpen&&this.setState({functionPopupOpen:!1}),this.state.overlayStylePopupOpen&&this.setState({overlayStylePopupOpen:!1}),this.setState({overlayTextTypePopupOpen:!this.state.overlayTextTypePopupOpen}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"changeLevelCount",value:function(levels){var key=this.props.lineSpec?this.props.lineSpec.Key:null;null==key?Store_Interactions.increment("globalLevels"):Store_Interactions.increment("lineLevels"),AppActions.modifySeries(key,function(s){return s.Levels=levels}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"changeHeightCount",value:function(height){var key=this.props.lineSpec?this.props.lineSpec.Key:null;null==key&&Store_Interactions.increment("globalHeight"),AppActions.modifySeries(key,function(s){return s.Height=height}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"rangeValuekeydown",value:function(e){"Enter"==e.key&&ReactDOM.findDOMNode(this.refs.rangeInput).blur()}},{key:"rangeValueTextChanged",value:function(e){this.setState({rangeValue:e.target.value})}},{key:"rangeValueTextboxBlurred",value:function(e){var lineSpecKey=this.props.lineSpec?this.props.lineSpec.Key:null;null==lineSpecKey?Store_Interactions.increment("globalRange"):Store_Interactions.increment("lineRange"),this.setState({isEditingRange:!1}),isNaN(e.target.value)?""==e.target.value?AppActions.modifySeries(lineSpecKey,function(s){return s.Range=""}):this.setState({rangeValue:this.startEditingState}):""==e.target.value?AppActions.modifySeries(lineSpecKey,function(s){
return s.Range=""}):AppActions.modifySeries(lineSpecKey,function(s){return s.Range=e.target.value}),this.refocusButton=!0,this.closeOnBlur=!0,this.ignoreButtonClick=!0,ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}},{key:"rangeValueMouseDown",value:function(e){this.closeOnBlur=!1,this.refocusButton=!1,this.setState({isEditingRange:!0}),this.startEditingState=e.target.value}},{key:"formatValuekeydown",value:function(e){"Enter"==e.key&&ReactDOM.findDOMNode(this.refs.formatInput).blur()}},{key:"formatValueTextChanged",value:function(e){this.setState({formatValue:e.target.value})}},{key:"formatValueTextboxBlurred",value:function(e){this.setState({isEditingFormat:!1});var key=this.props.lineSpec?this.props.lineSpec.Key:null;null==key?Store_Interactions.increment("globalFormat"):Store_Interactions.increment("lineFormat"),AppActions.modifySeries(key,function(s){return s.NumberFormat=e.target.value}),this.refocusButton=!0,this.closeOnBlur=!0,this.ignoreButtonClick=!0,ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}},{key:"formatValueMouseDown",value:function(e){this.closeOnBlur=!1,this.refocusButton=!1,this.setState({isEditingFormat:!0}),this.startEditingState=e.target.value}},{key:"overlayTextValuekeydown",value:function(e){"Enter"==e.key&&ReactDOM.findDOMNode(this.refs.overlayTextInput).blur()}},{key:"overlayTextValueTextChanged",value:function(e){this.setState({overlayTextValue:e.target.value})}},{key:"overlayTextValueTextboxBlurred",value:function(e){this.setState({isEditingOverlayText:!1});var key=this.props.lineSpec?this.props.lineSpec.Key:null;Store_Interactions.increment("overlayText"),AppActions.modifySeries(key,function(s){return s.OverlayText=e.target.value}),AppActions.refreshOverlayData(this.props.lineSpec.Key),this.refocusButton=!0,this.closeOnBlur=!0,this.ignoreButtonClick=!0,ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}},{key:"overlayTextValueMouseDown",value:function(e){this.closeOnBlur=!1,this.refocusButton=!1,this.setState({isEditingOverlayText:!0}),this.startEditingState=e.target.value}},{key:"groupHeaderTextValuekeydown",value:function(e){"Enter"==e.key&&ReactDOM.findDOMNode(this.refs.groupHeaderTextInput).blur()}},{key:"groupHeaderTextValueTextChanged",value:function(e){this.setState({groupHeaderTextValue:e.target.value})}},{key:"groupHeaderTextValueTextboxBlurred",value:function(e){this.setState({isEditingGroupHeaderText:!1});var key=this.props.lineSpec?this.props.lineSpec.Key:null;Store_Interactions.increment("groupHeaderText"),AppActions.setGroupProperty(key,"Name",e.target.value),AppActions.refreshHeaderTexture(this.props.lineSpec.Key),this.refocusButton=!0,this.closeOnBlur=!0,this.ignoreButtonClick=!0,ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}},{key:"groupHeaderTextValueMouseDown",value:function(e){this.closeOnBlur=!1,this.refocusButton=!1,this.setState({isEditingGroupHeaderText:!0}),this.startEditingState=e.target.value}},{key:"fixedValuekeydown",value:function(e){"Enter"==e.key&&ReactDOM.findDOMNode(this.refs.fixedInput).blur()}},{key:"fixedValueTextChanged",value:function(e){this.setState({fixedValue:e.target.value})}},{key:"fixedValueTextboxBlurred",value:function(e){var _this=this;if(this.setState({isEditingFixed:!1}),""!==e.target.value&&isNaN(e.target.value))this.setState({fixedValue:this.startEditingState});else{var key;!function(){var val=e.target.value;""===e.target.value&&(_this.setState({fixedValue:"0"}),val="0"),key=_this.props.lineSpec?_this.props.lineSpec.Key:null,null==key?Store_Interactions.increment("globalFixedValue"):Store_Interactions.increment("lineFixedValue"),AppActions.modifySeries(key,function(s){return s.ReferenceValue=val})}()}this.refocusButton=!0,this.closeOnBlur=!0,this.ignoreButtonClick=!0,ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}},{key:"fixedValueMouseDown",value:function(e){this.closeOnBlur=!1,this.refocusButton=!1,this.setState({isEditingFixed:!0}),this.startEditingState=e.target.value}},{key:"preventClose",value:function(){this.closeOnBlur=!1,this.refocusButton=!0}},{key:"changePalette",value:function(sign,idx){var lineSpecKey=this.props.lineSpec?this.props.lineSpec.Key:null;"neg"===sign?(null==lineSpecKey?Store_Interactions.increment("globalNegPalette"):Store_Interactions.increment("lineNegPalette"),AppActions.modifySeries(lineSpecKey,function(s){return s.NegPalette=idx})):(null==lineSpecKey?Store_Interactions.increment("globalPosPalette"):Store_Interactions.increment("linePosPalette"),AppActions.modifySeries(lineSpecKey,function(s){return s.PosPalette=idx})),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"changeNegPalette",value:function(idx){this.changePalette("neg",idx),this.setState({negPaletteSelectOpen:!1}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"changePosPalette",value:function(idx){this.changePalette("pos",idx),this.setState({posPaletteSelectOpen:!1}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"negPaletteClick",value:function(){this.state.posPaletteSelectOpen&&this.setState({posPaletteSelectOpen:!1}),this.state.referencePopupOpen&&this.setState({referencePopupOpen:!1}),this.state.functionPopupOpen&&this.setState({functionPopupOpen:!1}),this.state.overlayStylePopupOpen&&this.setState({overlayStylePopupOpen:!1}),this.state.overlayTextTypePopupOpen&&this.setState({overlayTextTypePopupOpen:!1}),this.setState({negPaletteSelectOpen:!this.state.negPaletteSelectOpen}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"posPaletteClick",value:function(){this.state.negPaletteSelectOpen&&this.setState({negPaletteSelectOpen:!1}),this.state.referencePopupOpen&&this.setState({referencePopupOpen:!1}),this.state.functionPopupOpen&&this.setState({functionPopupOpen:!1}),this.state.overlayStylePopupOpen&&this.setState({overlayStylePopupOpen:!1}),this.state.overlayTextTypePopupOpen&&this.setState({overlayTextTypePopupOpen:!1}),this.setState({posPaletteSelectOpen:!this.state.posPaletteSelectOpen}),this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"clearRange",value:function(){var cs=null;cs=this.props.lineSpec?this.props.lineSpec.Children:Store_Pages.createFlatSeriesList(Store_Pages.getCurrent());for(var i=0;i<cs.length;++i)AppActions.modifySeries(cs[i].Key,function(s){return s.Range=""});this.closeOnBlur=!1,this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"calculateRange",value:function(){var cs=null;cs=this.props.lineSpec?this.props.lineSpec.Children:Store_Pages.createFlatSeriesList(Store_Pages.getCurrent());for(var max=0,i=0;i<cs.length;++i){var key=cs[i].IdentifiedBy_string+"~~~"+cs[i].QuerySpec.serialized;if(this.props.horizonInstance.data[key])for(var dta=this.props.horizonInstance.data[key],vs=dta.seriesData.data(),j=0;j<vs.length;++j)Math.abs(vs[j])>max&&(max=Math.abs(vs[j]))}if(0!=max)for(var i=0;i<cs.length;++i)AppActions.modifySeries(cs[i].Key,function(s){return s.Range=max.toString()});this.closeOnBlur=!1,this.refocusButton=!0,this.mouseDownPreventHide()}},{key:"functionParamValuekeydown",value:function(e){"Enter"==e.key&&ReactDOM.findDOMNode(this.refs.functionParamInput).blur()}},{key:"functionParamValueTextChanged",value:function(e){this.setState({functionParamValue:e.target.value})}},{key:"functionParamValueTextboxBlurred",value:function(e){var _this2=this;if(this.setState({isEditingFunctionParam:!1}),TimeframeUtils.validateDuration(e.target.value)){var key;!function(){var val=e.target.value;key=_this2.props.lineSpec?_this2.props.lineSpec.Key:null,_this2.props.horizonInstance.deleteSeriesOrGroupOrAllData(_this2.props.lineSpec),AppActions.modifySeries(key,function(s){return s.QuerySpec=s.QuerySpec.mutate("funcParam",val)})}()}else this.setState({functionParamValue:this.startEditingState});this.refocusButton=!0,this.closeOnBlur=!0,this.ignoreButtonClick=!0,ReactDOM.findDOMNode(this.props.buttonsInstance.refs.settingsButton).focus()}},{key:"functionParamValueMouseDown",value:function(e){this.closeOnBlur=!1,this.refocusButton=!1,this.setState({isEditingFunctionParam:!0}),this.startEditingState=e.target.value}},{key:"render",value:function(){var _this3=this;if(!this.props.isVisible)return null;var negPaletteIdx=-1,posPaletteIdx=-1,levels=-1,height=-1,refName="Global",referenceType="Absolute",overlayStyle=null,overlayTextType=null,dsFunction=-1,incorporatesManual=!1;this.props.lineSpec?"Group"===this.props.lineSpec.ElementType?(negPaletteIdx=Store_Pages.calculateGroupNegPalette(this.props.lineSpec),posPaletteIdx=Store_Pages.calculateGroupPosPalette(this.props.lineSpec),height=Store_Pages.calculateGroupHeight(this.props.lineSpec),levels=Store_Pages.calculateGroupLevels(this.props.lineSpec),referenceType=Store_Pages.calculateGroupReferenceType(this.props.lineSpec),overlayStyle=Store_Pages.calculateGroupOverlayStyle(this.props.lineSpec),overlayTextType=Store_Pages.calculateGroupOverlayTextType(this.props.lineSpec),dsFunction=Store_Pages.calculateGroupFunction(this.props.lineSpec),incorporatesManual=Store_Pages.calculateGroupIncorporatesManual(this.props.lineSpec)):(negPaletteIdx=this.props.lineSpec.NegPalette,posPaletteIdx=this.props.lineSpec.PosPalette,levels=this.props.lineSpec.Levels,height=this.props.lineSpec.Height,refName=this.props.lineSpec.Name,referenceType=this.props.lineSpec.ReferenceType,overlayStyle=this.props.lineSpec.OverlayStyle,overlayTextType=this.props.lineSpec.OverlayTextType,dsFunction=this.props.lineSpec.QuerySpec.data.func,incorporatesManual=this.props.lineSpec.QuerySpec.isManual()):(negPaletteIdx=Store_Pages.calculateCurrentPageGlobalNegPalette(),posPaletteIdx=Store_Pages.calculateCurrentPageGlobalPosPalette(),height=Store_Pages.calculateCurrentPageGlobalHeight(),levels=Store_Pages.calculateCurrentPageGlobalLevels(),referenceType=Store_Pages.calculateCurrentPageGlobalReferenceType(),overlayStyle=Store_Pages.calculateCurrentPageGlobalOverlayStyle(),overlayTextType=Store_Pages.calculateCurrentPageGlobalOverlayTextType(),dsFunction=Store_Pages.calculateCurrentPageGlobalFunction(),incorporatesManual=Store_Pages.calculateCurrentPageIncorporatesManual());var hgt=226,lineTop=this.props.lineTop;this.props.lineTop+hgt>this.props.pageHeight&&(lineTop-=hgt-(this.props.pageHeight-this.props.lineTop),0>lineTop&&(lineTop=0));var leftEdge=0;return this.props.colSpec&&(leftEdge=this.props.colSpec[0]),this.props.isVisible?React.createElement("div",{ref:"popup"+refName,className:"dropdown-menu dropdown-menu-right",role:"menu",style:{zIndex:"3000",display:"block",position:"absolute",top:lineTop+"px",width:"504px",left:leftEdge+41+"px",padding:"10px 15px"}},React.createElement(ArrangePopover,{allstate:this.props.allstate,popupInstance:this,lineSpec:this.props.lineSpec,horizonInstance:this.props.horizonInstance,groupFunction:dsFunction,functionParam:this.state.functionParamValue}),React.createElement("div",{style:{width:"130px",display:"inline-block",verticalAlign:"top",position:"relative"}},React.createElement("div",{style:{marginBottom:"8px",height:"43px",zIndex:"2"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Palette")),React.createElement("div",null,React.createElement("button",{className:"btn btn-default btn-xs",onMouseDown:this.negPaletteClick.bind(this),style:{border:"solid 1px #aaa",width:"60px",height:"28px",padding:"0px"}},React.createElement(PaletteSelector,{width:"60",height:"28",text:"Neg",reverse:!0,levels:levels,index:negPaletteIdx,indexSelected:this.changeNegPalette.bind(this)})),React.createElement("button",{className:"btn btn-default btn-xs",onMouseDown:this.posPaletteClick.bind(this),style:{border:"solid 1px #aaa",width:"60px",height:"28px",padding:"0px",marginLeft:"6px"}},React.createElement(PaletteSelector,{width:"60",height:"28",text:"Pos",reverse:!1,levels:levels,index:posPaletteIdx,indexSelected:this.changePosPalette.bind(this)}))),this.state.negPaletteSelectOpen?React.createElement("div",{className:"panelshadow",style:{position:"absolute",display:"block",left:"0px",top:"44px",width:"78px",border:"solid 1px #ccc",backgroundColor:"#fff",borderRadius:"2px",padding:"3px 3px"}},React.createElement(HueSelector,{width:"70px",height:"64px",selectedIndex:negPaletteIdx,indexSelected:this.changeNegPalette.bind(this)})):null,this.state.posPaletteSelectOpen?React.createElement("div",{className:"panelshadow",style:{position:"absolute",display:"block",left:"66px",top:"44px",width:"78px",border:"solid 1px #ccc",backgroundColor:"#fff",borderRadius:"2px",padding:"3px 3px"}},React.createElement(HueSelector,{width:"70px",height:"64px",selectedIndex:posPaletteIdx,indexSelected:this.changePosPalette.bind(this)})):null),React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"# Levels")),React.createElement("div",null,React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"6px",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px",backgroundColor:1==levels?"#eee":"#fff"},onMouseDown:this.changeLevelCount.bind(this,1)},"1"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"6px",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px",backgroundColor:2==levels?"#eee":"#fff"},onMouseDown:this.changeLevelCount.bind(this,2)},"2"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"6px",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px",backgroundColor:3==levels?"#eee":"#fff"},onMouseDown:this.changeLevelCount.bind(this,3)},"3"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"5px",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px",backgroundColor:4==levels?"#eee":"#fff"},onMouseDown:this.changeLevelCount.bind(this,4)},"4"),React.createElement("button",{className:"btn btn-default btn-xs",style:{backgroundColor:5==levels?"#eee":"#fff",paddingLeft:"6px",paddingRight:"6px",borderRadius:"2px"},onMouseDown:this.changeLevelCount.bind(this,5)},"5"))),this.props.lineSpec&&"Group"!==this.props.lineSpec.ElementType?null:React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Height")),React.createElement("div",null,React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"5px",paddingLeft:"4px",paddingRight:"4px",borderRadius:"2px",backgroundColor:1==height?"#eee":"#fff"},onMouseDown:this.changeHeightCount.bind(this,1)},"1"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"5px",paddingLeft:"4px",paddingRight:"4px",borderRadius:"2px",backgroundColor:2==height?"#eee":"#fff"},onMouseDown:this.changeHeightCount.bind(this,2)},"2"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"5px",paddingLeft:"4px",paddingRight:"4px",borderRadius:"2px",backgroundColor:3==height?"#eee":"#fff"},onMouseDown:this.changeHeightCount.bind(this,3)},"3"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"6px",paddingLeft:"4px",paddingRight:"4px",borderRadius:"2px",backgroundColor:4==height?"#eee":"#fff"},onMouseDown:this.changeHeightCount.bind(this,4)},"4"),React.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:"5px",paddingLeft:"4px",paddingRight:"4px",borderRadius:"2px",backgroundColor:5==height?"#eee":"#fff"},onMouseDown:this.changeHeightCount.bind(this,5)},"5"),React.createElement("button",{className:"btn btn-default btn-xs",style:{backgroundColor:6==height?"#eee":"#fff",paddingLeft:"4px",paddingRight:"4px",borderRadius:"2px"},onMouseDown:this.changeHeightCount.bind(this,6)},"6"))),React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Reference")),React.createElement("button",{className:"btn btn-default btn-sm",style:{width:"126px",display:"inline-block"},onMouseDown:this.mouseDownToggleShowRefMenu.bind(this)},React.createElement("div",{style:{textAlign:"left"}},React.createElement("div",{style:{"float":"left"}},null==referenceType?React.createElement("span",null," "):referenceType),React.createElement("div",{style:{"float":"right"}},React.createElement("span",{className:"caret"})))),this.state.referencePopupOpen?React.createElement("div",{className:"panelshadow",style:{position:"absolute",display:"block",left:"0px",top:148+(null==this.props.lineSpec||"Group"===this.props.lineSpec.ElementType?51:0)+"px",width:"126px",border:"solid 1px #ccc",backgroundColor:"#fff",borderRadius:"2px",padding:"4px 0px",zIndex:"3000"}},React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer"},onMouseDown:this.mouseDownSelectRef.bind(this,"Absolute")},"Absolute"),React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer"},onMouseDown:this.mouseDownSelectRef.bind(this,"Range Start")},"Range Start"),React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer"},onMouseDown:this.mouseDownSelectRef.bind(this,"Range End")},"Range End"),React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer"},onMouseDown:this.mouseDownSelectRef.bind(this,"Fixed")},"Fixed")):null),"Fixed"==referenceType?React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Relative To")),React.createElement("input",{ref:"fixedInput",className:"form-control input-sm",style:{width:"126px"},value:this.state.fixedValue,onKeyDown:this.fixedValuekeydown.bind(this),onChange:this.fixedValueTextChanged.bind(this),onBlur:this.fixedValueTextboxBlurred.bind(this),onMouseDown:this.fixedValueMouseDown.bind(this)})):null,React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Range / 2")),this.props.lineSpec&&"Group"!==this.props.lineSpec.ElementType?React.createElement("input",{ref:"rangeInput",className:"form-control input-sm",style:{width:"126px"},value:this.state.rangeValue,onKeyDown:this.rangeValuekeydown.bind(this),onChange:this.rangeValueTextChanged.bind(this),onBlur:this.rangeValueTextboxBlurred.bind(this),onMouseDown:this.rangeValueMouseDown.bind(this),placeholder:"Auto"}):React.createElement("div",{className:"input-group",style:{width:"106px"}},React.createElement("input",{ref:"rangeInput",className:"form-control input-sm",value:this.state.rangeValue,onKeyDown:this.rangeValuekeydown.bind(this),onChange:this.rangeValueTextChanged.bind(this),onBlur:this.rangeValueTextboxBlurred.bind(this),onMouseDown:this.rangeValueMouseDown.bind(this),placeholder:"Auto"}),React.createElement("div",{style:{border:"solid 1px #ccc",height:"30px",width:"21px",display:"inine-block",position:"absolute",right:"-20px",bottom:"0"}},React.createElement("div",{style:{width:"20px"}},React.createElement("div",{style:{display:"table",width:"20px"}},React.createElement("div",{style:{display:"table-row",height:"15px"}},React.createElement("div",{className:"btn-hover",style:{display:"table-cell",borderBottom:"solid 1px #ccc",position:"relative",cursor:"pointer"},onMouseDown:this.calculateRange.bind(this)},React.createElement("div",{style:{position:"absolute",top:"-5px",left:"6px"}},React.createElement("i",{style:{fontSize:"8px"},className:"fa fa-calculator"})))),React.createElement("div",{style:{display:"table-row",height:"15px"}},React.createElement("div",{className:"btn-hover",style:{display:"table-cell",position:"relative",cursor:"pointer"},onMouseDown:this.clearRange.bind(this)},React.createElement("div",{style:{position:"absolute",top:"-5px",left:"7px"}},React.createElement("span",{style:{fontSize:"9px"}},"C"))))))))),incorporatesManual?null:React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Function")),React.createElement("button",{className:"btn btn-default btn-sm",style:{width:"126px",display:"inline-block"},onMouseDown:this.mouseDownToggleShowFunctionMenu.bind(this)},React.createElement("div",{style:{textAlign:"left"}},React.createElement("div",{style:{"float":"left"}},-1==dsFunction?React.createElement("span",null," "):null==dsFunction?"[none]":dsFunction),React.createElement("div",{style:{"float":"right"}},React.createElement("span",{className:"caret"})))),this.state.functionPopupOpen?React.createElement("div",{className:"panelshadow",style:{position:"absolute",display:"block",left:"0px",top:250+(null==this.props.lineSpec||"Group"===this.props.lineSpec.ElementType?51:0)+"px",width:"126px",border:"solid 1px #ccc",backgroundColor:"#fff",borderRadius:"2px",padding:"4px 0px",zIndex:"3000"}},React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer"},onMouseDown:this.mouseDownSelectFunction.bind(this,null)},"[none]"),Store_Source.getActiveAdapter().availableFunctions().map(function(f,i){return React.createElement("div",{key:i,className:"rowhover",style:{padding:"0px 4px",cursor:"pointer"},onMouseDown:_this3.mouseDownSelectFunction.bind(_this3,f)},f)})):null),null==dsFunction||-1==dsFunction||incorporatesManual?null:React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Function Parameter")),React.createElement("input",{ref:"functionParamInput",className:"form-control input-sm",style:{width:"126px"},value:this.state.functionParamValue,onKeyDown:this.functionParamValuekeydown.bind(this),onChange:this.functionParamValueTextChanged.bind(this),onBlur:this.functionParamValueTextboxBlurred.bind(this),onMouseDown:this.functionParamValueMouseDown.bind(this)}))),React.createElement("div",{style:{width:"130px",display:"inline-block",verticalAlign:"top",marginLeft:"12px",position:"relative"}},React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Number Format")),React.createElement("input",{ref:"formatInput",className:"form-control input-sm",style:{width:"126px"},value:this.state.formatValue,onKeyDown:this.formatValuekeydown.bind(this),onChange:this.formatValueTextChanged.bind(this),onBlur:this.formatValueTextboxBlurred.bind(this),onMouseDown:this.formatValueMouseDown.bind(this)})),React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Overlay Style")),React.createElement("button",{className:"btn btn-default btn-sm",style:{width:"126px",display:"inline-block"},onMouseDown:this.mouseDownToggleShowOverlayStyleMenu.bind(this)},React.createElement("div",{style:{textAlign:"left"}},React.createElement("div",{style:{"float":"left"}},null==overlayStyle?React.createElement("span",null," "):overlayStyle),React.createElement("div",{style:{"float":"right"}},React.createElement("span",{className:"caret"})))),this.state.overlayStylePopupOpen?React.createElement("div",{className:"panelshadow",style:{position:"absolute",display:"block",left:"0px",top:"97px",width:"126px",border:"solid 1px #ccc",backgroundColor:"#fff",borderRadius:"2px",padding:"4px 0px"}},React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer",fontSize:"12px"},onMouseDown:this.mouseDownSelectOverlayStyle.bind(this,"Opaque")},"Opaque"),React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer",fontSize:"12px"},onMouseDown:this.mouseDownSelectOverlayStyle.bind(this,"Transparent")},"Transparent"),React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer",fontSize:"12px"},onMouseDown:this.mouseDownSelectOverlayStyle.bind(this,"Hover")},"Hover")):null),React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Overlay Text")),React.createElement("button",{className:"btn btn-default btn-sm",style:{width:"126px",display:"inline-block"},onMouseDown:this.mouseDownToggleShowOverlayTextTypeMenu.bind(this)},React.createElement("div",{style:{textAlign:"left"}},React.createElement("div",{style:{"float":"left"}},null==overlayTextType?React.createElement("span",null," "):overlayTextType),React.createElement("div",{style:{"float":"right"}},React.createElement("span",{className:"caret"})))),this.state.overlayTextTypePopupOpen?React.createElement("div",{className:"panelshadow",style:{position:"absolute",display:"block",left:"0px",top:"148px",width:"126px",border:"solid 1px #ccc",backgroundColor:"#fff",borderRadius:"2px",padding:"4px 0px"}},React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer",fontSize:"12px"},onMouseDown:this.mouseDownSelectOverlayTextType.bind(this,"Values Only")},"Values Only"),React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer",fontSize:"12px"},onMouseDown:this.mouseDownSelectOverlayTextType.bind(this,"Labels & Values")},"Labels & Values"),this.props.lineSpec?React.createElement("div",{className:"rowhover",style:{padding:"0px 4px",cursor:"pointer",fontSize:"12px"},onMouseDown:this.mouseDownSelectOverlayTextType.bind(this,"Custom")},"Custom"):null):null),this.props.lineSpec&&"Group"==this.props.lineSpec.ElementType?React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Group Header Text")),React.createElement("input",{ref:"groupHeaderTextInput",className:"form-control input-sm",style:{width:"126px"},value:this.state.groupHeaderTextValue,onKeyDown:this.groupHeaderTextValuekeydown.bind(this),onChange:this.groupHeaderTextValueTextChanged.bind(this),onBlur:this.groupHeaderTextValueTextboxBlurred.bind(this),onMouseDown:this.groupHeaderTextValueMouseDown.bind(this)})):null,this.props.lineSpec&&"Custom"===overlayTextType?React.createElement("div",{style:{marginBottom:"8px",height:"43px"}},React.createElement("div",{style:{fontSize:"10px",color:"#888"}},React.createElement("span",null,"Overlay Text")),React.createElement("input",{ref:"overlayTextInput",className:"form-control input-sm",style:{width:"126px"},value:this.state.overlayTextValue,onKeyDown:this.overlayTextValuekeydown.bind(this),onChange:this.overlayTextValueTextChanged.bind(this),onBlur:this.overlayTextValueTextboxBlurred.bind(this),onMouseDown:this.overlayTextValueMouseDown.bind(this)})):null)):null}}]),HorizonPopup}(React.Component),_export("default",HorizonPopup)}}}),System.register("dvt/components/Sidebar.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/components/LabelsList.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/SidebarContainer.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/PageSelect.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/Legend.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/QueryEntry.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/AppActions","dvt/DragHandler","dvt/stores/Store_SidebarLayout"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,LabelsList,SidebarContainer,PageSelect,Legend,QueryEntry,AppActions,DragHandler,Store_SidebarLayout,Sidebar;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtComponentsLabelsListJsxGithubFloatdropPluginJsx110){LabelsList=_dvtComponentsLabelsListJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsSidebarContainerJsxGithubFloatdropPluginJsx110){SidebarContainer=_dvtComponentsSidebarContainerJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsPageSelectJsxGithubFloatdropPluginJsx110){PageSelect=_dvtComponentsPageSelectJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsLegendJsxGithubFloatdropPluginJsx110){Legend=_dvtComponentsLegendJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsQueryEntryJsxGithubFloatdropPluginJsx110){QueryEntry=_dvtComponentsQueryEntryJsxGithubFloatdropPluginJsx110["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtDragHandler){DragHandler=_dvtDragHandler["default"]},function(_dvtStoresStore_SidebarLayout){Store_SidebarLayout=_dvtStoresStore_SidebarLayout["default"]}],execute:function(){"use strict";Sidebar=function(_React$Component){function Sidebar(props){_classCallCheck(this,Sidebar),_get(Object.getPrototypeOf(Sidebar.prototype),"constructor",this).call(this,props),this.extraMove=0}return _inherits(Sidebar,_React$Component),_createClass(Sidebar,[{key:"componentDidMount",value:function(){}},{key:"togglePagesVisibility",value:function(event){AppActions.togglePagesListVisible(),event.preventDefault()}},{key:"toggleSeriesVisibility",value:function(event){AppActions.toggleSeriesListVisible(),event.preventDefault()}},{key:"render",value:function(){var ps=("pages"==this.props.allstate.layout.sidebarVisibleTab?"active":"","labels"==this.props.allstate.layout.sidebarVisibleTab?"active":"",Store_SidebarLayout.getDimensions("pages")),ls=Store_SidebarLayout.getDimensions("labels"),qs=(Store_SidebarLayout.getDimensions("legend"),Store_SidebarLayout.getDimensions("query"));return React.createElement("div",null,React.createElement("div",{style:{position:"fixed",left:ps.left+"px",top:ps.top+"px",width:ps.width+"px",height:ps.height+"px"}},React.createElement(PageSelect,{pages:this.props.allstate.pages,dragOverPage:this.props.allstate.layout.inDrag?this.props.allstate.layout.dragOverPage:null,dragOverNewPage:this.props.allstate.layout.inDrag?this.props.allstate.layout.dragOverNewPage:!1,height:ps.height,width:ps.width})),React.createElement("div",{style:{position:"fixed",left:ls.left+"px",top:ls.top+"px",width:ls.width+"px",height:ls.height+"px"}},React.createElement(LabelsList,{height:ls.height,width:ls.width,allLabelNames:this.props.allstate.label.allLabelNames,allLabelChildCounts:this.props.allstate.label.allLabelChildCounts,filterLabelValuePairs:this.props.allstate.label.filterLabelValuePairs,currentExpandedLabel:this.props.allstate.label.currentExpandedLabel,expandedLabelValuesAndSeriesCounts:this.props.allstate.label.expandedLabelValuesAndSeriesCounts,counterToRate:this.props.allstate.label.counterToRate})),React.createElement("div",{style:{position:"fixed",left:qs.left+"px",top:qs.top+"px",width:qs.width+"px",height:qs.height+"px"}},React.createElement(QueryEntry,{height:qs.height,width:qs.width})))}}]),Sidebar}(React.Component),_export("default",Sidebar)}}}),System.register("dvt/adapters/Adapter_Prometheus",["npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/assign","npm:babel-runtime@5.8.20/core-js/object/create","npm:babel-runtime@5.8.20/core-js/map","npm:babel-runtime@5.8.20/core-js/object/get-own-property-names","npm:babel-runtime@5.8.20/core-js/array/from","npm:babel-runtime@5.8.20/core-js/get-iterator","dvt/utils/Network","dvt/utils/Series","dvt/adapters/AdapterUtils","dvt/utils/LabelSpec","dvt/AppActions","dvt/utils/Query"],function(_export){
var _createClass,_classCallCheck,_Object$assign,_Object$create,_Map,_Object$getOwnPropertyNames,_Array$from,_getIterator,Network,Series,AdapterUtils,LabelSpec,AppActions,Query,Adapter_Prometheus;return{setters:[function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmBabelRuntime5820CoreJsObjectCreate){_Object$create=_npmBabelRuntime5820CoreJsObjectCreate["default"]},function(_npmBabelRuntime5820CoreJsMap){_Map=_npmBabelRuntime5820CoreJsMap["default"]},function(_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames){_Object$getOwnPropertyNames=_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames["default"]},function(_npmBabelRuntime5820CoreJsArrayFrom){_Array$from=_npmBabelRuntime5820CoreJsArrayFrom["default"]},function(_npmBabelRuntime5820CoreJsGetIterator){_getIterator=_npmBabelRuntime5820CoreJsGetIterator["default"]},function(_dvtUtilsNetwork){Network=_dvtUtilsNetwork["default"]},function(_dvtUtilsSeries){Series=_dvtUtilsSeries["default"]},function(_dvtAdaptersAdapterUtils){AdapterUtils=_dvtAdaptersAdapterUtils["default"]},function(_dvtUtilsLabelSpec){LabelSpec=_dvtUtilsLabelSpec["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtUtilsQuery){Query=_dvtUtilsQuery["default"]}],execute:function(){"use strict";Adapter_Prometheus=function(){function Adapter_Prometheus(){_classCallCheck(this,Adapter_Prometheus)}return _createClass(Adapter_Prometheus,[{key:"getMetricLabelName",value:function(){return"__name__"}},{key:"availableFunctions",value:function(){return["changes","count_scalar","delta","deriv","exp","rate","irate","increase","resets"]}},{key:"availableAggregationFunctions",value:function(){return["sum","min","max","avg","stddev","stdvar","count"]}},{key:"executeDataQuery",value:function(querySpec,start,stop,step,dataCallback,noDataCallback,errorCallback){var interpretQuerySpec=function(qs){if(qs.data.manual)return qs.data.manual;var s=Adapter_Prometheus.seriesSpecToString(qs.data.labelValues);return null!==qs.data.func&&(s=qs.data.func+"("+s+"["+qs.data.funcParam+"])"),qs.data.aggregationFunc&&(s=qs.data.aggregationFunc+"("+s+")"),s},queryString=interpretQuerySpec(querySpec),quantized=AdapterUtils.quantizeRequest(start,stop,step,1e3),url=Adapter_Prometheus.Host+"/api/v1/query_range?query="+encodeURIComponent(queryString)+"&start="+quantized.start/1e3+"&end="+quantized.stop/1e3+"&step="+quantized.step/1e3+"s";Network.getJson(url,2e4,function(data,error){if(error)return console.log("Network error: "+error),void errorCallback(error);if(!data)return void errorCallback("data not set");if("success"!=data.status)return void errorCallback(data.error);var d=data.data.result;if(0==d.length)return void noDataCallback();for(var j=0;j<d.length;++j)for(var i=0;i<d[j].values.length;++i)d[j].values[i][0]*=1e3;for(var result={},j=0;j<d.length;++j){null!==querySpec.data.func&&(d[j].metric.__name__=querySpec.data.labelValues.__name__),null!==querySpec.data.aggregationFunc&&(d[j].metric=_Object$assign(_Object$create(null),querySpec.data.labelValues));var metricString=LabelSpec.serialize(d[j].metric);result[metricString]=AdapterUtils.resampleTimeValuePairs(d[j].values,start,stop,step)}dataCallback(result)})}},{key:"getSeriesSet",value:function(setSpec,callback){var query=Adapter_Prometheus.seriesSpecToString(setSpec),url=Adapter_Prometheus.Host+"/api/v1/series?match[]="+encodeURIComponent(query);Network.getJson(url,Adapter_Prometheus.Timeout_ms,function(data,error){var errorResult={status:"networkError",errorType:"network",error:"getSeries: network error (timeout?)"};if(!data||error)return void callback(errorResult);if("success"===data.status){for(var seriesSet=[],j=0;j<data.data.length;++j){var kvps=data.data[j];seriesSet.push(kvps)}callback(seriesSet)}})}},{key:"getPredefinedPages",value:function(callback){callback([])}}],[{key:"getLabelAndValueSummary",value:function(callback){var getJobSeries=function(jobName,callback){var url=Adapter_Prometheus.Host+"/api/v1/series?match[]="+encodeURIComponent('{job="'+jobName+'"}');Network.getJson(url,Adapter_Prometheus.Timeout_ms,function(data,error){var errorResult={status:"networkError",errorType:"network",error:"getJobSeries: network error (timeout?)"};return!data||error?void callback(errorResult):void callback(data)})},getJobValues=function(callback){var url=Adapter_Prometheus.Host+"/api/v1/label/job/values";Network.getJson(url,Adapter_Prometheus.Timeout_ms,function(data,error){var errorResult={status:"networkError",errorType:"network",error:"getJobValues: network error (timeout?)"};return!data||error?void callback(errorResult):void callback(data)})};AppActions.summaryLoadError(!1);var netStatMessage1="retrieving job series",netStatMessage2="retrieving labels";AppActions.addNetworkStatus(netStatMessage1),getJobValues(function(data){if(AppActions.removeNetworkStatus(netStatMessage1),"success"!==data.status)return AppActions.summaryLoadError(!0),console.log("Error: "+data.error+"  ["+data.errorType+"]"),void callback(new _Map);AppActions.addNetworkStatus(netStatMessage2);for(var labels=new _Map,receivedCount=0,hasError=!1,i=0;i<data.data.length;++i)getJobSeries(data.data[i],function(d){if(receivedCount+=1,"success"!=d.status)console.log("Error: "+d.error+"  ["+d.errorType+"]"),hasError=!0;else for(var j=0;j<d.data.length;++j){var kvps=_Object$getOwnPropertyNames(d.data[j]);kvps.forEach(function(k){if(labels.has(k)||labels.set(k,new _Map),labels.get(k).get(d.data[j][k])){var val=labels.get(k).get(d.data[j][k])+1;labels.get(k).set(d.data[j][k],val)}else labels.get(k).set(d.data[j][k],1)})}if(receivedCount==data.data.length){if(hasError)return AppActions.summaryLoadError(!0),void callback(new _Map);AppActions.summaryLoadError(!1);var result=new _Map,labelNames=_Array$from(labels.keys());labelNames.sort();var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=_getIterator(labelNames);!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var labelName=_step.value,labelValuesToCounts=labels.get(labelName),labelValues=_Array$from(labelValuesToCounts.keys());labelValues.sort();for(var labelValueCounts=new _Map,_i=0;_i<labelValues.length;++_i)labelValueCounts.set(labelValues[_i],labelValuesToCounts.get(labelValues[_i]));result.set(labelName,labelValueCounts)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator["return"]&&_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError}}AppActions.removeNetworkStatus(netStatMessage2),callback(result)}})}.bind(this))}},{key:"seriesSpecToString",value:function(spec){var result="",keys=_Object$getOwnPropertyNames(spec);return 0==keys.length?"{}":(keys.sort(),keys.forEach(function(k){result+=k+'="'+spec[k]+'",'}),result="{"+result.substring(0,result.length-1)+"}")}},{key:"parseSpecString",value:function(s){if("{}"==s)return{};var result=_Object$create(null);s=s.substr(1,s.length-2);for(var parts=s.split(","),i=0;i<parts.length;++i){var tokens=parts[i].split("="),key=tokens[0],val=tokens[1].substr(1,tokens[1].length-2);result[key]=val}return result}}]),Adapter_Prometheus}(),_export("default",Adapter_Prometheus)}}}),System.register("dvt/components/DatePicker.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/components/DTPicker.jsx!github:floatdrop/plugin-jsx@1.1.0","github:moment/moment@2.10.6"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,DateTimeField,DateTimePickerDate,moment,DatePicker;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtComponentsDTPickerJsxGithubFloatdropPluginJsx110){DateTimeField=_dvtComponentsDTPickerJsxGithubFloatdropPluginJsx110.DateTimeField,DateTimePickerDate=_dvtComponentsDTPickerJsxGithubFloatdropPluginJsx110.DateTimePickerDate},function(_githubMomentMoment2106){moment=_githubMomentMoment2106["default"]}],execute:function(){"use strict";DatePicker=function(_React$Component){function DatePicker(props){_classCallCheck(this,DatePicker),_get(Object.getPrototypeOf(DatePicker.prototype),"constructor",this).call(this,props),this.state={viewDate:moment(this.props.dateTime_ms,"x",!0).startOf("month")}}return _inherits(DatePicker,_React$Component),_createClass(DatePicker,[{key:"componentWillReceiveProps",value:function(props){this.state={viewDate:moment(props.dateTime_ms,"x",!0).startOf("month")}}},{key:"addMonth",value:function(){this.setState({viewDate:this.state.viewDate.add(1,"months")})}},{key:"subtractMonth",value:function(){this.setState({viewDate:this.state.viewDate.subtract(1,"months")})}},{key:"addYear",value:function(){this.setState({viewDate:this.state.viewDate.add(1,"years")})}},{key:"subtractYear",value:function(){this.setState({viewDate:this.state.viewDate.subtract(1,"years")})}},{key:"addDecade",value:function(){this.setState({viewDate:this.state.viewDate.add(10,"years")})}},{key:"subtractDecade",value:function(){this.setState({viewDate:this.state.viewDate.subtract(10,"years")})}},{key:"setViewMonth",value:function(month){this.setState({viewDate:this.state.viewDate.clone().month(month)})}},{key:"setViewYear",value:function(year){this.setState({viewDate:this.state.viewDate.clone().year(year)})}},{key:"setSelectedDate",value:function(e){var target=e.target;if(target.className&&!target.className.match(/disabled/g)){var month;month=-1!=target.className.indexOf("new")?this.state.viewDate.month()+1:-1!=target.className.indexOf("old")?this.state.viewDate.month()-1:this.state.viewDate.month();var day=e.target.innerHTML,d=new Date(this.state.viewDate.year(),month,day);this.props.onChange(d.getTime())}}},{key:"render",value:function(){var selectedDate=moment(this.props.dateTime_ms,"x",!0),showToday=!0,viewMode="days",daysOfWeekDisabled=[],minDate=moment().subtract(3,"years"),maxDate=moment();return React.createElement("div",{className:"bootstrap-datetimepicker-widget"},React.createElement(DateTimePickerDate,{preventClose:this.props.preventClose.bind(this),addMonth:this.addMonth.bind(this),subtractMonth:this.subtractMonth.bind(this),setSelectedDate:this.setSelectedDate.bind(this),viewDate:this.state.viewDate,selectedDate:selectedDate,showToday:showToday,viewMode:viewMode,daysOfWeekDisabled:daysOfWeekDisabled,subtractYear:this.subtractYear.bind(this),addYear:this.addYear.bind(this),setViewMonth:this.setViewMonth.bind(this),setViewYear:this.setViewYear.bind(this),addDecade:this.addDecade.bind(this),subtractDecade:this.subtractDecade.bind(this),minDate:minDate,maxDate:maxDate}))}}]),DatePicker}(React.Component),_export("default",DatePicker)}}}),System.register("dvt/components/Horizon.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/get-own-property-names","npm:babel-runtime@5.8.20/core-js/object/assign","npm:react@0.14.0","npm:react-dom@0.14.0","github:mbostock/d3@3.5.6","dvt/stores/Store_Timeframe","dvt/stores/Store_Source","dvt/stores/Store_Pages","dvt/stores/Store_Layout","dvt/stores/Store_Interactions","dvt/AppActions","dvt/DragHandler","dvt/utils/PaletteUtils","dvt/components/HorizonPopup.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/HorizonHover.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/HorizonValueOverlay.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/ScrollArea.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/HiddenSettingsButton.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/Timer_RealTime","dvt/components/HorizonOverlayUtils","dvt/components/HorizonGroupHeaderUtils","dvt/utils/Series","dvt/utils/Query","dvt/utils/LabelSpec","dvt/utils/QuerySpec"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$getOwnPropertyNames,_Object$assign,React,ReactDOM,d3,Store_Timeframe,Store_Source,Store_Pages,Store_Layout,Store_Interactions,AppActions,DragHandler,PaletteUtils,HorizonPopup,HorizonHover,HorizonValueOverlay,ScrollArea,HiddenSettingsButton,Timer_RealTime,HorizonOverlayUtils,HorizonGroupHeaderUtils,Series,Query,LabelSpec,QuerySpec,Horizon;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames){_Object$getOwnPropertyNames=_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_githubMbostockD3356){d3=_githubMbostockD3356["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]},function(_dvtStoresStore_Layout){Store_Layout=_dvtStoresStore_Layout["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtDragHandler){DragHandler=_dvtDragHandler["default"]},function(_dvtUtilsPaletteUtils){PaletteUtils=_dvtUtilsPaletteUtils["default"]},function(_dvtComponentsHorizonPopupJsxGithubFloatdropPluginJsx110){HorizonPopup=_dvtComponentsHorizonPopupJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsHorizonHoverJsxGithubFloatdropPluginJsx110){HorizonHover=_dvtComponentsHorizonHoverJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsHorizonValueOverlayJsxGithubFloatdropPluginJsx110){HorizonValueOverlay=_dvtComponentsHorizonValueOverlayJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsScrollAreaJsxGithubFloatdropPluginJsx110){ScrollArea=_dvtComponentsScrollAreaJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsHiddenSettingsButtonJsxGithubFloatdropPluginJsx110){HiddenSettingsButton=_dvtComponentsHiddenSettingsButtonJsxGithubFloatdropPluginJsx110["default"]},function(_dvtTimer_RealTime){Timer_RealTime=_dvtTimer_RealTime["default"]},function(_dvtComponentsHorizonOverlayUtils){HorizonOverlayUtils=_dvtComponentsHorizonOverlayUtils["default"]},function(_dvtComponentsHorizonGroupHeaderUtils){HorizonGroupHeaderUtils=_dvtComponentsHorizonGroupHeaderUtils["default"]},function(_dvtUtilsSeries){Series=_dvtUtilsSeries["default"]},function(_dvtUtilsQuery){Query=_dvtUtilsQuery["default"]},function(_dvtUtilsLabelSpec){LabelSpec=_dvtUtilsLabelSpec["default"]},function(_dvtUtilsQuerySpec){QuerySpec=_dvtUtilsQuerySpec["default"]}],execute:function(){"use strict";Horizon=function(_React$Component){function Horizon(props){_classCallCheck(this,Horizon),_get(Object.getPrototypeOf(Horizon.prototype),"constructor",this).call(this,props),this.devicePixelRatio=window.devicePixelRatio||1,this.canvas=null,this.gl=null,this.resizeBoundarySubIndex=-1,this.dragShouldResize=!1,this.dragShouldMove=!1,this.dragShouldMoveGroup=!1,this.boundaries=[],this.horizontalShaderProgram=null,this.lineVerticesBuffer=null,this.lineTranslateLocation=null,this.vertexPositionAttribute_horizontal=null,this.canvasSizeLocation_horizontal=null,this.depthLocation_hl=null,this.shaderProgram=null,this.paletteTexture=null,this.tileVerticesBuffers=[],this.tileSizes=[],this.tileVerticesTextureCoordBuffer=null,this.tileVerticesIndexBuffer=null,this.tileTranslateLocation=null,this.depthLocation=null,this.vertexPositionAttribute=null,this.canvasSizeLocation=null,this.textureCoordAttribute=null,this.samplerLocation=null,this.paletteSamplerLocation=null,this.levelsLocation=null,this.tileSizeLocation=null,this.posPaletteLocation=null,this.negPaletteLocation=null,this.precisionScaleLocation=null,this.precisionOffsetLocation=null,this.adjustScaleLocation=null,this.adjustOffsetLocation=null,this.adjustReScaleLocation=null,this.precisionOffsetLocation=null,this.textShaderProgram=null,this.canvasSizeLocation_text=null,this.translateScale_text=null,this.textureCutoffT_text=null,this.depth_text=null,this.textureTransparency_text=null,this.vertexPositionAttribute_text=null,this.textureCoordAttribute_text=null,this.squareVerticesBuffer=null,this.rectShaderProgram=null,this.canvasSizeLocation_rect=null,this.translateScale_rect=null,this.depth_rect=null,this.vertexPositionAttribute_rect=null,this.rectVerticesBuffer=null,this.color_rect=null,this.shouldRender=!1,this.currentSeriesResolution=NaN,this.overlays={},this.headerTextures={},this.data={},this.queries={},this.visibleQueries={},this.executingQueries={},this.queriesLastExecuted={},this.seriesCreationQuery=null,this.zeroTile={},this.nanTile={},this.infinityTile={},this._baseLineHeight=-1,this._blockSize=256,this._canvasSize=[1,1],this.dbgfmt=d3.time.format("%Y-%m-%d %H:%M:%S"),this.scrollingMouseDown=!1,this._headerHeight=32,this.headerCtxWidth_pixels=2048*this.devicePixelRatio,this.headerCtxHeight_pixels=this._headerHeight*this.devicePixelRatio,this.headerCtx=HorizonGroupHeaderUtils.makeCanvas(this.headerCtxWidth_pixels,this.headerCtxHeight_pixels,this.devicePixelRatio),this.ctxs=HorizonOverlayUtils.makeOverlayCanvases(this.devicePixelRatio,16),this.fisheyeHeight=5,this.headerHeights=[0,32*this.devicePixelRatio],this.footerHeights=[0,16*this.devicePixelRatio],this.state={ruleLocation:-1,scrollTop:0}}return _inherits(Horizon,_React$Component),_createClass(Horizon,[{key:"endDate_steps",value:function(){return Math.floor(this.props.allstate.timeframe.endDate_ms/this.resolution_ms())}},{key:"resolution_ms",value:function(){return this.props.allstate.timeframe.resolution_ms}},{key:"componentWillReceiveProps",value:function(props){(this._canvasSize[0]!=props.allstate.layout.horizon_dimensions.width||this._canvasSize[1]!=props.allstate.layout.horizon_dimensions.height)&&this.canvasSize([props.allstate.layout.horizon_dimensions.innerWidth,props.allstate.layout.horizon_dimensions.height]),this.updateData(props)}},{key:"componentDidUpdate",value:function(){var modeChanged=this._previousMode!=this.props.allstate.timeframe.mode;(Timer_RealTime.pixelAlignShouldUpdate()||modeChanged)&&(this._previousMode=this.props.allstate.timeframe.mode),this.shouldRender=!0,this.props.ruleLocationChangeCallback(this.state.ruleLocation)}},{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.scrollMouseUp.bind(this),!1),this.baseLineHeight(8*this.devicePixelRatio).blockSize(256).canvasSize([this.props.allstate.layout.horizon_dimensions.width-16,this.props.allstate.layout.horizon_dimensions.height]),this.start()}},{key:"canvasSize",value:function(_){return arguments.length?(this._canvasSize=_,this.canvas=ReactDOM.findDOMNode(this.refs.cnvs),this.canvas.width=_[0]*this.devicePixelRatio,this.canvas.height=_[1]*this.devicePixelRatio,this.canvas.style.width=_[0]+"px",this.canvas.style.height=_[1]+"px",this.gl&&(this.shouldRender=!0,this.gl.useProgram(this.shaderProgram),this.gl.uniform2f(this.canvasSizeLocation,_[0]*this.devicePixelRatio,_[1]*this.devicePixelRatio),this.gl.useProgram(this.horizontalShaderProgram),this.gl.uniform2f(this.canvasSizeLocation_horizontal,_[0]*this.devicePixelRatio,_[1]*this.devicePixelRatio),this.gl.useProgram(this.textShaderProgram),this.gl.uniform2f(this.canvasSizeLocation_text,_[0]*this.devicePixelRatio,_[1]*this.devicePixelRatio),this.gl.useProgram(this.rectShaderProgram),this.gl.uniform2f(this.canvasSizeLocation_rect,_[0]*this.devicePixelRatio,_[1]*this.devicePixelRatio),this.gl.viewport(0,0,_[0]*this.devicePixelRatio,_[1]*this.devicePixelRatio)),this):this._canvasSize}},{key:"baseLineHeight",value:function(_){if(!arguments.length)return this._baseLineHeight;if(this._baseLineHeight=_,this.gl)throw new Error("line height change after start not implemented");return this}},{key:"blockSize",value:function(_){if(!arguments.length)return this._blockSize;if(this._blockSize=_,this.gl)throw new Error("cannot change block size after start");return this}},{key:"initWebGL",value:function(){this.gl=null;try{this.gl=this.canvas.getContext("webgl",{antialias:!1})}catch(e){}this.gl||alert("Unable to initialize WebGL. Your browser may not support it.")}},{key:"textureFromUInt8Array",value:function(data,width,height,type){var texture=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,type,width,height,0,type,this.gl.UNSIGNED_BYTE,data),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),texture}},{key:"textureFromTileData",value:function(dataArray){var bArray=Horizon.floatsToBytes(dataArray);return this.textureFromUInt8Array(new Uint8Array(bArray),dataArray.length,1,this.gl.RGBA)}},{key:"initSpecialTiles",value:function(){for(var zeroTileData=[],nanTileData=[],infinityTileData=[],i=0;i<this._blockSize;++i)zeroTileData.push(0),nanTileData.push(NaN),infinityTileData.push(1/0);var tileRangeMin=-1,tileRangeMax=1,tileRangeAbs=1,precisionOffset=0,precisionScale=1,tileTexture=this.textureFromTileData(zeroTileData);this.zeroTile.texture=tileTexture,this.zeroTile.precisionOffset=precisionOffset,this.zeroTile.precisionScale=precisionScale,this.zeroTile.rangeMin=tileRangeMin,this.zeroTile.rangeMax=tileRangeMax,this.zeroTile.rangeAbs=tileRangeAbs,tileTexture=this.textureFromTileData(nanTileData),this.nanTile.texture=tileTexture,this.nanTile.precisionOffset=precisionOffset,this.nanTile.precisionScale=precisionScale,this.nanTile.rangeMin=tileRangeMin,this.nanTile.rangeMax=tileRangeMax,this.nanTile.rangeAbs=tileRangeAbs,tileTexture=this.textureFromTileData(infinityTileData),this.infinityTile.texture=tileTexture,this.infinityTile.precisionOffset=precisionOffset,this.infinityTile.precisionScale=precisionScale,this.infinityTile.rangeMin=tileRangeMin,this.infinityTile.rangeMax=tileRangeMax,this.infinityTile.rangeAbs=tileRangeAbs}},{key:"initBuffers",value:function(){for(var i=0;6>i;++i){var tileVerticesBuffer=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,tileVerticesBuffer);var wdth=this._blockSize*this.devicePixelRatio,hgt=this._baseLineHeight*Math.pow(2,i)-1,tileVertices=[0,hgt,wdth,hgt,wdth,0,0,0];this.tileSizes.push([wdth,hgt]),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(tileVertices),this.gl.STATIC_DRAW),this.tileVerticesBuffers.push(tileVerticesBuffer)}this.lineVerticesBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.lineVerticesBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,1,1,1,1,0,0,0]),this.gl.STATIC_DRAW),this.squareVerticesBuffer=this.lineVerticesBuffer,this.tileVerticesIndexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),this.gl.STATIC_DRAW),this.tileVerticesTextureCoordBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileVerticesTextureCoordBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,1,1,1,1,0,0,0]),this.gl.STATIC_DRAW);var paletteData=PaletteUtils.getMasterPalette(),width=PaletteUtils.getMasterNumberOfPalettes(),height=PaletteUtils.getMasterNumberOfLevels();this.paletteTexture=this.textureFromUInt8Array(paletteData,width,height,this.gl.RGBA)}},{key:"initShaders",value:function(){var fragmentShader=Horizon.getShader(this.gl,"tile-fragment-shader"),vertexShader=Horizon.getShader(this.gl,"tile-vertex-shader");this.shaderProgram=this.gl.createProgram(),this.gl.attachShader(this.shaderProgram,vertexShader),this.gl.attachShader(this.shaderProgram,fragmentShader),this.gl.linkProgram(this.shaderProgram),this.gl.getProgramParameter(this.shaderProgram,this.gl.LINK_STATUS)||alert("Unable to initialize the shader program."),this.gl.useProgram(this.shaderProgram),this.vertexPositionAttribute=this.gl.getAttribLocation(this.shaderProgram,"a_vertexPosition"),this.gl.enableVertexAttribArray(this.vertexPositionAttribute),this.textureCoordAttribute=this.gl.getAttribLocation(this.shaderProgram,"a_textureCoord"),this.gl.enableVertexAttribArray(this.textureCoordAttribute),this.samplerLocation=this.gl.getUniformLocation(this.shaderProgram,"u_sampler"),this.paletteSamplerLocation=this.gl.getUniformLocation(this.shaderProgram,"u_paletteSampler"),this.canvasSizeLocation=this.gl.getUniformLocation(this.shaderProgram,"u_canvasSize"),this.depthLocation=this.gl.getUniformLocation(this.shaderProgram,"u_depth"),this.gl.uniform2f(this.canvasSizeLocation,this._canvasSize[0]*this.devicePixelRatio,this._canvasSize[1]*this.devicePixelRatio),this.levelsLocation=this.gl.getUniformLocation(this.shaderProgram,"u_levels"),this.tileSizeLocation=this.gl.getUniformLocation(this.shaderProgram,"u_tileSize"),this.posPaletteLocation=this.gl.getUniformLocation(this.shaderProgram,"u_posPalette"),this.negPaletteLocation=this.gl.getUniformLocation(this.shaderProgram,"u_negPalette"),this.adjustOffsetLocation=this.gl.getUniformLocation(this.shaderProgram,"u_adjustOffset"),this.adjustScaleLocation=this.gl.getUniformLocation(this.shaderProgram,"u_adjustScale"),this.adjustReScaleLocation=this.gl.getUniformLocation(this.shaderProgram,"u_adjustReScale"),this.tileTranslateLocation=this.gl.getUniformLocation(this.shaderProgram,"u_tileTranslate"),this.precisionScaleLocation=this.gl.getUniformLocation(this.shaderProgram,"u_precisionScale"),this.precisionOffsetLocation=this.gl.getUniformLocation(this.shaderProgram,"u_precisionOffset");var horizontalFragmentShader=Horizon.getShader(this.gl,"hl-fragment-shader"),horizontalVertexShader=Horizon.getShader(this.gl,"hl-vertex-shader");this.horizontalShaderProgram=this.gl.createProgram(),this.gl.attachShader(this.horizontalShaderProgram,horizontalVertexShader),this.gl.attachShader(this.horizontalShaderProgram,horizontalFragmentShader),this.gl.linkProgram(this.horizontalShaderProgram),this.gl.getProgramParameter(this.horizontalShaderProgram,this.gl.LINK_STATUS)||alert("Unable to initialize the shader program (horizontal)."),this.gl.useProgram(this.horizontalShaderProgram),this.vertexPositionAttribute_horizontal=this.gl.getAttribLocation(this.horizontalShaderProgram,"a_vertexPosition"),this.gl.enableVertexAttribArray(this.vertexPositionAttribute_horizontal),this.canvasSizeLocation_horizontal=this.gl.getUniformLocation(this.horizontalShaderProgram,"u_canvasSize"),this.gl.uniform2f(this.canvasSizeLocation_horizontal,this._canvasSize[0]*this.devicePixelRatio,this._canvasSize[1]*this.devicePixelRatio),this.lineTranslateLocation=this.gl.getUniformLocation(this.horizontalShaderProgram,"u_lineTranslate"),this.depthLocation_hl=this.gl.getUniformLocation(this.horizontalShaderProgram,"u_depth");var textFragmentShader=Horizon.getShader(this.gl,"text-fragment-shader"),textVertexShader=Horizon.getShader(this.gl,"text-vertex-shader");this.textShaderProgram=this.gl.createProgram(),this.gl.attachShader(this.textShaderProgram,textVertexShader),this.gl.attachShader(this.textShaderProgram,textFragmentShader),this.gl.linkProgram(this.textShaderProgram),this.gl.getProgramParameter(this.textShaderProgram,this.gl.LINK_STATUS)||alert("Unable to initialize the shader program (text)."),this.gl.useProgram(this.textShaderProgram),this.canvasSizeLocation_text=this.gl.getUniformLocation(this.textShaderProgram,"u_canvasSize"),this.translateScale_text=this.gl.getUniformLocation(this.textShaderProgram,"u_translateScale"),this.textureCutoffT_text=this.gl.getUniformLocation(this.textShaderProgram,"u_cutoffT"),this.textureTransparency_text=this.gl.getUniformLocation(this.textShaderProgram,"u_transparency"),this.depth_text=this.gl.getUniformLocation(this.textShaderProgram,"u_depth"),this.vertexPositionAttribute_text=this.gl.getAttribLocation(this.textShaderProgram,"a_vertexPosition"),this.gl.enableVertexAttribArray(this.vertexPositionAttribute_text),this.textureCoordAttribute_text=this.gl.getAttribLocation(this.textShaderProgram,"a_textureCoord"),this.gl.enableVertexAttribArray(this.textureCoordAttribute_text);var rectFragmentShader=Horizon.getShader(this.gl,"rect-fragment-shader"),rectVertexShader=Horizon.getShader(this.gl,"rect-vertex-shader");this.rectShaderProgram=this.gl.createProgram(),this.gl.attachShader(this.rectShaderProgram,rectVertexShader),this.gl.attachShader(this.rectShaderProgram,rectFragmentShader),this.gl.linkProgram(this.rectShaderProgram),this.gl.getProgramParameter(this.rectShaderProgram,this.gl.LINK_STATUS)||alert("Unable to initialize the shader program (rect)."),this.canvasSizeLocation_rect=this.gl.getUniformLocation(this.rectShaderProgram,"u_canvasSize"),this.translateScale_rect=this.gl.getUniformLocation(this.rectShaderProgram,"u_translateScale"),this.depth_rect=this.gl.getUniformLocation(this.rectShaderProgram,"u_depth"),this.color_rect=this.gl.getUniformLocation(this.rectShaderProgram,"u_color"),this.vertexPositionAttribute_rect=this.gl.getAttribLocation(this.rectShaderProgram,"a_vertexPosition"),this.gl.enableVertexAttribArray(this.vertexPositionAttribute_rect)}},{key:"applyMagnify",value:function(h,m){return h+=m,1>h&&(h=1),h>6&&(h=6),h}},{key:"drawColumn",value:function(col,magnifyH,sTop,columnSpecs){var _this=this,columnWidth=columnSpecs[col][1]-columnSpecs[col][0],hoverDetailEnabled=(columnSpecs.length,this.props.allstate.layout.hoverDetailEnabled),fisheyeMode=this.props.allstate.layout.inFisheyeMode,fisheyeFocus=this.currentlyOver;this.props.allstate.layout.fisheyeFrozenLine&&(fisheyeFocus=this.props.allstate.layout.fisheyeFrozenLine);var fisheyeAdjustDown=0;if(fisheyeMode&&fisheyeFocus){var desiredHeight=Math.pow(2,this.fisheyeHeight-1)*this._baseLineHeight-1,fisheyeFocusHeight=Math.pow(2,this.applyMagnify(fisheyeFocus.Height,magnifyH)-1)*this._baseLineHeight-1;desiredHeight>fisheyeFocusHeight&&(fisheyeAdjustDown=desiredHeight-fisheyeFocusHeight)}this.gl.colorMask(!1,!1,!1,!1),col>0&&(this.gl.useProgram(this.rectShaderProgram),this.gl.enableVertexAttribArray(this.vertexPositionAttribute_rect),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.squareVerticesBuffer),this.gl.vertexAttribPointer(this.vertexPositionAttribute_rect,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer),this.gl.uniform1f(this.depth_rect,.01*(columnSpecs.length-col+1)-.005),this.gl.uniform4f(this.translateScale_rect,0,0,columnSpecs[col][0]*this.devicePixelRatio,this._canvasSize[1]*this.devicePixelRatio),this.gl.uniform4f(this.color_rect,0,0,0,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)),col<columnSpecs.length-1&&(this.gl.useProgram(this.rectShaderProgram),this.gl.enableVertexAttribArray(this.vertexPositionAttribute_rect),
this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.squareVerticesBuffer),this.gl.vertexAttribPointer(this.vertexPositionAttribute_rect,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer),this.gl.uniform1f(this.depth_rect,.01*(columnSpecs.length-col+1)-.005),this.gl.uniform4f(this.translateScale_rect,columnSpecs[col][1]*this.devicePixelRatio,0,this._canvasSize[0]*this.devicePixelRatio,this._canvasSize[1]*this.devicePixelRatio),this.gl.uniform4f(this.color_rect,0,0,0,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)),this.gl.colorMask(!0,!0,!0,!0),this.gl.useProgram(this.shaderProgram),this.gl.uniform1i(this.samplerLocation,0),this.gl.uniform1i(this.paletteSamplerLocation,1),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileVerticesTextureCoordBuffer),this.gl.vertexAttribPointer(this.textureCoordAttribute,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.paletteTexture),this.gl.activeTexture(this.gl.TEXTURE0);for(var startDate_steps=this.endDate_steps()-columnWidth,firstBlockStartStep=Math.floor(startDate_steps/this._blockSize)*this._blockSize,offset=startDate_steps-firstBlockStartStep,nBlocks=Math.round(columnWidth/this._blockSize)+2,startDate=this.props.allstate.timeframe.startDate_ms,endDate=this.props.allstate.timeframe.endDate_ms,columnElements=this.props.allstate.pages.current.Columns[col],numLinesBeforeFisheyeOver=0,numLinesBeforeOver=null,numLinesBeforeCount=0,numGroupsBeforeOver=0,numGroupsBeforeOverCount=0,beforeFisheyeFocus=!0,boundaries=this.computeBoundaries(0,0,!1,columnElements,this.headerHeights,this.footerHeights)[1],inFisheyeColumn=!1,i=0;i<columnElements.length;++i){var currentLineSpecs=null,currentLevelBoundaries=null;"Series"===columnElements[i].ElementType?(currentLevelBoundaries=[boundaries[i]],currentLineSpecs=[columnElements[i]]):"Group"===columnElements[i].ElementType&&(numGroupsBeforeOverCount+=1,numLinesBeforeCount+=1,currentLevelBoundaries=boundaries[i][1],currentLineSpecs=columnElements[i].Children);for(var s_i=0;s_i<currentLineSpecs.length;++s_i){numLinesBeforeCount+=1;var currentBoundary=currentLevelBoundaries[s_i],currentLineSpec=currentLineSpecs[s_i],yPos=(this._canvasSize[1]-(currentBoundary[1]/this.devicePixelRatio-sTop))*this.devicePixelRatio+1,expandThis=!1;if(this.props.allstate.layout.inFisheyeMode&&fisheyeFocus&&(beforeFisheyeFocus?fisheyeFocus.Key===currentLineSpec.Key&&(beforeFisheyeFocus=!1,numLinesBeforeFisheyeOver=numLinesBeforeCount-1,numGroupsBeforeOver=numGroupsBeforeOverCount-1,expandThis=!0,yPos-=fisheyeAdjustDown,inFisheyeColumn=!0):yPos-=fisheyeAdjustDown),this.currentlyOver&&this.currentlyOver.Key==currentLineSpec.Key&&(numLinesBeforeOver=numLinesBeforeCount-1),!(currentBoundary[1]<sTop)){if(i>0&&currentBoundary[0]>sTop*this.devicePixelRatio+this._canvasSize[1]*this.devicePixelRatio)break;this.visibleQueries[currentLineSpec.QuerySpec.serialized]=!0;var testString=currentLineSpec.IdentifiedBy_string+"~~~"+currentLineSpec.QuerySpec.serialized,currentLineData=this.data[testString],currentLineSeriesData=currentLineData.seriesData,currentLineTileData=currentLineData.tileData,refValue=0;"Range Start"===currentLineSpec.ReferenceType?refValue=currentLineSeriesData.value_at_ms(startDate):"Range End"===currentLineSpec.ReferenceType?refValue=currentLineSeriesData.value_at_ms(endDate):"Fixed"===currentLineSpec.ReferenceType&&(refValue=currentLineSpec.ReferenceValue);var blk_hgt=expandThis&&this.applyMagnify(currentLineSpec.Height,magnifyH)<this.fisheyeHeight?this.fisheyeHeight:this.applyMagnify(currentLineSpec.Height,magnifyH);if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileVerticesBuffers[blk_hgt-1]),this.gl.vertexAttribPointer(this.vertexPositionAttribute,2,this.gl.FLOAT,!1,0,0),this.gl.uniform1f(this.posPaletteLocation,(currentLineSpec.PosPalette+.1)/16),this.gl.uniform1f(this.negPaletteLocation,(currentLineSpec.NegPalette+.1)/16),this.gl.uniform1f(this.levelsLocation,expandThis?1:currentLineSpec.Levels),this.gl.uniform1f(this.depthLocation,.01*(columnSpecs.length-col+1)),this.gl.uniform2f(this.tileSizeLocation,this.tileSizes[blk_hgt-1][0],this.tileSizes[blk_hgt-1][1]),currentLineTileData){for(var rangeMin=1/0,rangeMax=-(1/0),rangeAbsMax=-(1/0),j=0;nBlocks>j;++j){var tileId=Math.floor(startDate_steps/this._blockSize)+j,tile=currentLineTileData[tileId];tile&&(tile.rangeMin<rangeMin&&(rangeMin=tile.rangeMin),tile.rangeMax>rangeMax&&(rangeMax=tile.rangeMax),tile.rangeAbs>rangeAbsMax&&(rangeAbsMax=tile.rangeAbs))}this.gl.uniform1f(this.adjustScaleLocation,1),this.gl.uniform1f(this.adjustOffsetLocation,refValue);var newRange=Math.max(Math.abs(rangeMin-refValue),Math.abs(rangeMax-refValue));""!=currentLineSpec.Range&&(newRange=parseFloat(currentLineSpec.Range)),1e-4>newRange&&(newRange=1e-4),this.gl.uniform1f(this.adjustReScaleLocation,newRange);for(var j=0;nBlocks>j;++j){var tileId=Math.floor(startDate_steps/this._blockSize)+j,tile=currentLineTileData[tileId];tile||(tile=this.infinityTile),this.gl.uniform1f(this.precisionOffsetLocation,tile.precisionOffset),this.gl.uniform1f(this.precisionScaleLocation,tile.precisionScale),this.gl.bindTexture(this.gl.TEXTURE_2D,tile.texture);var xPos=j*this._blockSize*this.devicePixelRatio-offset*this.devicePixelRatio+columnSpecs[col][0]*this.devicePixelRatio;this.gl.uniform2f(this.tileTranslateLocation,xPos,yPos),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}}}}}this.gl.useProgram(this.horizontalShaderProgram),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileVerticesTextureCoordBuffer),this.gl.vertexAttribPointer(this.textureCoordAttribute,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.lineVerticesBuffer),this.gl.vertexAttribPointer(this.vertexPositionAttribute_horizontal,2,this.gl.FLOAT,!1,0,0);for(var cnt=0,b_i=0;b_i<boundaries.length;++b_i){var o=boundaries[b_i],prevIsGroup=!1;if(b_i>0){var oP=boundaries[b_i-1];Array.isArray(oP[1])&&(prevIsGroup=!0)}var lLocs=null;Array.isArray(o[1])?lLocs=[o[0][1]-sTop*this.devicePixelRatio-1].concat(o[1].map(function(a){return a[1]-sTop*_this.devicePixelRatio-1})):(lLocs=[],prevIsGroup&&(lLocs=[o[0]-sTop*this.devicePixelRatio-1]),lLocs.push(o[1]-sTop*this.devicePixelRatio-1));for(var l_i=0;l_i<lLocs.length;++l_i){var lLoc=lLocs[l_i];cnt+=1;var highlight=!1;if(inFisheyeColumn&&cnt>numLinesBeforeFisheyeOver&&(lLoc+=fisheyeAdjustDown),!hoverDetailEnabled||null==numLinesBeforeOver||cnt!=numLinesBeforeOver&&cnt!=numLinesBeforeOver+1||(highlight=!0),0>lLoc);else{if(lLoc>this._canvasSize[1]*this.devicePixelRatio){b_i=boundaries.length;break}this.gl.uniform1f(this.lineTranslateLocation,lLoc),this.gl.uniform1f(this.depthLocation_hl,.01*(columnSpecs.length-col+1)),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),highlight&&(this.gl.uniform1f(this.lineTranslateLocation,lLoc+(cnt==numLinesBeforeOver?-1:1)),this.gl.uniform1f(this.depthLocation_hl,.01*(columnSpecs.length-col+1)-.005),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0))}}}var makeCloseButton="transient"!=Store_Pages.currentSelectedPageType()&&!fisheyeMode,makeSettingsButton=!fisheyeMode;this.gl.useProgram(this.textShaderProgram),this.gl.enableVertexAttribArray(this.textureCoordAttribute_text),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.squareVerticesBuffer),this.gl.vertexAttribPointer(this.vertexPositionAttribute_text,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileVerticesTextureCoordBuffer),this.gl.vertexAttribPointer(this.textureCoordAttribute_text,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer),this.gl.uniform1f(this.depth_text,.01*(columnSpecs.length-col+1)-.0025);var groupIndices=[],prevBlendModeTransparent=!1;beforeFisheyeFocus=!0;for(var i=0;i<columnElements.length;++i){var lSpecs=null,bdrys=null;"Series"===columnElements[i].ElementType?(lSpecs=[columnElements[i]],bdrys=[boundaries[i]]):(groupIndices.push(i),lSpecs=columnElements[i].Children,bdrys=boundaries[i][1]);for(var k=0;k<lSpecs.length;++k){var bdry=bdrys[k],currentLineSpec=lSpecs[k],currentOverlay=this.overlays[currentLineSpec.Key],os=bdry[0]-sTop*this.devicePixelRatio;if(os+=2!=this.applyMagnify(currentLineSpec.Height,magnifyH)||fisheyeMode&&fisheyeFocus&&fisheyeFocus.Key==currentLineSpec.Key?3!=this.applyMagnify(currentLineSpec.Height,magnifyH)||fisheyeMode&&fisheyeFocus&&fisheyeFocus.Key==currentLineSpec.Key?5*this.devicePixelRatio:3*this.devicePixelRatio:0,this.props.allstate.layout.refreshOverlayData&&currentOverlay&&("__all__"==this.props.allstate.layout.refreshOverlayData||this.props.allstate.layout.refreshOverlayData==columnElements[i].Key||this.props.allstate.layout.refreshOverlayData==lSpecs[k].Key)&&(this.gl.deleteTexture(currentOverlay.texture),delete this.overlays[currentLineSpec.Key],currentOverlay=null),!(os>this._canvasSize[1]*this.devicePixelRatio&&os<(this._baseLineHeight+5)*this.devicePixelRatio)){currentOverlay||(this.overlays[currentLineSpec.Key]=HorizonOverlayUtils.makeTextTexture(this.ctxs,currentLineSpec,Store_Source.getActiveAdapter().getMetricLabelName(),makeCloseButton,makeSettingsButton,currentLineSpec.OverlayStyle,currentLineSpec.OverlayTextType,currentLineSpec.OverlayText,this.devicePixelRatio,this.gl),currentOverlay=this.overlays[currentLineSpec.Key]),"Transparent"===currentLineSpec.OverlayStyle?(prevBlendModeTransparent||(this.gl.blendEquation(this.gl.FUNC_REVERSE_SUBTRACT),this.gl.blendFunc(this.gl.SRC_COLOR,this.gl.ONE)),prevBlendModeTransparent=!0):(prevBlendModeTransparent&&(this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),prevBlendModeTransparent=!1);var expandThis=!1;this.props.allstate.layout.inFisheyeMode&&fisheyeFocus&&(beforeFisheyeFocus?fisheyeFocus.Key===currentLineSpec.Key&&(beforeFisheyeFocus=!1,expandThis=!0):os+=fisheyeAdjustDown),(1!=this.applyMagnify(currentLineSpec.Height,magnifyH)||fisheyeMode&&fisheyeFocus&&fisheyeFocus.Key==currentLineSpec.Key)&&(this.gl.bindTexture(this.gl.TEXTURE_2D,currentOverlay.texture),this.gl.uniform4f(this.translateScale_text,5*this.devicePixelRatio+columnSpecs[col][0]*this.devicePixelRatio,os,currentOverlay.width,2*this._baseLineHeight),this.gl.uniform1f(this.textureCutoffT_text,currentOverlay.overlayLength/currentOverlay.width),"Transparent"===currentLineSpec.OverlayStyle?this.gl.uniform1f(this.textureTransparency_text,0):this.gl.uniform1f(this.textureTransparency_text,1),("Hover"!==currentLineSpec.OverlayStyle||null!=this.currentlyOver&&this.currentlyOver.Key==currentLineSpec.Key)&&("Hover"===currentLineSpec.OverlayStyle||null==this.currentlyOver||this.currentlyOver.Key!=currentLineSpec.Key||fisheyeMode||2!=this.applyMagnify(currentLineSpec.Height,magnifyH))&&this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0))}}}this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.uniform1f(this.depth_text,.01*(columnSpecs.length-col+1)-.004);for(var i=0;i<groupIndices.length;++i){var group=columnElements[groupIndices[i]],bounds=boundaries[groupIndices[i]][0],currentHeaderTexture=this.headerTextures[group.Key];if(this.props.allstate.layout.refreshHeaderTexture&&currentHeaderTexture&&(this.props.allstate.layout.refreshHeaderTexture==group.Key||"__all__"===this.props.allstate.layout.refreshHeaderTexture)&&(this.gl.deleteTexture(currentHeaderTexture.texture),delete this.headerTextures[group.Key],currentHeaderTexture=null),!currentHeaderTexture){this.headerTextures[group.Key]=HorizonGroupHeaderUtils.makeTextTexture(this.headerCtx,group.Name,makeCloseButton,makeSettingsButton,this.devicePixelRatio,this.gl)}currentHeaderTexture=this.headerTextures[group.Key].texture;var os=bounds[0]-sTop*this.devicePixelRatio;i>numGroupsBeforeOver&&col==this.fisheyeOverCol&&(os+=fisheyeAdjustDown),this.gl.bindTexture(this.gl.TEXTURE_2D,currentHeaderTexture),this.gl.uniform4f(this.translateScale_text,5*this.devicePixelRatio+columnSpecs[col][0]*this.devicePixelRatio,os,this.headerCtxWidth_pixels,this._headerHeight*this.devicePixelRatio-1),this.gl.uniform1f(this.textureCutoffT_text,1),this.gl.uniform1f(this.textureTransparency_text,1),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.useProgram(this.rectShaderProgram),this.gl.enableVertexAttribArray(this.vertexPositionAttribute_rect),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.squareVerticesBuffer),this.gl.vertexAttribPointer(this.vertexPositionAttribute_rect,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer),this.gl.uniform1f(this.depth_rect,.01*(columnSpecs.length-col+1)-.004);for(var i=0;i<groupIndices.length;++i){var group=columnElements[groupIndices[i]],bounds=boundaries[groupIndices[i]][2],left=columnSpecs[col][0]*this.devicePixelRatio,_top=bounds[0]-sTop*this.devicePixelRatio;i>=numGroupsBeforeOver&&col==this.fisheyeOverCol&&(_top+=fisheyeAdjustDown);var width=(columnSpecs[col][1]-columnSpecs[col][0])*this.devicePixelRatio,height=bounds[1]-bounds[0];this.gl.uniform4f(this.translateScale_rect,left,_top,width,height),this.gl.uniform4f(this.color_rect,0,0,0,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}if(this.state.ruleLocation>0&&this.props.allstate.layout.ruleEnabled){var bottom=-sTop*this.devicePixelRatio;if(boundaries.length>0)if(Array.isArray(boundaries[boundaries.length-1][1])){var tmp=boundaries[boundaries.length-1][1];bottom+=tmp[tmp.length-1][1]+(col==this.fisheyeOverCol?fisheyeAdjustDown:0)}else bottom+=boundaries[boundaries.length-1][1]+(col==this.fisheyeOverCol?fisheyeAdjustDown:0);0>bottom&&(bottom=0),this.gl.useProgram(this.rectShaderProgram),this.gl.enableVertexAttribArray(this.vertexPositionAttribute_rect),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.squareVerticesBuffer),this.gl.vertexAttribPointer(this.vertexPositionAttribute_rect,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer),this.gl.uniform1f(this.depth_rect,.01*(columnSpecs.length-col+1)-.003),this.gl.uniform4f(this.translateScale_rect,(columnSpecs[col][0]+this.state.ruleLocation)*this.devicePixelRatio,0,this.devicePixelRatio,bottom),this.gl.uniform4f(this.color_rect,0,0,0,.7),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}}},{key:"drawScene",value:function(){if(this.visibleQueries={},this.gl.clear(this.gl.COLOR_BUFFER_BIT),null!=this.props.allstate.pages.current){for(var magnifyH=this.props.allstate.layout.verticalMagnify,sTop=this.state.scrollTop,columnSpecs=this.props.allstate.horizonLayout.columnSpecs,col=0;col<columnSpecs.length;++col)this.drawColumn(col,magnifyH,sTop,columnSpecs);this.gl.useProgram(this.rectShaderProgram),this.gl.enableVertexAttribArray(this.vertexPositionAttribute_rect),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.squareVerticesBuffer),this.gl.vertexAttribPointer(this.vertexPositionAttribute_rect,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.tileVerticesIndexBuffer);for(var i=1;i<columnSpecs.length;++i){var x1=columnSpecs[i-1][1],x2=columnSpecs[i][0];this.gl.uniform1f(this.depth_rect,-.3),this.gl.uniform4f(this.translateScale_rect,x1*this.devicePixelRatio,0,(x2-x1)*this.devicePixelRatio,this._canvasSize[1]*this.devicePixelRatio),this.gl.uniform4f(this.color_rect,1,1,1,1),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.props.allstate.layout.refreshOverlayData&&setTimeout(function(){AppActions.refreshOverlayDataDone()},0),this.props.allstate.layout.refreshHeaderTexture&&setTimeout(function(){AppActions.refreshHeaderTextureDone()},0)}}},{key:"addData",value:function(seriesId,start_ms,stop_ms,alldata_start_ms,series_alldata,resolution){if(resolution==this.resolution_ms()&&this.data[seriesId]&&this.data[seriesId].seriesData)for(var alldataStartStep=alldata_start_ms/this.resolution_ms(),startStep=start_ms/this.resolution_ms(),startTile=Math.floor(startStep/this._blockSize),stopStep=stop_ms/this.resolution_ms(),stopTile=Math.floor(stopStep/this._blockSize),i=startTile;stopTile>=i;++i){var prepend=[],tileStartStep=i*this._blockSize;if(alldataStartStep>tileStartStep){for(var prependMax=alldataStartStep-tileStartStep,j=0;prependMax>j;++j)prepend.push(NaN);tileStartStep=alldataStartStep}var append=[],tileStopStep=(i+1)*this._blockSize;if(tileStopStep>=alldataStartStep+series_alldata.length){for(var appendMax=tileStopStep-(alldataStartStep+series_alldata.length),j=0;appendMax>j;++j)append.push(NaN);tileStopStep=alldataStartStep+series_alldata.length}var appendLength=append.length,prependLength=prepend.length,tileData=series_alldata.slice(tileStartStep-alldataStartStep,tileStopStep-alldataStartStep),dataLength=tileData.length;if(tileData=prepend.concat(tileData),tileData=tileData.concat(append),256==tileData.length){for(var tileRangeMax=-(1/0),tileRangeMin=1/0,tileRangeAbs=-(1/0),precisionScale=NaN,precisionOffset=NaN,ii=0;isNaN(precisionOffset)&&ii<tileData.length;)precisionOffset=tileData[ii],ii+=1;if(!isNaN(precisionOffset)){for(var j=0;j<tileData.length;++j)!isNaN(tileData[j])&&tileData[j]>tileRangeMax&&(tileRangeMax=tileData[j]),!isNaN(tileData[j])&&tileData[j]<tileRangeMin&&(tileRangeMin=tileData[j]);precisionScale=Math.max(Math.abs(tileRangeMax-precisionOffset),Math.abs(tileRangeMin-precisionOffset)),1e-6>precisionScale&&(precisionScale=1e-6),tileRangeAbs=Math.max(Math.abs(tileRangeMax),Math.abs(tileRangeMin));for(var j=0;j<tileData.length;++j)isNaN(tileData[j])||(tileData[j]=(tileData[j]-precisionOffset)/precisionScale)}var tileTexture=this.textureFromTileData(tileData);this.data[seriesId].tileData.hasOwnProperty(i)||(this.data[seriesId].tileData[i]={texture:null});var previousTexture=this.data[seriesId].tileData[i].texture;this.data[seriesId].tileData[i].texture=tileTexture,this.data[seriesId].tileData[i].precisionOffset=precisionOffset,this.data[seriesId].tileData[i].precisionScale=precisionScale,this.data[seriesId].tileData[i].rangeMin=tileRangeMin,this.data[seriesId].tileData[i].rangeMax=tileRangeMax,this.data[seriesId].tileData[i].rangeAbs=tileRangeAbs,null!=previousTexture&&this.gl.deleteTexture(previousTexture)}else console.log("tileData.length != 256: "+tileData.length+" ("+prependLength+","+dataLength+","+appendLength+"); res: "+this.resolution_ms())}}},{key:"gotDataCallback",value:function(querySpec,startTicks,stopTicks,alldata_start,alldata,resolution){if(delete this.executingQueries[querySpec.serialized],this.queries[querySpec.serialized]){querySpec.isManual()&&AppActions.removeNetworkStatus("Executing query...");var seriesSpecs=_Object$getOwnPropertyNames(alldata);if(this.props.allstate.pages.current&&this.props.allstate.pages.current.QuerySpec){var query=this.queries[this.props.allstate.pages.current.QuerySpec.serialized];query||console.log("ERROR: expecting query!"),querySpec.serialized!==this.props.allstate.pages.current.QuerySpec.serialized&&console.log("ERROR: expecting data querySpec to be same as page QuerySpec. querySpec: "+querySpec.serialized+" Query: "+this.props.allstate.pages.current.QuerySpec.serialized);for(var i=0;i<seriesSpecs.length;++i){var identifiedBy=seriesSpecs[i],dataKey=identifiedBy+"~~~"+querySpec.serialized;if(!this.data[dataKey]){var ss=LabelSpec.parse(identifiedBy);Store_Pages.addNewQuerySeriesToCurrent(ss,this.props.allstate.pages.current.QuerySpec),this.data[dataKey]&&console.log("ERROR: already have: "+identifiedBy),this.data[dataKey]={},this.data[dataKey].tileData={},this.data[dataKey].seriesData=new Series(identifiedBy,query)}}}if(this.props.allstate.pages.current&&"transient"===Store_Pages.currentSelectedPageType()&&querySpec.isSimple()&&this.props.allstate.label.counterToRate)if(1!=seriesSpecs.length)console.log("assert: seriesSpecs.length != 1, it is: "+seriesSpecs.length+" for querySpec "+querySpec.serialized);else{var dataKey=seriesSpecs[0]+"~~~"+querySpec.serialized;!this.data[dataKey]||this.data[dataKey].seriesData.preventAutoConvert||this.data[dataKey].seriesData.checkedIfMonotonic||(this.data[dataKey].seriesData.checkedIfMonotonic=!0,Series.detectMonotonicIncreasing(alldata[seriesSpecs[0]])&&(delete this.queries[this.data[dataKey].seriesData.query.querySpec.serialized],delete this.data[dataKey],AppActions.makeMonotonic(seriesSpecs[0])))}for(var i=0;i<seriesSpecs.length;++i){var dataKey=seriesSpecs[i]+"~~~"+querySpec.serialized;this.data[dataKey]&&(!querySpec.isSimple()||this.data[dataKey].seriesData.checkedIfMonotonic||this.data[dataKey].seriesData.preventAutoConvert||"transient"!==Store_Pages.currentSelectedPageType()||!this.props.allstate.label.counterToRate)&&(this.addData(dataKey,startTicks,stopTicks,alldata_start,alldata[seriesSpecs[i]],resolution),this.shouldRender=!0)}}}},{key:"gotErrorCallback",value:function(querySpec,resolution_ms,endDate_ms){delete this.executingQueries[querySpec.serialized],resolution_ms&&endDate_ms&&console.log("There was an error retrieving data for query: "+querySpec.serialized+"; end date: "+this.dbgfmt(new Date(endDate_ms))+"; resolution: "+resolution_ms+"ms")}},{key:"noopCallback",value:function(querySpec){delete this.executingQueries[querySpec.serialized]}},{key:"prepare",value:function(endDate_ms){if(this.data&&this.queries){for(var qs=_Object$getOwnPropertyNames(this.queries),scoredQueries=[],i=0;i<qs.length;++i){var score=0;this.visibleQueries[qs[i]]&&(score+=50),score+=this.queriesLastExecuted[qs[i]]?Date.now()/1e3-this.queriesLastExecuted[qs[i]]:100,scoredQueries.push([qs[i],score])}scoredQueries.sort(function(a,b){return a[1]<b[1]?1:a[1]>b[1]?-1:0});for(var numExecuting=_Object$getOwnPropertyNames(this.executingQueries).length,numToGet=Store_Source.getActiveProfileReference().MaxRequests-numExecuting,i=0;numToGet>i&&i<scoredQueries.length;++i){var query=this.queries[scoredQueries[i][0]];query.dateIsLongWayOutOfRange(endDate_ms)&&(query.clearBuffers(),this.forgetTileData(query));var r=query.prepare(endDate_ms,this.gotDataCallback.bind(this),this.gotErrorCallback.bind(this),this.noopCallback.bind(this),this.resolution_ms(),!1),retrieveWasStarted=(r[0],r[1]);retrieveWasStarted?(this.executingQueries[query.querySpec.serialized]=!0,this.queriesLastExecuted[query.querySpec.serialized]=Date.now()/1e3):delete this.executingQueries[query.querySpec.serialized]}}}},{key:"forgetTileData",value:function(m){}},{key:"forgetAllData",value:function(){}},{key:"forgetData",value:function(seriesId,startTick,endTick){}},{key:"updateData",value:function(props){if(this.currentSeriesResolution!=props.allstate.timeframe.resolution_ms&&(this.currentSeriesResolution=props.allstate.timeframe.resolution_ms,this.deleteAllData()),this.boundaries=[],props.allstate.pages.current&&props.allstate.pages.current.Columns)for(var i=0;i<props.allstate.pages.current.Columns.length;++i){var offsets=this.computeBoundaries(0,0,!0,props.allstate.pages.current.Columns[i],this.headerHeights,this.footerHeights)[1];this.boundaries.push(offsets)}this.updateDataForPageChange(props.allstate.pages.current)}},{key:"deleteSeriesOrGroupOrAllData",value:function(series){if(null==series)return void this.deleteAllData();if("Series"===series.ElementType){delete this.data[series.IdentifiedBy_string+"~~~"+series.QuerySpec.serialized];var q=this.queries[series.QuerySpec.serialized];return q.removeExpectedSeries(series.IdentifiedBy_string),q.empty()&&delete this.queries[series.QuerySpec.serialized],void delete this.overlays[series.Key]}if("Group"===series.ElementType){for(var i=0;i<series.Children.length;++i){delete this.data[series.Children[i].IdentifiedBy_string+"~~~"+series.Children[i].QuerySpec.serialized];var q=this.queries[series.Children[i].QuerySpec.serialized];q.removeExpectedSeries(series.Children[i].IdentifiedBy_string),q.empty()&&delete this.queries[series.Children[i].QuerySpec.serialized],delete this.overlays[series.Children[i].Key]}return void delete this.headerTextures[series.Key]}this.shouldRender=!0}},{key:"deleteAllData",value:function(){for(var names=_Object$getOwnPropertyNames(this.data),i=0;i<names.length;++i)delete this.data[names[i]];for(var qs=_Object$getOwnPropertyNames(this.queries),i=0;i<qs.length;++i)delete this.queries[qs[i]];for(var hts=_Object$getOwnPropertyNames(this.headerTextures),i=0;i<hts.length;++i)delete this.headerTextures[hts[i]];for(var os=_Object$getOwnPropertyNames(this.overlays),i=0;i<os.length;++i)delete this.overlays[os[i]];this.shouldRender=!0}},{key:"updateDataForPageChange",value:function(page){if(null==page)return void this.deleteAllData();for(var j=0;j<page.Columns.length;++j)for(var i=0;i<page.Columns[j].length;++i){var specs=[];if("Series"===page.Columns[j][i].ElementType)specs.push(page.Columns[j][i]);else{if("Group"!==page.Columns[j][i].ElementType)throw new Error("unknown element type: "+page.Columns[j][i].ElementType);specs=page.Columns[j][i].Children}for(var k=0;k<specs.length;++k){var spec=specs[k],identifiedBy=spec.IdentifiedBy_string,queryString=spec.QuerySpec.serialized;this.queries.hasOwnProperty(queryString)||(this.queries[queryString]=new Query(spec.QuerySpec,this.props.allstate.source.activeAdapter.executeDataQuery)),this.queries[queryString].addExpectedSeries(identifiedBy);var query=this.queries[queryString],key=identifiedBy+"~~~"+queryString;this.data.hasOwnProperty(key)||(this.data[key]={},this.data[key].tileData={},this.data[key].seriesData=new Series(identifiedBy,query),spec.PreventAutoConvert&&(this.data[key].seriesData.preventAutoConvert=!0),this.shouldRender=!0)}}for(var requiredSeries={},i=0;i<page.Columns.length;++i)for(var j=0;j<page.Columns[i].length;++j){var specs=[];"Series"===page.Columns[i][j].ElementType?specs.push(page.Columns[i][j]):"Group"===page.Columns[i][j].ElementType&&(specs=page.Columns[i][j].Children);for(var k=0;k<specs.length;++k)requiredSeries[specs[k].IdentifiedBy_string+"~~~"+specs[k].QuerySpec.serialized]=!0}for(var seriesDataSpecs=_Object$getOwnPropertyNames(this.data),i=0;i<seriesDataSpecs.length;++i){var ss=seriesDataSpecs[i];requiredSeries[ss]||delete this.data[ss]}for(var requiredQueries={},names=_Object$getOwnPropertyNames(this.data),i=0;i<names.length;++i)requiredQueries[this.data[names[i]].seriesData.query.querySpec.serialized]=!0;for(var qNames=_Object$getOwnPropertyNames(this.queries),i=0;i<qNames.length;++i)requiredQueries[qNames[i]]||page.QuerySpec&&qNames[i]===page.QuerySpec.serialized||(delete this.queries[qNames[i]],delete this.executingQueries[qNames[i]],delete this.queriesLastExecuted[qNames[i]]);if(page.QuerySpec){var _qNames=_Object$getOwnPropertyNames(this.queries);_qNames.length>1?(console.log("ERROR: this.queries size should not be > 1 for query page"),console.log(_qNames)):1==_qNames.length||(this.queries[page.QuerySpec.serialized]=new Query(page.QuerySpec,this.props.allstate.source.activeAdapter.executeDataQuery))}}},{key:"mouseDownHandler",value:function(e){if(this.mouseOverClose)Store_Interactions.increment("lineRemove"),AppActions.removeElement(this.currentlyOver.Key),this.mouseMoveHandler(e);else if(this.mouseOverGroupClose)Store_Interactions.increment("lineRemove"),AppActions.removeElement(this.currentlyOver.Key),this.mouseMoveHandler(e);else if(this.mouseOverSettings){if(!this.props.allstate.layout.lineSettingsVisible){this.lineOverWhenSettingsClicked=this.currentlyOver,this.colSpecWhenSettingsClicked=this.props.allstate.horizonLayout.columnSpecs[this.overCol];var pu=this.refs.horizonPopup;pu.buttonClicked()}}else if(this.mouseOverGroupSettings&&!this.props.allstate.layout.lineSettingsVisible){this.lineOverWhenSettingsClicked=this.currentlyOver,this.colSpecWhenSettingsClicked=this.props.allstate.horizonLayout.columnSpecs[this.overCol];var pu=this.refs.horizonPopup;pu.buttonClicked()}}},{key:"computeCurrentlyOverColumn",value:function(clientX){var posX=clientX;posX-=this.props.allstate.layout.sidebarHidden?this.props.allstate.layout.noSidebarMargin:this.props.allstate.layout.sidebarPaddedWidth;for(var currentOverCol=-1,colSpec=[-1,-1],colSpecs=this.props.allstate.horizonLayout.columnSpecs,i=0;i<colSpecs.length;++i)if(posX>=colSpecs[i][0]&&posX<=colSpecs[i][1]){currentOverCol=i,colSpec=colSpecs[i];break}return currentOverCol}},{key:"start",value:function(){var _this2=this;if(this.canvas=ReactDOM.findDOMNode(this.refs.cnvs),this.scrollDiv=ReactDOM.findDOMNode(this.refs.scrollDiv),this.initWebGL(this.canvas),this.gl){var that;!function(){var animate=function animate(){requestAnimationFrame(animate),that.shouldRender&&(that.drawScene(),that.shouldRender=!1)};_this2.gl.enable(_this2.gl.DEPTH_TEST),_this2.gl.enable(_this2.gl.BLEND),_this2.gl.blendEquation(_this2.gl.FUNC_ADD),_this2.gl.blendFunc(_this2.gl.SRC_ALPHA,_this2.gl.ONE_MINUS_SRC_ALPHA),_this2.initShaders(),_this2.initBuffers(),_this2.initSpecialTiles(),_this2.shouldRender=!1,that=_this2,animate(),setInterval(function(){var prepareTime=_this2.props.allstate.timeframe.endDate_ms+_this2.props.allstate.timeframe.requestLatency_ms;_this2.prepare(prepareTime),_this2.shouldRender=!0},200)}()}var netDragY=0,maxNetDragY=0,startHeight=0,prevHeight=0,netDragXwhilstResizing=void 0,keyWeAreMoving=-1,chartDragCallback=function(dx,dy,e){var magnify=this.props.allstate.layout.verticalMagnify;if(this.dragShouldResize&&!this.props.allstate.layout.inFisheyeMode){netDragY+=dy*this.devicePixelRatio,Math.abs(netDragY)>maxNetDragY&&(maxNetDragY=Math.abs(netDragY)),netDragXwhilstResizing+=dx,Math.abs(netDragXwhilstResizing)>10&&Math.abs(maxNetDragY)<5&&(this.dragShouldResize=!1,AppActions.shift(netDragXwhilstResizing),netDragXwhilstResizing=0);var b=this._baseLineHeight,posDists=[[b/2,b+2*b/2,b+2*b+4*b/2,b+2*b+4*b+8*b/2,b+2*b+4*b+8*b+16*b/2],[2*b/2,2*b+4*b/2,2*b+4*b+8*b/2,2*b+4*b+8*b+16*b/2],[4*b/2,4*b+8*b/2,4*b+8*b+16*b/2],[8*b/2,8*b+16*b/2],[16*b/2],[]],negDists=[[],[b-b/2],[2*b-b,2*b+b-b/2],[4*b-2*b,4*b+2*b-b,4*b+2*b+b-b/2],[8*b-4*b,8*b+4*b-2*b,8*b+4*b+2*b-b,8*b+4*b+2*b+b-b/2],[16*b-8*b,16*b+8*b-4*b,16*b+8*b+4*b-2*b,16*b+8*b+4*b+2*b-b,16*b+8*b+4*b+2*b+b-b/2]],newHeight=startHeight;if(netDragY>0){for(var dArr=posDists[this.applyMagnify(startHeight,magnify)-1],i=dArr.length-1;i>=0;--i)if(netDragY>dArr[i]){newHeight=startHeight+i+1,newHeight>6&&(newHeight=6);break}}else if(0>netDragY)for(var dArr=negDists[this.applyMagnify(startHeight,magnify)-1],i=dArr.length-1;i>=0;--i)if(-netDragY>dArr[i]){newHeight=startHeight-i-1,1>newHeight&&(newHeight=1);break}newHeight!=prevHeight&&(-1!=this.resizeBoundarySubIndex?AppActions.modifySeries(this.props.allstate.pages.current.Columns[this.overCol][this.resizeBoundaryIndex].Children[this.resizeBoundarySubIndex].Key,function(s){return s.Height=newHeight}):AppActions.modifySeries(this.props.allstate.pages.current.Columns[this.overCol][this.resizeBoundaryIndex].Key,function(s){return s.Height=newHeight}),Store_Interactions.increment("lineResize"),this.shouldRender=!0),prevHeight=newHeight}else if(this.dragShouldMove&&!this.props.allstate.layout.inFisheyeMode){AppActions.updateDragLocation([e.clientX,e.clientY]);var currentOverCol=this.computeCurrentlyOverColumn(e.clientX);if(0>currentOverCol)return void AppActions.setInsertBefore(null);var columnElements=this.props.allstate.pages.current.Columns[currentOverCol],boundaries=this.boundaries[currentOverCol],posY=(e.clientY-this.props.allstate.layout.header_dimensions.height-Store_Layout.axisHeight+this.state.scrollTop)*this.devicePixelRatio,endY=0;if(boundaries.length>0&&(endY=boundaries[boundaries.length-1][1],Array.isArray(endY)&&(endY=boundaries[boundaries.length-1][2][1])),posY>endY)AppActions.setInsertBefore(null),AppActions.setInsertAtGroupEnd(null),AppActions.setInsertAtColumnEnd(currentOverCol);else for(var i=columnElements.length-1;i>=0;--i){var boundaryBefore=boundaries[i][0];if(Array.isArray(boundaryBefore)){var fnd=!1;boundaries[i][2][0]<posY&&(AppActions.setInsertBefore(null),AppActions.setInsertAtGroupEnd(columnElements[i].Key),
AppActions.setInsertAtColumnEnd(null),fnd=!0);for(var subBoundaries=boundaries[i][1],k=subBoundaries.length-1;k>=0&&!fnd;--k)if(boundaryBefore=subBoundaries[k][0],posY>boundaryBefore){AppActions.setInsertBefore(columnElements[i].Children[k].Key),AppActions.setInsertAtGroupEnd(null),AppActions.setInsertAtColumnEnd(null),fnd=!0;break}if(boundaries[i][0][0]<posY&&!fnd&&(AppActions.setInsertBefore(columnElements[i].Key),AppActions.setInsertAtGroupEnd(null),AppActions.setInsertAtColumnEnd(null),fnd=!0),fnd)break}else if(posY>boundaryBefore){AppActions.setInsertBefore(columnElements[i].Key),AppActions.setInsertAtGroupEnd(null),AppActions.setInsertAtColumnEnd(null);break}}}else if(this.dragShouldMoveGroup&&!this.props.allstate.layout.inFisheyeMode){AppActions.updateDragLocation([e.clientX,e.clientY]);var currentOverCol=this.computeCurrentlyOverColumn(e.clientX);if(0>currentOverCol)return void AppActions.setInsertBefore(null);var columnElements=this.props.allstate.pages.current.Columns[currentOverCol],boundaries=this.boundaries[currentOverCol],posY=(e.clientY-this.props.allstate.layout.header_dimensions.height-Store_Layout.axisHeight+this.state.scrollTop)*this.devicePixelRatio,endY=0;if(boundaries.length>0&&(endY=boundaries[boundaries.length-1][1],Array.isArray(endY)&&(endY=boundaries[boundaries.length-1][2][1])),posY>endY)AppActions.setInsertBefore(null),AppActions.setInsertAtGroupEnd(null),AppActions.setInsertAtColumnEnd(currentOverCol);else for(var i=columnElements.length-1;i>=0;--i){var boundaryBefore=boundaries[i][0];if(Array.isArray(boundaryBefore)&&boundaries[i][0][0]<posY){AppActions.setInsertBefore(columnElements[i].Key),AppActions.setInsertAtGroupEnd(null),AppActions.setInsertAtColumnEnd(null);break}}}},chartDragFinishedCallback=function(e){if(this.dragShouldResize)AppActions.setInDrag(!1,null),this.mouseMoveHandler(e);else{AppActions.setInDrag(!1,null),this.mouseMoveHandler(e);var movingElementKey=this.props.allstate.layout.movingElementKey,insertBefore=this.props.allstate.layout.insertBefore;if(movingElementKey&&insertBefore&&movingElementKey>=0&&insertBefore>=0&&movingElementKey!=insertBefore&&AppActions.moveSeries(movingElementKey,insertBefore),movingElementKey&&movingElementKey>=0&&this.props.allstate.layout.dragOverPage){var toCopy=Store_Pages.getElementFromKey(movingElementKey);AppActions.prependElement(toCopy,this.props.allstate.layout.dragOverPage)}if(movingElementKey&&movingElementKey>=0&&this.props.allstate.layout.dragOverNewPage){var toCopy=Store_Pages.getElementFromKey(movingElementKey);AppActions.newPageFromElement(toCopy,this.props.allstate.layout.dragOverNewPage),setTimeout(function(){AppActions.refreshOverlayData("__all__"),AppActions.refreshHeaderTexture("__all__")},0)}movingElementKey&&movingElementKey>=0&&null!=this.props.allstate.layout.insertAtColumnEnd_colNum&&AppActions.moveSeriesToColumnEnd(movingElementKey,this.props.allstate.layout.insertAtColumnEnd_colNum),movingElementKey&&movingElementKey>=0&&null!=this.props.allstate.layout.insertAtGroupEnd_key&&AppActions.moveSeriesToGroupEnd(movingElementKey,this.props.allstate.layout.insertAtGroupEnd_key)}AppActions.clearMovingElement(),AppActions.updateDragLocation([-1,-1]),AppActions.setInsertBefore(null),AppActions.setInsertAtColumnEnd(null),AppActions.setInsertAtGroupEnd(null),AppActions.setDragOverPage(null),AppActions.setDragOverNewPage(!1)},chartDragStartedCallback=function(e){if(this.setState({ruleLocation:-1}),this.props.ruleLocationChangeCallback(-1),netDragY=0,maxNetDragY=0,netDragXwhilstResizing=0,this.dragShouldResize&&!this.props.allstate.layout.inFisheyeMode){var element=this.props.allstate.pages.current.Columns[this.overCol][this.resizeBoundaryIndex];if("Series"===element.ElementType&&this.props.allstate.layout.movementEnabled)startHeight=element.Height,prevHeight=startHeight,AppActions.setMovingElementKeyAndType(element.Key,"Series");else{if("Group"!==element.ElementType)throw new Error("unknown element type: "+element.ElementType);startHeight=element.Children[this.resizeBoundarySubIndex].Height,prevHeight=startHeight,AppActions.setMovingElementKeyAndType(element.Children[this.resizeBoundarySubIndex].Key,"Series")}}(this.dragShouldMove&&this.props.allstate.layout.movementEnabled||this.dragShouldMoveGroup)&&!this.props.allstate.layout.inFisheyeMode&&(keyWeAreMoving=this.currentlyOver.Key,AppActions.setMovingElementKeyAndType(keyWeAreMoving,this.currentlyOver.ElementType)),this.props.allstate.layout.inFisheyeMode&&(null==this.props.allstate.layout.fisheyeFrozenLine?(this.fisheyeOverCol=this.overCol,AppActions.setFisheyeFrozenLine(this.currentlyOver)):AppActions.setFisheyeFrozenLine(null))},chartDragShouldStart=function(e){return!(this.mouseOverClose||this.mouseOverSettings||this.mouseOverGroupClose||this.mouseOverGroupSettings)},getDragCursor=function(){return this.dragShouldResize?"rowdrag":this.dragShouldMove||this.drageShouldMoveGroup?"nsdrag":"handdrag"};return DragHandler(this.scrollDiv,chartDragShouldStart.bind(this),this.mouseDownHandler.bind(this),chartDragStartedCallback.bind(this),chartDragCallback.bind(this),chartDragFinishedCallback.bind(this),getDragCursor.bind(this)),this.scrollDiv.addEventListener("mouseover",this.mouseOverHandler.bind(this)),this.scrollDiv.addEventListener("mouseout",this.mouseOutHandler.bind(this)),this.scrollDiv.addEventListener("mousemove",this.mouseMoveHandler.bind(this)),this.scrollDiv.addEventListener("keydown",this.keydownHandler.bind(this)),this}},{key:"keydownHandler",value:function(e){37==e.keyCode?(AppActions.changeMode("Historical"),AppActions.skip("backward_step")):39==e.keyCode?(AppActions.changeMode("Historical"),AppActions.skip("forward_step")):32==e.keyCode&&(AppActions.toggleMode(),e.preventDefault())}},{key:"mouseMoveHandler",value:function(e){if(this.props.allstate.layout.inDrag||this.scrollingMouseDown)this.setState({ruleLocation:-1}),this.props.ruleLocationChangeCallback(-1);else{var posX=e.clientX;posX-=this.props.allstate.layout.sidebarHidden?this.props.allstate.layout.noSidebarMargin:this.props.allstate.layout.sidebarPaddedWidth,this.showHoverOnLHS=!1,this.overCol=-1;for(var colSpec=[-1,-1],colSpecs=this.props.allstate.horizonLayout.columnSpecs,i=0;i<colSpecs.length;++i)if(posX>=colSpecs[i][0]&&posX<=colSpecs[i][1]){this.overCol=i,null==this.props.allstate.layout.fisheyeFrozenLine&&(this.fisheyeOverCol=i),colSpec=colSpecs[i];var midPoint=colSpecs[i][0]+(colSpecs[i][1]-colSpecs[i][0])/2;colSpecs.length>1?(midPoint>posX&&0!=this.overCol&&(this.showHoverOnLHS=!0),this.overCol==colSpecs.length-1&&(this.showHoverOnLHS=!0)):this.showHoverOnLHS=posX>midPoint;break}if(0>posX||-1==this.overCol)return this.setState({ruleLocation:-1}),this.props.ruleLocationChangeCallback(-1),void(this.scrollDiv.style.cursor="auto");this.setState({ruleLocation:posX-colSpecs[this.overCol][0]}),this.props.ruleLocationChangeCallback(posX-colSpecs[this.overCol][0]);var posY=(e.clientY-this.props.allstate.layout.header_dimensions.height-Store_Layout.axisHeight+this.state.scrollTop)*this.devicePixelRatio;if(!this.props.allstate.layout.inFisheyeMode&&this.props.allstate.layout.movementEnabled){this.resizeBoundaryIndex=0,this.resizeBoundarySubIndex=-1,this.dragShouldResize=!1;var hcb=this.boundaries[this.overCol];if(hcb)for(var _i=0;_i<hcb.length;++_i){var bs=null,b=hcb[_i][1];if(Array.isArray(b)){bs=b.map(function(a){return a[1]});for(var fnd=!1,k=0;k<bs.length;++k)if(posY>bs[k]-4*this.devicePixelRatio&&posY<bs[k]+3*this.devicePixelRatio){this.dragShouldResize=!0,this.resizeBoundaryIndex=_i,this.resizeBoundarySubIndex=k,fnd=!0;break}if(fnd)break}else if(posY>b-4*this.devicePixelRatio&&posY<b+3*this.devicePixelRatio){this.dragShouldResize=!0,this.resizeBoundaryIndex=_i,this.resizeBoundarySubIndex=-1;break}}}if(this.props.allstate.pages.current&&this.props.allstate.pages.current.Columns){for(var columnElements=this.props.allstate.pages.current.Columns[this.overCol],coi=-1,cosi=-1,cohi=-1,cofi=-1,_top2=-(1/0),bottom=-(1/0),_i2=0;_i2<this.boundaries[this.overCol].length;++_i2){var b1=this.boundaries[this.overCol][_i2][0],b2=this.boundaries[this.overCol][_i2][1];if(Array.isArray(b2)){var fnd=!1;if(posY>b1[0]&&posY<=b1[1]){cohi=_i2,coi=_i2,_top2=b1[0],bottom=b1[1],fnd=!0;break}if(posY>this.boundaries[this.overCol][_i2][2][0]&&posY<=this.boundaries[this.overCol][_i2][2][1]){cofi=_i2,coi=_i2,_top2=this.boundaries[this.overCol][_i2][2][0],bottom=this.boundaries[this.overCol][_i2][2][1],fnd=!0;break}for(var k=0;k<b2.length&&!fnd;++k){var b1_=b2[k][0],b2_=b2[k][1];if(posY>b1_&&b2_>=posY){coi=_i2,cosi=k,_top2=b1_,bottom=b2_,fnd=!0;break}}if(fnd)break}else if(posY>b1&&b2>=posY){coi=_i2,_top2=b1,bottom=b2;break}}if(-1==coi&&this.boundaries[this.overCol].length>0){coi=this.boundaries[this.overCol].length-1;var elmt=this.boundaries[this.overCol][coi];Array.isArray(elmt[1])&&(cosi=elmt[1].length-1)}if(this.currentlyOver=columnElements[coi],-1!=cosi&&(this.currentlyOver=this.currentlyOver.Children[cosi]),this.mouseOverClose=!1,this.mouseOverSettings=!1,this.mouseOverGroupSettings=!1,this.mouseOverGroupClose=!1,this.dragShouldMoveGroup=!1,this.dragShouldMove=!1,this.currentlyOver){var coHeight=this.applyMagnify(this.currentlyOver.Height,this.props.allstate.layout.verticalMagnify),inY=!1;if(-1!=cohi||-1!=cofi?posY>bottom-22*devicePixelRatio&&posY<bottom-4*this.devicePixelRatio&&(inY=!0):coHeight>2?posY>_top2+4*devicePixelRatio&&posY<_top2+22*this.devicePixelRatio&&(inY=!0):2==coHeight&&(inY=!0),inY){var showCloseButton=!this.props.allstate.layout.inFisheyeMode&&"transient"!==Store_Pages.currentSelectedPageType(),showSettingsButton=!this.props.allstate.layout.inFisheyeMode,closeLeft=8,closeRight=23,settingsLeft=showCloseButton?26:8,settingsRight=showCloseButton?41:23,moveLeft=showCloseButton?44:26;showCloseButton&&posX-colSpec[0]>closeLeft&&posX-colSpec[0]<closeRight&&(-1!=cohi?this.mouseOverGroupClose=!0:this.mouseOverClose=!0,this.dragShouldResize=!1),showSettingsButton&&posX-colSpec[0]>settingsLeft&&posX-colSpec[0]<settingsRight&&(-1!=cohi?this.mouseOverGroupSettings=!0:this.mouseOverSettings=!0,this.dragShouldResize=!1),(showSettingsButton||showCloseButton)&&(-1!=cohi?this.headerTextures[this.currentlyOver.Key]&&posX-colSpec[0]>moveLeft&&posX-colSpec[0]<(this.headerTextures[this.currentlyOver.Key].length+10)/this.devicePixelRatio&&(this.dragShouldMoveGroup=!0,this.dragShouldResize=!1):this.props.allstate.layout.movementEnabled&&this.overlays[this.currentlyOver.Key]&&posX-colSpec[0]>moveLeft&&posX-colSpec[0]<(this.overlays[this.currentlyOver.Key].overlayLength+10)/this.devicePixelRatio&&(this.dragShouldResize||(this.dragShouldMove=!0)))}}}}this.dragShouldResize&&!this.props.allstate.layout.inFisheyeMode?this.scrollDiv.style.cursor="row-resize":(!this.mouseOverClose&&!this.mouseOverGroupClose||this.props.allstate.layout.inFisheyeMode)&&(!this.mouseOverSettings&&!this.mouseOverGroupSettings||this.props.allstate.layout.inFisheyeMode)?!this.dragShouldMove&&!this.dragShouldMoveGroup||this.props.allstate.layout.inFisheyeMode?this.scrollDiv.style.cursor="auto":this.scrollDiv.style.cursor="move":this.scrollDiv.style.cursor="pointer"}},{key:"mouseOutHandler",value:function(e){this.currentlyOver=null,this.setState({ruleLocation:-1}),this.props.ruleLocationChangeCallback(-1),this.mouseOverSettings=!1,this.mouseOverClose=!1}},{key:"mouseOverHandler",value:function(e){this.mouseMoveHandler(e)}},{key:"computeHeight",value:function(){if(null==this.props.allstate.pages.current)return 0;for(var pageColumns=this.props.allstate.pages.current.Columns,result=0,j=0;j<pageColumns.length;++j){var bdrys=this.boundaries[j];if(bdrys.length>0){var last=bdrys[bdrys.length-1];Array.isArray(last[1])&&(last=last[2]),last[1]>result&&(result=last[1])}}return result}},{key:"computeBoundaries",value:function(start,currentLevel,adjustForFisheye,elements,headerHeights,footerHeights){var magnify=this.props.allstate.layout.verticalMagnify,ffLine=adjustForFisheye&&this.props.allstate.layout.inFisheyeMode&&null!=this.props.allstate.layout.fisheyeFrozenLine?this.props.allstate.layout.fisheyeFrozenLine:null,end=start+headerHeights[currentLevel],header=[start,end];start=end;for(var result=[],i=0;i<elements.length;++i)if("Series"===elements[i].ElementType){var hgt=this.applyMagnify(elements[i].Height,magnify);null!=ffLine&&ffLine.Key==elements[i].Key&&(hgt=this.fisheyeHeight),end=start+this._baseLineHeight*Math.pow(2,hgt-1),result.push([start,end]),start=end}else if("Group"===elements[i].ElementType){var bs=this.computeBoundaries(start,currentLevel+1,adjustForFisheye,elements[i].Children,this.headerHeights,this.footerHeights);result.push(bs),start=bs[2][1]}else console.log("unknown element type: "+columneElements[i].ElementType);var footer=[start,start+this.footerHeights[currentLevel]];return[header,result,footer]}},{key:"horizonViewScrolled",value:function(e){this.setState({scrollTop:e.target.scrollTop})}},{key:"scrollThumbMouseDown",value:function(e){this.scrollingMouseDown=!0}},{key:"scrollMouseUp",value:function(e){this.scrollingMouseDown&&(this.scrollingMouseDown=!1,this.mouseMoveHandler(e),AppActions.setInDrag(!1,null))}},{key:"render",value:function(){var _this3=this,fisheyeMode=this.props.allstate.layout.inFisheyeMode,fisheyeFocus=this.currentlyOver;this.props.allstate.layout.fisheyeFrozenLine&&(fisheyeFocus=this.props.allstate.layout.fisheyeFrozenLine);var fisheyeAdjustDown=0;if(fisheyeMode&&fisheyeFocus){var desiredHeight=Math.pow(2,this.fisheyeHeight-1)*this._baseLineHeight-1,fisheyeFocusHeight=Math.pow(2,this.applyMagnify(fisheyeFocus.Height,this.props.allstate.layout.verticalMagnify)-1)*this._baseLineHeight-1;desiredHeight>fisheyeFocusHeight&&(fisheyeAdjustDown=desiredHeight-fisheyeFocusHeight)}var valueDateCutoffPixel=0,resolution=this.props.allstate.timeframe.resolution_ms,valueDate=Math.floor(Store_Timeframe.displayCurrentEndTime()/resolution-1)*resolution;this.state.ruleLocation>valueDateCutoffPixel&&(valueDate=this.props.allstate.timeframe.startDate_ms+this.state.ruleLocation*this.props.allstate.timeframe.resolution_ms);var lineAdder=function(lines_aug,series,offset,scrollTop,beforeFisheyeFocus){var val=NaN;this.data[series.IdentifiedBy_string+"~~~"+series.QuerySpec.serialized]&&(val=this.data[series.IdentifiedBy_string+"~~~"+series.QuerySpec.serialized].seriesData.value_at_ms(valueDate));var offs=offset[0]/this.devicePixelRatio-scrollTop;if(beforeFisheyeFocus||(offs+=fisheyeAdjustDown/this.devicePixelRatio),offs>=-3&&offs<this._canvasSize[1]-3){var olen=0;this.data[series.IdentifiedBy_string+"~~~"+series.QuerySpec.serialized]&&this.overlays[series.Key]&&(olen=this.overlays[series.Key].overlayLength/this.devicePixelRatio);var obj=_Object$assign({lastValue:val,offset:offs,overlayLength:olen},series);fisheyeMode&&fisheyeFocus&&fisheyeFocus.Key===series.Key&&(obj.Height=this.fisheyeHeight),lines_aug.push(obj)}return fisheyeMode&&fisheyeFocus&&fisheyeFocus.Key==series.Key&&(beforeFisheyeFocus=!1),beforeFisheyeFocus}.bind(this),columns_aug=[],beforeFisheyeFocus=!0;if(null!=this.props.allstate.pages.current)for(var j=0;j<this.props.allstate.pages.current.Columns.length;++j){for(var lines_aug=[],columnElements=this.props.allstate.pages.current.Columns[j],offsets=this.boundaries[j],i=0;i<columnElements.length;++i){if("Series"===columnElements[i].ElementType&&(beforeFisheyeFocus=lineAdder(lines_aug,columnElements[i],offsets[i],this.state.scrollTop,beforeFisheyeFocus)),"Group"===columnElements[i].ElementType){var offs=offsets[i][0][0]/this.devicePixelRatio-this.state.scrollTop;if(offs>=-3&&offs<this._canvasSize[1]-3){var hEl={ElementType:"Header",Key:columnElements[i].Key,offset:offs,height:(offsets[i][2][1]-offsets[i][0][0])/this.devicePixelRatio};lines_aug.push(hEl)}for(var k=0;k<columnElements[i].Children.length;++k)beforeFisheyeFocus=lineAdder(lines_aug,columnElements[i].Children[k],offsets[i][1][k],this.state.scrollTop,beforeFisheyeFocus);if(offs=offsets[i][2][0]/this.devicePixelRatio-this.state.scrollTop,offs>=-3&&offs<this._canvasSize[1]-3){var fEl={ElementType:"Footer",Key:columnElements[i].Key,offset:offs};lines_aug.push(fEl)}}beforeFisheyeFocus=!0}columns_aug.push(lines_aug)}for(var showRule=this.props.allstate.layout.ruleEnabled&&-1!=this.state.ruleLocation&&this.state.ruleLocation>=valueDateCutoffPixel&&!this.props.allstate.layout.inDrag&&!this.scrollingMouseDown,pageHeight=(this.computeHeight()+fisheyeAdjustDown)/this.devicePixelRatio+1,popupTop=-1,hoverTop=-1,j=0;j<columns_aug.length;++j)for(var i=0;i<columns_aug[j].length;++i){if(this.lineOverWhenSettingsClicked&&columns_aug[j][i].Key==this.lineOverWhenSettingsClicked.Key){if("Header"===columns_aug[j][i].ElementType&&"Group"===this.lineOverWhenSettingsClicked.ElementType&&(popupTop=columns_aug[j][i].offset+this.state.scrollTop,-1!=hoverTop&&-1!=popupTop))break;if("Series"===columns_aug[j][i].ElementType&&"Series"===this.lineOverWhenSettingsClicked.ElementType&&(popupTop=columns_aug[j][i].offset+this.state.scrollTop,-1!=hoverTop&&-1!=popupTop))break}if(this.currentlyOver&&columns_aug[j][i].Key===this.currentlyOver.Key&&(hoverTop=columns_aug[j][i].offset+this.state.scrollTop,-1!=hoverTop&&-1!=popupTop))break}var colSpecs=this.props.allstate.horizonLayout.columnSpecs,vm=this.props.allstate.layout.verticalMagnify,movingElementKey=this.props.allstate.layout.movingElementKey,insertAtColumnEnd=this.props.allstate.layout.insertAtColumnEnd_colNum,colEndOffset=null;if(null!=insertAtColumnEnd&&void 0!=insertAtColumnEnd)if(0==columns_aug[insertAtColumnEnd].length)colEndOffset=0;else{var col_=columns_aug[insertAtColumnEnd];if("Series"==col_[col_.length-1].ElementType){var hgt=Math.pow(2,this.applyMagnify(col_[col_.length-1].Height,this.props.allstate.layout.verticalMagnify)-1)*this._baseLineHeight;colEndOffset=col_[col_.length-1].offset+hgt/this.devicePixelRatio}else{var hgt=this.footerHeights[1];colEndOffset=col_[col_.length-1].offset+hgt/this.devicePixelRatio}}var movingTop=null,movingLeft=null,movingRight=null;if(!insertAtColumnEnd)for(var i=0;i<columns_aug.length;++i)for(var j=0;j<columns_aug[i].length;++j){if(columns_aug[i][j].Key==this.props.allstate.layout.insertBefore){"Series"===columns_aug[i][j].ElementType||"Header"===columns_aug[i][j].ElementType?(movingTop=Math.floor(columns_aug[i][j].offset-1),-1>movingTop&&(movingTop=-1)):movingTop=-1,movingLeft=colSpecs[i][0],movingRight=colSpecs[i][1];break}if(this.props.allstate.layout.insertAtGroupEnd_key==columns_aug[i][j].Key&&"Footer"==columns_aug[i][j].ElementType){movingTop=Math.floor(columns_aug[i][j].offset-1),movingLeft=colSpecs[i][0],movingRight=colSpecs[i][1];break}}var computeHighlightedTop=function(lineSpec){return Math.floor(lineSpec.offset)},computeHighlightedHeight=function(lineSpec){if("Header"===lineSpec.ElementType)return lineSpec.height;var h=Math.floor((Math.pow(2,(this.props.allstate.layout.inFisheyeMode?this.fisheyeHeight:this.applyMagnify(lineSpec.Height,this.props.allstate.layout.verticalMagnify))-1)*this._baseLineHeight+1)/this.devicePixelRatio);return h},horizonInstance=this,hoverVal=NaN;return this.props.allstate.layout.hoverDetailEnabled&&this.currentlyOver&&"Series"===this.currentlyOver.ElementType&&(hoverVal=this.data[this.currentlyOver.IdentifiedBy_string+"~~~"+this.currentlyOver.QuerySpec.serialized].seriesData.value_at_ms(valueDate)),React.createElement("div",{className:"hOuter"},React.createElement(ScrollArea,{onScroll:this.horizonViewScrolled.bind(this),onThumbMouseDown:this.scrollThumbMouseDown.bind(this),width:this.props.width,height:this.props.height},React.createElement("div",{style:{position:"relative"}},React.createElement("div",{style:{position:"fixed",bottom:"8px",top:this.props.allstate.layout.header_dimensions.height+Store_Layout.axisHeight+"px"}},React.createElement("canvas",{ref:"cnvs",style:{position:"relative",outline:"none"},tabIndex:"1"}),movingElementKey?columns_aug.map(function(aps,idx_all){return aps.map(function(lineSpec,idx){return lineSpec.Key!=movingElementKey||"Series"!==lineSpec.ElementType&&"Header"!==lineSpec.ElementType?null:React.createElement("div",{key:lineSpec.Key+"moving",style:{backgroundColor:"rgba(0,0,0,0.35)",position:"absolute",left:colSpecs[idx_all][0]+"px",top:computeHighlightedTop.call(_this3,lineSpec)+"px",height:computeHighlightedHeight.call(_this3,lineSpec)+"px",width:colSpecs[idx_all][1]-colSpecs[idx_all][0]}})})}):null,movingElementKey&&null!=movingTop?React.createElement("div",{style:{backgroundColor:"#000",position:"absolute",left:movingLeft+"px",top:movingTop+"px",height:3,width:movingRight-movingLeft}}):null,movingElementKey&&null!=insertAtColumnEnd&&void 0!=insertAtColumnEnd?React.createElement("div",{key:"colend"+insertAtColumnEnd,style:{backgroundColor:"#000",position:"absolute",left:colSpecs[insertAtColumnEnd][0]+"px",top:Math.floor(colEndOffset-1)+"px",height:3,width:colSpecs[insertAtColumnEnd][1]-colSpecs[insertAtColumnEnd][0]}}):null,showRule?columns_aug.map(function(aps,idx_all){return aps.map(function(lineSpec,idx){return"Footer"==lineSpec.ElementType||"Header"==lineSpec.ElementType?null:React.createElement(HorizonValueOverlay,{key:idx+"v"+idx_all,lineSpec:lineSpec,magHeight:_this3.applyMagnify(lineSpec.Height,vm),parent:_this3,location:_this3.state.ruleLocation,isCurrentLine:_this3.currentlyOver&&_this3.currentlyOver.Key==lineSpec.Key,dontDrop:"Hover"==lineSpec.OverlayStyle&&null!=_this3.currentlyOver&&_this3.currentlyOver.Key!=lineSpec.Key,colSpec:colSpecs[idx_all]})})}):null,showRule||this.props.allstate.layout.inDrag||"Historical"==this.props.allstate.timeframe.mode||this.scrollingMouseDown||!this.props.allstate.layout.ruleEnabled?null:columns_aug.map(function(aps,idx_all){return aps.map(function(lineSpec,idx){return"Footer"==lineSpec.ElementType||"Header"==lineSpec.ElementType?null:React.createElement(HorizonValueOverlay,{key:idx+"v"+idx_all,lineSpec:lineSpec,magHeight:_this3.applyMagnify(lineSpec.Height,vm),index:idx,location:null,isCurrentLine:_this3.currentlyOver&&_this3.currentlyOver.Key==lineSpec.Key,dontDrop:!1,colSpec:colSpecs[idx_all]})})})),React.createElement("div",{ref:"scrollDiv",id:"chartcontainer",style:{height:pageHeight+"px",backgroundColor:"rgba(0,0,0,0)",position:"relative"}}," "),React.createElement(HorizonPopup,{ref:"horizonPopup",allstate:this.props.allstate,lineSpec:this.lineOverWhenSettingsClicked,buttonsInstance:this.refs.hsb,horizonInstance:horizonInstance,isVisible:this.props.allstate.layout.lineSettingsVisible,lineTop:popupTop,pageHeight:pageHeight,colSpec:this.colSpecWhenSettingsClicked}),this.props.allstate.layout.hoverDetailEnabled?React.createElement(HorizonHover,{ref:"horizonHover",allstate:this.props.allstate,lineSpec:this.currentlyOver,hoverVal:hoverVal,lineTop:hoverTop,location:this.state.ruleLocation,pageHeight:pageHeight,numCols:this.props.allstate.horizonLayout.columnSpecs.length,colSpec:this.props.allstate.horizonLayout.columnSpecs[this.overCol],showOnLHS:this.showHoverOnLHS}):null)),React.createElement(HiddenSettingsButton,{ref:"hsb",horizonPopup:this.refs.horizonPopup}))}}],[{key:"floatsToBytes",value:function(fs){var result=[];return fs.forEach(function(f){if(isNaN(f))result.push(2),result.push(2),result.push(2),result.push(2);else if(isFinite(f))if(0>f){result.push(0),result.push(0),f=-f;var b1=255*f,b2=255*(b1-Math.floor(b1));result.push(Math.floor(b1)),result.push(Math.floor(b2))}else{var b1=255*f,b2=255*(b1-Math.floor(b1));result.push(Math.floor(b1)),result.push(Math.floor(b2)),result.push(0),result.push(0)}else result.push(2),result.push(3),result.push(4),result.push(5)}),result}},{key:"getShader",value:function(gl,id){var shaderScript=document.getElementById(id);if(!shaderScript)return null;for(var theSource="",currentChild=shaderScript.firstChild;currentChild;)3==currentChild.nodeType&&(theSource+=currentChild.textContent),currentChild=currentChild.nextSibling;var shader=void 0;if("x-shader/x-fragment"==shaderScript.type)shader=gl.createShader(gl.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!=shaderScript.type)return null;shader=gl.createShader(gl.VERTEX_SHADER)}return gl.shaderSource(shader,theSource),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE_STATUS)?shader:(alert("An error occurred compiling the shaders: "+gl.getShaderInfoLog(shader)),null)}}]),Horizon}(React.Component),_export("default",Horizon)}}}),System.register("dvt/AppDispatcher",["npm:react-dispatcher@0.2.1"],function(_export){"use strict";var Dispatcher;return{setters:[function(_npmReactDispatcher021){Dispatcher=_npmReactDispatcher021["default"]}],execute:function(){_export("default",new Dispatcher)}}}),System.register("dvt/stores/Store_NetworkStatus",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/AppDispatcher","github:jspm/nodelibs-events@0.1.1"],function(_export){var _get,_inherits,_createClass,_classCallCheck,AppDispatcher,EventEmitter,Store_NetworkStatus;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]}],execute:function(){"use strict";Store_NetworkStatus=function(_EventEmitter){function Store_NetworkStatus(){_classCallCheck(this,Store_NetworkStatus),_get(Object.getPrototypeOf(Store_NetworkStatus.prototype),"constructor",this).call(this),this.dispatchToken=this.registerDispatcherCallback(),this.current=[]}return _inherits(Store_NetworkStatus,_EventEmitter),_createClass(Store_NetworkStatus,[{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(payload.action){case"netstat:add":this.current.push(payload.data);break;case"netstat:remove":var idx=this.current.indexOf(payload.data);idx>=0&&this.current.splice(idx,1);break;default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"getStatus",value:function(){return this.current}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_NetworkStatus}(EventEmitter),_export("default",new Store_NetworkStatus)}}}),System.register("dvt/stores/Store_Source",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/assign","github:jspm/nodelibs-events@0.1.1","dvt/AppDispatcher","dvt/adapters/Adapter_Prometheus","dvt/adapters/Adapter_Proxy","dvt/AppActions","dvt/utils/CookieUtils"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$assign,EventEmitter,AppDispatcher,Adapter_Prometheus,Adapter_Proxy,AppActions,CookieUtils,Store_Source;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_dvtAdaptersAdapter_Prometheus){Adapter_Prometheus=_dvtAdaptersAdapter_Prometheus["default"]},function(_dvtAdaptersAdapter_Proxy){Adapter_Proxy=_dvtAdaptersAdapter_Proxy["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtUtilsCookieUtils){CookieUtils=_dvtUtilsCookieUtils["default"]}],execute:function(){"use strict";Store_Source=function(_EventEmitter){function Store_Source(){_classCallCheck(this,Store_Source),_get(Object.getPrototypeOf(Store_Source.prototype),"constructor",this).call(this),this._activeAdapter=null,this.defaultProfiles=[{Key:0,Name:"DvT Simulation Server",Adapter:"Proxy",Host:"http://simulation.datavstime.com",Timeout:1e4,ServerLag:4e3,ResponseLag:2e3,MaxRequests:32}];var sourcesString=CookieUtils.readCookie("sourceProfiles");null==sourcesString&&(CookieUtils.createCookie("sourceProfiles",JSON.stringify(this.defaultProfiles),1e4),sourcesString=CookieUtils.readCookie("sourceProfiles")),this._profiles=JSON.parse(sourcesString);var activeProfile=CookieUtils.readCookie("activeSourceProfile");null==activeProfile&&(CookieUtils.createCookie("activeSourceProfile","0"),activeProfile=CookieUtils.readCookie("activeSourceProfile")),this._activeProfileKey=parseInt(activeProfile),this.dispatchToken=this.registerDispatcherCallback()}return _inherits(Store_Source,_EventEmitter),_createClass(Store_Source,[{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(payload.action){case"source:activateSource":this.activateSource(payload.data);break;case"source:saveSourceProfile":this.saveSourceProfile(payload.data);break;case"source:removeSourceProfile":this.removeSourceProfile(payload.data);break;default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"removeSourceProfile",value:function(key){for(var i=0;i<this._profiles.length;++i)if(this._profiles[i].Key==key){this._profiles.splice(i,1);break}CookieUtils.createCookie("sourceProfiles",JSON.stringify(this._profiles),1e4)}},{key:"saveSourceProfile",value:function(profile){for(var index=-1,i=0;i<this._profiles.length;++i)if(this._profiles[i].Key==profile.Key){index=i;break}var newProfile=_Object$assign({},profile);delete newProfile.changesMade,-1==index?this._profiles.push(newProfile):this._profiles[i]=newProfile,CookieUtils.createCookie("sourceProfiles",JSON.stringify(this._profiles),1e3)}},{key:"getProfilesCopy",value:function(){for(var result=[],i=0;i<this._profiles.length;++i)result.push(_Object$assign({},this._profiles[i]));return result}},{key:"getActiveProfileReference",value:function(){for(var i=0;i<this._profiles.length;++i)if(this._profiles[i].Key===this._activeProfileKey)return this._profiles[i];return null}},{key:"getActiveProfileCopy",value:function(){for(var i=0;i<this._profiles.length;++i)if(this._profiles[i].Key===this._activeProfileKey){var p=this._profiles[i];return _Object$assign({},p)}return null}},{key:"getActiveProfileKey",value:function(){return this._activeProfileKey}},{key:"getProfiles",value:function(){return this._profiles}},{key:"getActiveAdapter",value:function(){return this._activeAdapter}},{key:"setActiveAdapter",value:function(value){this._activeAdapter=value}},{key:"activateSource",value:function(key){for(var _this=this,i=0;i<this._profiles.length;++i){var p=this._profiles[i];if(p.Key===key){setTimeout(function(){if(AppActions.clearAllPages(),"Prometheus"==p.Adapter)Adapter_Prometheus.Host=p.Host,Adapter_Prometheus.Timeout_ms=p.Timeout,Adapter_Prometheus.getLabelAndValueSummary(function(result){AppActions.setLabelsAndValuesAndCounts(result)}),_this.setActiveAdapter(new Adapter_Prometheus);else if("Proxy"==p.Adapter){Adapter_Proxy.Timeout_ms=p.Timeout,Adapter_Proxy.Host=p.Host;var ad=new Adapter_Proxy;ad.getLabelAndValueSummary(function(result){AppActions.setLabelsAndValuesAndCounts(result)}),_this.setActiveAdapter(ad),AppActions.setVisibleSidebarTab("pages")}else console.log("unknown adapter: "+p.Adapter);_this.getActiveAdapter().getPredefinedPages(function(data){
AppActions.setPredefinedPages(data),"Proxy"==p.Adapter&&(AppActions.setPage("By Scale"),AppActions.switchTo("page"))})},0),this._activeProfileKey=key,CookieUtils.createCookie("activeSourceProfile",""+key);break}}}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_Source}(EventEmitter),_export("default",new Store_Source)}}}),System.register("dvt/components/DateTimeInput.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/AppActions","dvt/stores/Store_Timeframe","dvt/components/DatePicker.jsx!github:floatdrop/plugin-jsx@1.1.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,AppActions,Store_Timeframe,DatePicker,DateTimeInput;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]},function(_dvtComponentsDatePickerJsxGithubFloatdropPluginJsx110){DatePicker=_dvtComponentsDatePickerJsxGithubFloatdropPluginJsx110["default"]}],execute:function(){"use strict";DateTimeInput=function(_React$Component){function DateTimeInput(props){_classCallCheck(this,DateTimeInput),_get(Object.getPrototypeOf(DateTimeInput.prototype),"constructor",this).call(this,props),this.state={textVal:Store_Timeframe.msToDateTime(props.dateTime_ms),isEditing:!1,changesMade:!1,openedDate_ms:null},this.closeOnBlur=!0}return _inherits(DateTimeInput,_React$Component),_createClass(DateTimeInput,[{key:"textBoxKeyDown",value:function(e){if("Enter"==e.key){this.setState({isEditing:!1});var target=e.target;setTimeout(function(){target.blur()},0)}}},{key:"textChanged",value:function(e){this.setState({textVal:e.target.value,changesMade:!0})}},{key:"buttonBlurred",value:function(){this.closeOnBlur?(this.setState({dropdownVisible:this.props.justSwitched,isEditing:!1,changesMade:!1}),this.props.justSwitched?AppActions.justSwitchedPhaseTwo():AppActions.setFieldCurrentlyInEdit(null)):(this.closeOnBlur=!0,ReactDOM.findDOMNode(this.refs.theButton).focus())}},{key:"textBoxBlurred",value:function(){var changesMade=this.state.changesMade;this.setState({isEditing:!1,changesMade:!1}),AppActions.setFieldCurrentlyInEdit(null),changesMade&&this.applyToStore(ReactDOM.findDOMNode(this.refs.inputBox).value)}},{key:"textBoxFocussed",value:function(){this.setState({isEditing:!0,changesMade:!1}),AppActions.setFieldCurrentlyInEdit(this.props.label.toLowerCase())}},{key:"buttonClicked",value:function(){var visible=!this.state.dropdownVisible;visible?(this.setState({openedDate_ms:this.props.dateTime_ms}),AppActions.setFieldCurrentlyInEdit(this.props.label.toLowerCase())):AppActions.setFieldCurrentlyInEdit(null),this.setState({dropdownVisible:visible}),ReactDOM.findDOMNode(this.refs.theButton).focus()}},{key:"mouseDownPreventClose",value:function(){this.closeOnBlur=!1}},{key:"applyToStore",value:function(val){var normalized=this.normalizeEnteredText(val);normalized&&(this.props.onChange(Store_Timeframe.dateTimeToMs(normalized)),this.setState({textVal:normalized})),AppActions.setFieldCurrentlyInEdit(null)}},{key:"componentWillReceiveProps",value:function(props){this.state.isEditing||this.setState({textVal:Store_Timeframe.msToDateTime(props.dateTime_ms)})}},{key:"dateChanged",value:function(newDate_ms){this.props.onChange(newDate_ms),this.setState({dropdownVisible:!1}),ReactDOM.findDOMNode(this.refs.theButton).blur()}},{key:"timeChanged",value:function(){}},{key:"switchChangingField",value:function(){this.props.editOrderIcon&&(this.theFocussed=document.activeElement,AppActions.switchChangingField())}},{key:"switchFinishedChangingFields",value:function(){this.theFocussed&&(this.theFocussed.focus(),this.theFocussed=null)}},{key:"render",value:function(){return React.createElement("div",{style:{display:"inline-block",marginRight:"5px",verticalAlign:"top",marginTop:"7px",width:"200px"}},React.createElement("div",{style:{fontSize:"10px",marginLeft:"2px",color:"#888",verticalAlign:"bottom",height:"15px",marginBottom:"2px"}},React.createElement("div",{style:{display:"inline-block"}},this.props.label," "),React.createElement("div",{onMouseDown:this.switchChangingField.bind(this),onClick:this.switchFinishedChangingFields.bind(this),style:{display:"inline-block",verticalAlign:"1px",borderRadius:"8px",textAlign:"center",marginLeft:"5px",width:"16px",height:"16px",backgroundColor:this.props.editOrderIcon?"#ddd":"#fff",marginRight:"3px",paddingTop:"1px",color:this.props.editOrderIcon?"#222":"#fff",cursor:this.props.editOrderIcon?"pointer":"default"}},React.createElement("span",{className:"glyphicon glyphicon-flash",style:{paddingTop:"1px",fontSize:"9px"}}))),React.createElement("div",{className:"input-group"},React.createElement("input",{ref:"inputBox",className:"form-control",onFocus:this.textBoxFocussed.bind(this),onKeyDown:this.textBoxKeyDown.bind(this),onChange:this.textChanged.bind(this),value:this.state.textVal,onBlur:this.textBoxBlurred.bind(this),style:{backgroundColor:this.props.hasProblem?"#fcc":"#fff"}}),React.createElement("div",{className:"input-group-btn"},React.createElement("button",{ref:"theButton",onBlur:this.buttonBlurred.bind(this),onClick:this.buttonClicked.bind(this),type:"button",style:{lineHeight:"20px",padding:"6px 9px"},className:"btn btn-default dropdown-toggle"},React.createElement("i",{className:"fa fa-calendar"})),React.createElement("div",{id:"timeframeDropdown",className:"dropdown-menu dropdown-menu-right toptick",role:"menu",style:{padding:"5px 10px 10px 10px",marginTop:"8px",zIndex:"3000",display:this.state.dropdownVisible?"block":"none"}},React.createElement(DatePicker,{className:"top",onChange:this.dateChanged.bind(this),preventClose:this.mouseDownPreventClose.bind(this),dateTime_ms:this.state.openedDate_ms})))))}},{key:"normalizeEnteredText",value:function(txt){var result="";txt=txt.trim();var dt=txt.split(" ");if(2!=dt.length&&1!=dt.length)return null;var dateTxt=dt[0],dParts=dateTxt.split("-");if(3!=dParts.length)return null;if(4!=dParts[0].length)return null;if(parseInt(dParts[0])<1900)return null;result+=dParts[0];var month;if(dParts[1].length<1||dParts[1].length>2)return null;if(month=1==dParts[1].length?"0"+dParts[1]:dParts[1],parseInt(month)>12)return null;if(parseInt(month)<1)return null;result+="-"+month;var day;if(dParts[2].length<1||dParts[2].length>2)return null;if(day=1==dParts[2].length?"0"+dParts[2]:dParts[2],parseInt(day)<1)return null;if(parseInt(day)>31)return null;if(result+="-"+day,2==dt.length){var timeTxt=dt[1],tParts=timeTxt.split(":");if(tParts.length>3||0==dt.length)return null;var hour;if(tParts[0].length>2)return null;if(hour=0==tParts[0].length?"00":1==tParts[0].length?"0"+tParts[0]:tParts[0],parseInt(hour)<0)return null;if(parseInt(hour)>=24)return null;if(result+=" "+hour,tParts.length>1){var minute;if(tParts[1].length>2)return null;if(minute=0==tParts[1].length?"00":1==tParts[1].length?"0"+tParts[1]:tParts[1],parseInt(minute)<0)return null;if(parseInt(minute)>=60)return null;if(result+=":"+minute,tParts.length>2){var second;return tParts[2].length>2?null:(second=0==tParts[2].length?"00":1==tParts[2].length?"0"+tParts[2]:tParts[2],parseInt(second)<0?null:parseInt(second)>=60?null:result+=":"+second)}return result+":00"}return result+":00:00"}return result+" 00:00:00"}}]),DateTimeInput}(React.Component),_export("default",DateTimeInput)}}}),System.register("dvt/components/TimeframeEditable.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions","dvt/stores/Store_Interactions","dvt/stores/Store_Timeframe","dvt/stores/Store_EditOrder","dvt/components/DurationSelect.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/DateTimeInput.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/SkipSpecifier.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/Playback.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/Timer_RealTime"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,Store_Interactions,Store_Timeframe,Store_EditOrder,DurationSelect,DateTimeInput,SkipSpecifier,Playback,Timer_RealTime,TimeframeEditable;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]},function(_dvtStoresStore_EditOrder){Store_EditOrder=_dvtStoresStore_EditOrder["default"]},function(_dvtComponentsDurationSelectJsxGithubFloatdropPluginJsx110){DurationSelect=_dvtComponentsDurationSelectJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsDateTimeInputJsxGithubFloatdropPluginJsx110){DateTimeInput=_dvtComponentsDateTimeInputJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsSkipSpecifierJsxGithubFloatdropPluginJsx110){SkipSpecifier=_dvtComponentsSkipSpecifierJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsPlaybackJsxGithubFloatdropPluginJsx110){Playback=_dvtComponentsPlaybackJsxGithubFloatdropPluginJsx110["default"]},function(_dvtTimer_RealTime){Timer_RealTime=_dvtTimer_RealTime["default"]}],execute:function(){"use strict";TimeframeEditable=function(_React$Component){function TimeframeEditable(props){_classCallCheck(this,TimeframeEditable),_get(Object.getPrototypeOf(TimeframeEditable.prototype),"constructor",this).call(this,props)}return _inherits(TimeframeEditable,_React$Component),_createClass(TimeframeEditable,[{key:"zoomPlusDown",value:function(e){Store_Interactions.increment("timeframePlusMinus"),AppActions.zoomOut(),e.preventDefault()}},{key:"zoomMinusDown",value:function(e){Store_Interactions.increment("timeframePlusMinus"),AppActions.zoomIn(),e.preventDefault()}},{key:"render",value:function(){var startTime=Store_Timeframe.getStartDate_ms();return React.createElement("div",{style:{display:"inline-block",verticalAlign:"middle"}},React.createElement("div",{style:{marginLeft:"5px",display:"inline-block"}}),React.createElement(Playback,{globalTimeframe:this.props.timeframe}),React.createElement("div",{style:{marginLeft:"20px",display:"inline-block",verticalAlign:"top"}},React.createElement(DateTimeInput,{label:"Start",onChange:TimeframeEditable.startDateChanged.bind(this),dateTime_ms:startTime,editOrderIcon:this.props.editOrder.startIconVisible,isCurrentlyInEdit:"start"===this.props.editOrder.fieldInEdit,justSwitched:this.props.editOrder.justSwitched,justSwitched2:this.props.editOrder.justSwitched_2,hasProblem:this.props.timeframe.hasProblem})),React.createElement("div",{style:{display:"inline-block",width:"131px",marginRight:"5px"}},React.createElement("div",{style:{display:"inline-block",width:"110px",marginTop:"5px",marginLeft:"20px",position:"relative"}},React.createElement(DurationSelect,{globalTimeframe:this.props.timeframe,editOrderIcon:this.props.editOrder.durationIconVisible,justSwitched:this.props.editOrder.justSwitched,justSwitched2:this.props.editOrder.justSwitched_2,hasProblem:this.props.timeframe.hasProblem}),React.createElement("div",{style:{border:"solid 1px #ccc",height:"34px",width:"21px",display:"inine-block",position:"absolute",left:"-20px",bottom:"0"}},React.createElement("div",{style:{width:"20px"}},React.createElement("div",{style:{display:"table",width:"20px"}},React.createElement("div",{style:{display:"table-row",height:"17px"}},React.createElement("div",{className:"btn-hover",style:{display:"table-cell",borderBottom:"solid 1px #ccc",position:"relative",cursor:"pointer"},onMouseDown:this.zoomPlusDown.bind(this)},React.createElement("div",{style:{position:"absolute",top:"-3px",left:"5px"}},React.createElement("span",{style:{fontSize:"9px"},className:"glyphicon glyphicon-plus"})))),React.createElement("div",{style:{display:"table-row",height:"17px"}},React.createElement("div",{className:"btn-hover",style:{display:"table-cell",position:"relative",cursor:"pointer"},onMouseDown:this.zoomMinusDown.bind(this)},React.createElement("div",{style:{position:"absolute",top:"-4px",left:"4px"}},React.createElement("span",{style:{fontSize:"9px"},className:"glyphicon glyphicon-minus"}))))))))),React.createElement(DateTimeInput,{label:"End",onChange:TimeframeEditable.endDateChanged.bind(this),dateTime_ms:this.props.timeframe.endDate_ms,editOrderIcon:this.props.editOrder.endIconVisible,isCurrentlyInEdit:"end"===this.props.editOrder.fieldInEdit,justSwitched:this.props.editOrder.justSwitched,justSwitched2:this.props.editOrder.justSwitched_2,hasProblem:this.props.timeframe.hasProblem}),React.createElement("div",{style:{display:"inline-block",width:"100px",marginTop:"5px",marginLeft:"15px"}},React.createElement(SkipSpecifier,{onChange:AppActions.setDuration.bind(this),globalTimeframe:this.props.timeframe})))}}],[{key:"startDateChanged",value:function(startDate_ms){Store_Interactions.increment("startTimeframeChanged"),AppActions.setStartDate(startDate_ms),this.props.timeframe.hasProblem||AppActions.changeMode("Historical")}},{key:"endDateChanged",value:function(endDate_ms){Store_Interactions.increment("endTimeframeChanged"),AppActions.setEndDate(endDate_ms),this.props.timeframe.hasProblem||AppActions.changeMode("Historical")}}]),TimeframeEditable}(React.Component),_export("default",TimeframeEditable)}}}),System.register("dvt/stores/Store_Pages",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/create","npm:babel-runtime@5.8.20/core-js/object/assign","npm:babel-runtime@5.8.20/core-js/map","npm:babel-runtime@5.8.20/core-js/object/get-own-property-names","npm:babel-runtime@5.8.20/core-js/array/from","dvt/AppDispatcher","github:jspm/nodelibs-events@0.1.1","dvt/IdBroker","dvt/stores/Store_Labels","dvt/stores/Store_Source","dvt/AppActions","dvt/utils/WebStorageUtils","dvt/utils/LabelSpec","dvt/utils/QuerySpec","dvt/utils/GeneralUtils"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$create,_Object$assign,_Map,_Object$getOwnPropertyNames,_Array$from,AppDispatcher,EventEmitter,IdBroker,Store_Labels,Store_Source,AppActions,WebStorageUtils,LabelSpec,QuerySpec,GeneralUtils,Store_Pages;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectCreate){_Object$create=_npmBabelRuntime5820CoreJsObjectCreate["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmBabelRuntime5820CoreJsMap){_Map=_npmBabelRuntime5820CoreJsMap["default"]},function(_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames){_Object$getOwnPropertyNames=_npmBabelRuntime5820CoreJsObjectGetOwnPropertyNames["default"]},function(_npmBabelRuntime5820CoreJsArrayFrom){_Array$from=_npmBabelRuntime5820CoreJsArrayFrom["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]},function(_dvtIdBroker){IdBroker=_dvtIdBroker["default"]},function(_dvtStoresStore_Labels){Store_Labels=_dvtStoresStore_Labels["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtUtilsWebStorageUtils){WebStorageUtils=_dvtUtilsWebStorageUtils["default"]},function(_dvtUtilsLabelSpec){LabelSpec=_dvtUtilsLabelSpec["default"]},function(_dvtUtilsQuerySpec){QuerySpec=_dvtUtilsQuerySpec["default"]},function(_dvtUtilsGeneralUtils){GeneralUtils=_dvtUtilsGeneralUtils["default"]}],execute:function(){"use strict";Store_Pages=function(_EventEmitter){function Store_Pages(){_classCallCheck(this,Store_Pages),_get(Object.getPrototypeOf(Store_Pages.prototype),"constructor",this).call(this),this.clearAllPages(),this.defaultSeriesProperties={ElementType:"Series",NegPalette:2,PosPalette:6,ReferenceType:"Absolute",ReferenceValue:0,NumberFormat:".4r",OverlayStyle:"Transparent",OverlayTextType:"Labels Only",OverlayText:"",Range:"",Levels:1,Height:3},this.newGroupTemplate={ElementType:"Group",Name:"New Group",SetSpec:null},this.newPageTemplate={Changed:!1,ExistsOnDisk:!1,Name:"New Page",Skip:"10m",DurationType:"Pixel Size",Duration:"4s",AxisType:"DateTime",Query:null,SetSpec:null},this.dispatchToken=this.registerDispatcherCallback()}return _inherits(Store_Pages,_EventEmitter),_createClass(Store_Pages,[{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(payload.action){case"pages:setPredefinedPages":this.setPredefinedPages(payload.data);break;case"pages:setUserPages":this.user=payload.data,alert("also possibly change current page. Also add key values from broker. Also set changed to false.");break;case"pages:setPage":this.setPage(payload.data);break;case"pages:modifySeries":this.modifySeries(payload.data.key,payload.data.modifyFunc);break;case"pages:setGroupProperty":this.setGroupProperty(payload.data.key,payload.data.property,payload.data.value);break;case"pages:prependElement":this.prependElement(payload.data.element,payload.data.pageName);break;case"pages:newPageFromElement":this.newPageFromElement(payload.data);break;case"pages:removeElement":this.removeElement(payload.data);break;case"pages:deletePage":this.deletePage(payload.data);break;case"pages:moveSeries":this.moveSeries(payload.data.movingKey,payload.data.insertBeforeKey);break;case"pages:moveSeriesToColumnEnd":this.moveSeriesToColumnEnd(payload.data.movingKey,payload.data.columnNumber);break;case"pages:moveSeriesToGroupEnd":this.moveSeriesToGroupEnd(payload.data.movingKey,payload.data.groupKey);break;case"pages:copyCurrent":this.copyCurrent();break;case"pages:saveCurrentPage":this.saveCurrent();break;case"pages:addNewPage":this.addNewPage();break;case"pages:setNewWorkingSeriesSetAndTransientPage":this.setNewWorkingSeriesSetAndTransientPage(payload.data.identities,payload.data.label,payload.data.value);break;case"pages:switchTo":this.switchTo(payload.data);break;case"pages:executeQuery":this.executeQuery(payload.data);break;case"pages:setNumberOfColumns":this.setNumberOfColumns(payload.data);break;case"pages:changePageName":this.changePageName(payload.data.fromName,payload.data.toName);break;case"pages:clearAllPages":this.clearAllPages();break;case"pages:makeMonotonic":this.makeMonotonic(payload.data);break;case"pages:groupCurrentPageBy":this.groupCurrentBy(payload.data.dimension,payload.data.nGroups);break;case"pages:orderSeriesBy":this.orderBy(payload.data.dimensionName,!1,payload.data.groupKey);break;case"pages:orderSeriesByTempValue":this.orderBy(null,!0,payload.data);break;case"pages:ungroupCurrentPage":this.ungroupCurrentPage();break;case"pages:toggleLabelVisibility":this.toggleOrSetLabelVisibility(this.current,payload.data.dimension,payload.data.lineSpec,null);break;case"pages:setLabelVisibility":this.toggleOrSetLabelVisibility(this.current,payload.data.dimension,payload.data.lineSpec,"n"==payload.data.status?!1:!0);break;case"pages:aggregateGroup":this.aggregateGroup(payload.data.key,payload.data.aggregateFn,payload.data.fn,payload.data.fnParam);break;case"pages:expandAggregated":this.expandAggregated(payload.data);break;default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"toggleOrSetLabelVisibility",value:function(page,dimensionName,seriesKey,makeStatusVisible){var tgl=function(lineSpec){for(var found=!1,i=0;i<lineSpec.VisibleLabels.length;++i)if(lineSpec.VisibleLabels[i]===dimensionName){lineSpec.VisibleLabels.splice(i,1),found=!0;break}found||lineSpec.VisibleLabels.push(dimensionName)},st=function(lineSpec){for(var found=!1,i=0;i<lineSpec.VisibleLabels.length;++i)if(lineSpec.VisibleLabels[i]===dimensionName){makeStatusVisible||lineSpec.VisibleLabels.splice(i,1),found=!0;break}!found&&makeStatusVisible&&lineSpec.VisibleLabels.push(dimensionName)},delegate=tgl;null!=makeStatusVisible&&(delegate=st);for(var done=!1,j=0;j<page.Columns.length&&!done;++j)for(var i=0;i<page.Columns[j].length&&!done;++i)if("Group"===page.Columns[j][i].ElementType)if(seriesKey&&page.Columns[j][i].Key!==seriesKey)for(var k=0;k<page.Columns[j][i].Children.length&&!done;++k)seriesKey&&page.Columns[j][i].Children[k].Key!=seriesKey||(delegate(page.Columns[j][i].Children[k]),seriesKey&&(done=!0));else{for(var k=0;k<page.Columns[j][i].Children.length&&!done;++k)delegate(page.Columns[j][i].Children[k]);seriesKey&&(done=!0)}else{if("Series"!==page.Columns[j][i].ElementType)throw new Error("unknown element type");seriesKey&&page.Columns[j][i].Key!==seriesKey||(delegate(page.Columns[j][i]),seriesKey&&(done=!0))}}},{key:"makeMonotonic",value:function(identifiedBy_string){if("transient"===this.current_page_type)for(var j=0;j<this.current.Columns.length;++j)for(var i=0;i<this.current.Columns[j].length;++i){if("Group"===this.current.Columns[j][i].ElementType)for(var k=0;k<this.current.Columns[j][i].Children.length;++k)if(this.current.Columns[j][i].Children[k].IdentifiedBy_string===identifiedBy_string){var identifiedBy_lvs=LabelSpec.parse(identifiedBy_string),newSeries=_Object$create(null);return newSeries=_Object$assign(newSeries,this.current.Columns[j][i].Children[k]),newSeries.Key=IdBroker.getUniqueId(),newSeries.IdentifiedBy_lvs=identifiedBy_lvs,newSeries.QuerySpec=new QuerySpec(null,identifiedBy_lvs,"rate","5m",null),newSeries.PosPalette=9,void this.current.Columns[j][i].Children.splice(k,1,newSeries)}if(this.current.Columns[j][i].IdentifiedBy_string===identifiedBy_string){var identifiedBy_lvs=LabelSpec.parse(identifiedBy_string),newSeries=_Object$create(null);return newSeries=_Object$assign(newSeries,this.current.Columns[j][i]),newSeries.Key=IdBroker.getUniqueId(),newSeries.IdentifiedBy_lvs=identifiedBy_lvs,newSeries.QuerySpec=new QuerySpec(null,identifiedBy_lvs,"rate","5m",null),newSeries.PosPalette=9,void this.current.Columns[j].splice(i,1,newSeries)}}}},{key:"clearAllPages",value:function(){this.predefined=[],this.user=[],this.current_page=null,this.current_transient=null,this.current_query=null,this.current=null,this.current_page_type="page",this.workingSeriesSet=null}},{key:"changePageName",value:function(fromName,toName){for(var i=0;i<this.user.length;++i)if(this.user[i].Name===fromName)return WebStorageUtils.deleteValue("page_"+Store_Source.getActiveProfileKey()+"_"+fromName),this.user[i].Name=toName,this.saveCurrent(),this.persistPageList(),!0;return!1}},{key:"deletePage",value:function(pageName){for(var i=0;i<this.user.length;++i)if(this.user[i].Name===pageName)return this.user.splice(i,1),this.current=null,this.current_page=null,WebStorageUtils.deleteValue("page_"+Store_Source.getActiveProfileKey()+"_"+pageName),this.persistPageList(),!0;return!1}},{key:"constructEmptyPage",value:function(){var o=_Object$assign({},this.newPageTemplate);return o.Columns=[[]],o}},{key:"getElementSeries",value:function(el){return"Series"===el.ElementType?[el]:"Group"===el.ElementType?el.Children:void alert("TODO: unexpected element type")}},{key:"getElementFromKey",value:function(key){for(var i=0;i<this.current.Columns.length;++i)for(var j=0;j<this.current.Columns[i].length;++j){if(this.current.Columns[i][j].Key===key)return this.current.Columns[i][j];for(var ss=this.getElementSeries(this.current.Columns[i][j]),k=0;k<ss.length;++k)if(ss[k].Key==key)return ss[k]}}},{key:"createFlatSeriesList",value:function(page){for(var result=[],i=0;i<page.Columns.length;++i)for(var j=0;j<page.Columns[i].length;++j)for(var ss=this.getElementSeries(page.Columns[i][j]),k=0;k<ss.length;++k)result.push(ss[k]);return result}},{key:"createFlatSeriesList_keepGroups",value:function(page){for(var result=[],i=0;i<page.Columns.length;++i)for(var j=0;j<page.Columns[i].length;++j)result.push(page.Columns[i][j]);return result}},{key:"computeTransientCounts",value:function(){var labelCounts=new _Map,labelValuesAndSeriesCounts=new _Map,labelNames=Store_Labels.getAllLabelNames();labelNames.forEach(function(ln){labelCounts.set(ln,0),labelValuesAndSeriesCounts.set(ln,new _Map)}),this.createFlatSeriesList(this.current_transient).forEach(function(series){var spec=series.IdentifiedBy_lvs,keys=_Object$getOwnPropertyNames(spec);keys.forEach(function(k){var v=spec[k];labelCounts.has(k)||labelCounts.set(k,0),labelValuesAndSeriesCounts.has(k)||labelValuesAndSeriesCounts.set(k,new _Map),labelValuesAndSeriesCounts.get(k).has(v)||labelValuesAndSeriesCounts.get(k).set(v,0),labelValuesAndSeriesCounts.get(k).set(v,labelValuesAndSeriesCounts.get(k).get(v)+1)})});var result=new _Map,distinctLabels=new _Map;return labelNames.forEach(function(ln){var valueCounts=labelValuesAndSeriesCounts.get(ln);distinctLabels.set(ln,valueCounts.size),result.set(ln,valueCounts)}),{labelCounts:distinctLabels,labelValuesAndSeriesCounts:result}}},{key:"setNewWorkingSeriesSetAndTransientPage",value:function(seriesSpecs,label,value){this.current_transient=this.constructEmptyPage(),this.current_transient.Name="selection",this.current_transient.SetSpec=_Object$create(null),this.current_transient.SetSpec[label]=value,this.workingSeriesSet=[];for(var filterLabelValuePairs=Store_Labels.getFilterLabelValuePairs(),i=0;i<seriesSpecs.length;++i){var nSeries=_Object$create(null);_Object$assign(nSeries,this.defaultSeriesProperties),nSeries.IdentifiedBy_lvs=seriesSpecs[i],nSeries.VisibleLabels=_Object$getOwnPropertyNames(seriesSpecs[i]),nSeries.Key=IdBroker.getUniqueId(),nSeries.IdentifiedBy_string=LabelSpec.serialize(seriesSpecs[i]),nSeries.QuerySpec=new QuerySpec(null,nSeries.IdentifiedBy_lvs,null,"5m",null);for(var toInclude=!0,j=0;j<filterLabelValuePairs.length;++j)if(seriesSpecs[i][filterLabelValuePairs[j].label]!=filterLabelValuePairs[j].value){toInclude=!1;break}toInclude&&(this.current_transient.Columns[0]=[nSeries].concat(this.current_transient.Columns[0])),this.workingSeriesSet=[nSeries].concat(this.workingSeriesSet),this.current_transient.Changed=!0}for(var invariantLabels=this.calculateInvariantLabels(this.current_transient.Columns[0]),i=0;i<invariantLabels.length;++i)this.toggleOrSetLabelVisibility(this.current_transient,invariantLabels[i],null,!1);var tcs=this.computeTransientCounts();this.setNumberOfColumns(2),Store_Labels.setTransientCounts(tcs.labelCounts,tcs.labelValuesAndSeriesCounts)}},{key:"addNewQuerySeriesToCurrent",value:function(identifiedBy_lvs,querySpec){var nSeries=_Object$create(null);nSeries=_Object$assign(nSeries,this.defaultSeriesProperties),nSeries.Key=IdBroker.getUniqueId(),nSeries.IdentifiedBy_lvs=identifiedBy_lvs,nSeries.VisibleLabels=_Object$getOwnPropertyNames(identifiedBy_lvs),nSeries.IdentifiedBy_string=LabelSpec.serialize(identifiedBy_lvs),nSeries.QuerySpec=querySpec,this.current.Columns[0].push(nSeries),this.current.Changed=!0}},{key:"addNewPage",value:function(){var _this=this;this.current=this.constructEmptyPage();var name=this.current.Name?this.current.Name:"series";this.current.Name=this.findUniqueName(name),this.user=[this.current].concat(this.user),this.current_page=this.current,this.persistPageList(),setTimeout(function(){AppActions.setPage(_this.current.Name),AppActions.switchTo("page")},0)}},{key:"saveCurrent",value:function(){var s=this.exportJSON();WebStorageUtils.setValue("page_"+Store_Source.getActiveProfileKey()+"_"+this.current.Name,s),this.current.Changed=!1}},{key:"findUniqueName",value:function(name){var tryInt=1;name.length>4&&")"===name[name.length-1]&&"("===name[name.length-3]&&" "===name[name.length-4]&&(tryInt=parseInt(name[name.length-2]),name=this.current.Name.substring(0,name.length-4));for(var found=!1,i=0;i<this.predefined.length;++i)if(this.predefined[i].Name==name){found=!0;break}if(!found)for(var i=0;i<this.user.length;++i)if(this.user[i].Name==name){found=!0;break}if(!found)return name;for(found=!0;found;){found=!1;for(var i=0;i<this.predefined.length;++i)this.predefined[i].Name==name+" ("+tryInt+")"&&(found=!0,tryInt+=1);for(var i=0;i<this.user.length;++i)this.user[i].Name==name+" ("+tryInt+")"&&(found=!0,tryInt+=1)}return name+" ("+tryInt+")"}},{key:"createCopyOfElement",value:function(el){if("Series"===el.ElementType){var s=_Object$assign({},el);return s.Key=IdBroker.getUniqueId(),s}if("Group"===el.ElementType){var s=_Object$assign({},el);s.Key=IdBroker.getUniqueId(),s.Children=[];for(var i=0;i<el.Children.length;++i)s.Children.push(this.createCopyOfElement(el.Children[i]));return s}alert("TODO: unknown element type: "+el.ElementType)}},{key:"copyCurrent",value:function(){var pageCopy=_Object$assign({},this.current);this.current.Name.startsWith("Copy of")?pageCopy.Name=this.findUniqueName(this.current.Name):pageCopy.Name=this.findUniqueName("Copy of "+this.current.Name),pageCopy.Columns=[];for(var j=0;j<this.current.Columns.length;++j){for(var col=[],i=0;i<this.current.Columns[j].length;++i){var s=this.createCopyOfElement(this.current.Columns[j][i]);col.push(s)}pageCopy.Columns.push(col)}pageCopy.ExistsOnDisk=!1,pageCopy.Changed=!0,this.user=[pageCopy].concat(this.user),this.current=pageCopy,this.persistPageList(),setTimeout(function(){AppActions.setPage(pageCopy.Name),AppActions.switchTo("page")},0)}},{key:"moveSeries",value:function(movingKey,insertBeforeKey){var removed=this.removeElement(movingKey);removed&&this.insertBefore(insertBeforeKey,removed)}},{key:"moveSeriesToColumnEnd",value:function(movingKey,columnNumber){var removed=this.removeElement(movingKey);removed&&this.insertAtColumnEnd(columnNumber,removed)}},{key:"moveSeriesToGroupEnd",value:function(movingKey,groupKey){var removed=this.removeElement(movingKey);removed&&this.insertAtGroupEnd(groupKey,removed)}},{key:"insertAtColumnEnd",value:function(colNum,item){this.current.Columns.length>colNum&&this.current.Columns[colNum].push(item)}},{key:"insertAtGroupEnd",value:function(groupKey,item){for(var j=0;j<this.current.Columns.length;++j)for(var i=0;i<this.current.Columns[j].length;++i)if(this.current.Columns[j][i].Key==groupKey){this.current.Columns[j][i].Children.push(item);break}}},{key:"insertBefore",value:function(key,item){for(var j=0;j<this.current.Columns.length;++j)for(var i=0;i<this.current.Columns[j].length;++i){if(this.current.Columns[j][i].Key==key)return void this.current.Columns[j].splice(i,0,item);
if("Group"===this.current.Columns[j][i].ElementType)for(var k=0;k<this.current.Columns[j][i].Children.length;++k)if(this.current.Columns[j][i].Children[k].Key==key)return void this.current.Columns[j][i].Children.splice(k,0,item)}}},{key:"findElementInCurrent",value:function(key){for(var j=0;j<this.current.Columns.length;++j)for(var i=0;i<this.current.Columns[j].length;++i){if(this.current.Columns[j][i].Key==key)return this.current.Columns[j][i];if("Group"==this.current.Columns[j][i].ElementType)for(var k=0;k<this.current.Columns[j][i].Children.length;++k)if(this.current.Columns[j][i].Children[k].Key==key)return this.current.Columns[j][i].Children[k]}}},{key:"removeElement",value:function(key){for(var j=0;j<this.current.Columns.length;++j)for(var i=0;i<this.current.Columns[j].length;++i){if(this.current.Columns[j][i].Key==key){var removed=this.current.Columns[j][i];return this.current.Columns[j].splice(i,1),this.current.Changed=!0,removed}if("Group"===this.current.Columns[j][i].ElementType)for(var k=0;k<this.current.Columns[j][i].Children.length;++k)if(this.current.Columns[j][i].Children[k].Key==key){var removed=this.current.Columns[j][i].Children[k];return this.current.Columns[j][i].Children.splice(k,1),this.current.Changed=!0,removed}}return null}},{key:"newPageFromElement",value:function(element){var _this2=this,metricLN=Store_Source.getActiveAdapter().getMetricLabelName(),name="Group"===element.ElementType?element.Name:element.IdentifiedBy_lvs[metricLN]?element.IdentifiedBy_lvs[metricLN]:"query";this.current=this.constructEmptyPage(),this.current.Name=this.findUniqueName(name),this.user=[this.current].concat(this.user),this.current_page=this.current,this.prependElement(element,this.current.Name),this.persistPageList(),this.saveCurrent(),setTimeout(function(){AppActions.setPage(_this2.current.Name),AppActions.switchTo("page")},0)}},{key:"prependElement",value:function(element,pageName){if(null!=this.current){var nSeries=_Object$assign({},element);if(nSeries.Key=IdBroker.getUniqueId(),"Group"===nSeries.ElementType){nSeries.Children=[];for(var i=0;i<element.Children.length;++i){var nSubSeries=_Object$assign({},element.Children[i]);nSubSeries.Key=IdBroker.getUniqueId(),nSeries.Children.push(nSubSeries)}}for(var toAddTo=null,i=0;i<this.user.length;++i)this.user[i].Name===pageName&&(toAddTo=this.user[i]);toAddTo&&(toAddTo.Columns[0]=[nSeries].concat(toAddTo.Columns[0]),toAddTo.Changed=!0)}}},{key:"currentIsInUser",value:function(){return this.currentIsInList(this.user)}},{key:"currentIsInPredefined",value:function(){return this.currentIsInList(this.predefined)}},{key:"currentIsInList",value:function(list){if(null==this.current)return!1;for(var i=0;i<list.length;++i)if(list[i].Name==this.current.Name)return!0;return!1}},{key:"setPredefinedPages",value:function(pp){this.predefined=pp;for(var i=0;i<this.predefined.length;++i){for(var j=0;j<this.predefined[i].Columns.length;++j)for(var k=0;k<this.predefined[i].Columns[j].length;++k)if("Series"===this.predefined[i].Columns[j][k].ElementType){this.predefined[i].Columns[j][k].Key=IdBroker.getUniqueId(),this.predefined[i].Columns[j][k].IdentifiedBy_string=this.predefined[i].Columns[j][k].IdentifiedBy,this.predefined[i].Columns[j][k].QuerySpec=QuerySpec.parse(this.predefined[i].Columns[j][k].Query),delete this.predefined[i].Columns[j][k].Query,this.predefined[i].Columns[j][k].IdentifiedBy_lvs=LabelSpec.parse(this.predefined[i].Columns[j][k].IdentifiedBy_string);for(var tProps=_Array$from(_Object$getOwnPropertyNames(this.defaultSeriesProperties)),l=0;l<tProps.length;++l)this.predefined[i].Columns[j][k][tProps[l]]||(this.predefined[i].Columns[j][k][tProps[l]]=this.defaultSeriesProperties[tProps[l]])}else if("Group"===this.predefined[i].Columns[j][k].ElementType){this.predefined[i].Columns[j][k].Key=IdBroker.getUniqueId();for(var l=0;l<this.predefined[i].Columns[j][k].Children.length;++l)this.predefined[i].Columns[j][k].Children[l].Key=IdBroker.getUniqueId(),this.predefined[i].Columns[j][k].Children[l].IdentifiedBy_string=this.predefined[i].Columns[j][k].Children[l].IdentifiedBy,this.predefined[i].Columns[j][k].Children[l].QuerySpec=QuerySpec.parse(this.predefined[i].Columns[j][k].Children[l].Query),delete this.predefined[i].Columns[j][k].Children[l].Query,this.predefined[i].Columns[j][k].Children[l].IdentifiedBy_lvs=LabelSpec.parse(this.predefined[i].Columns[j][k].Children[l].IdentifiedBy_string)}else console.log("unknown element type: "+this.predefined[i].Columns[j][k].ElementType);for(var templateProperties=_Array$from(_Object$getOwnPropertyNames(this.newPageTemplate)),j=0;j<templateProperties.length;++j)this.predefined[i][templateProperties[j]]||(this.predefined[i][templateProperties[j]]=this.newPageTemplate[templateProperties[j]])}}},{key:"setGroupProperty",value:function(key,name,value){if(this.current&&this.current.Columns&&0!=this.current.Columns.length)for(var j=0;j<this.current.Columns.length;++j)for(var i=0;i<this.current.Columns[j].length;++i)"Group"===this.current.Columns[j][i].ElementType&&this.current.Columns[j][i].Key===key&&(this.current.Columns[j][i][name]=value)}},{key:"modifySeries",value:function(key,modifyFunc){if(this.current&&this.current.Columns&&0!=this.current.Columns.length){for(var j=0;j<this.current.Columns.length;++j)for(var i=0;i<this.current.Columns[j].length;++i)if("Series"===this.current.Columns[j][i].ElementType){if((this.current.Columns[j][i].Key===key||null==key)&&(modifyFunc(this.current.Columns[j][i]),this.current.Changed=!0,null!=key))return}else if("Group"===this.current.Columns[j][i].ElementType){if(this.current.Columns[j][i].Key===key){for(var k=0;k<this.current.Columns[j][i].Children.length;++k)modifyFunc(this.current.Columns[j][i].Children[k]);return void(this.current.Changed=!0)}for(var k=0;k<this.current.Columns[j][i].Children.length;++k)if((this.current.Columns[j][i].Children[k].Key===key||null==key)&&(modifyFunc(this.current.Columns[j][i].Children[k]),this.current.Changed=!0,null!=key))return}else console.log("unknown element type: "+this.current.Columns[j][i].ElementType);null!=key&&console.log("failed to update series property. SeriesKey: "+key+" PropertyName: "+name+" PropertyValue: "+value)}}},{key:"currentSelectedPageType",value:function(){return this.current_page_type}},{key:"switchTo",value:function(pageType){this.current_page_type=pageType,null!=this.current_query&&(this.current_query.Columns=[[]]),"page"==pageType?this.current=this.current_page:"transient"==pageType?this.current=this.current_transient:"query"==pageType&&(setTimeout(function(){return AppActions.addNetworkStatus("Executing query...")},0),this.current=this.current_query)}},{key:"setPage",value:function(pageName){for(var i=0;i<this.predefined.length;++i){var p=this.predefined[i];if(p.Name===pageName)return this.current_page_type="page",void(this.current_page=p)}for(var i=0;i<this.user.length;++i){var p=this.user[i];if(p.Name===pageName)return this.current_page_type="page",void(this.current_page=p)}}},{key:"constructColumns",value:function(series,n){for(var result=[],i=0;n>i;++i)result.push([]);for(var i=0;i<series.length;++i)result[i%n].push(series[i]);return result}},{key:"setNumberOfColumns",value:function(n){if("page"==this.current_page_type){var allSeries=this.createFlatSeriesList_keepGroups(this.current_page);this.current_page.Columns=this.constructColumns(allSeries,n),this.current_page.Changed=!0}else if("transient"==this.current_page_type){var allSeries=this.createFlatSeriesList_keepGroups(this.current_transient);this.current_transient.Columns=this.constructColumns(allSeries,n)}else if("query"==this.current_page_type){var allSeries=this.createFlatSeriesList_keepGroups(this.current_query);this.current_query.Columns=this.constructColumns(allSeries,n)}}},{key:"ungroupCurrentPage",value:function(){var currentColumnCount=this.current.Columns.length,allSeries=null;"page"==this.current_page_type?(allSeries=this.createFlatSeriesList(this.current_page),this.current_page.Columns=this.constructColumns(allSeries,currentColumnCount),this.current_page.Changed=!0):"transient"==this.current_page_type?(allSeries=this.createFlatSeriesList(this.current_transient),this.current_transient.Columns=this.constructColumns(allSeries,currentColumnCount)):"query"==this.current_page_type&&(allSeries=this.createFlatSeriesList(this.current_query),this.current_query.Columns=this.constructColumns(allSeries,currentColumnCount));for(var invariantLabels=this.calculateInvariantLabels(allSeries),i=0;i<allSeries.length;++i){allSeries[i].VisibleLabels=_Object$getOwnPropertyNames(allSeries[i].IdentifiedBy_lvs);for(var k=0;k<invariantLabels.length;++k)this.toggleOrSetLabelVisibility(this.current,invariantLabels[k],allSeries[i].Key,!1)}}},{key:"getCurrent",value:function(){return this.current}},{key:"getCurrentPage",value:function(){return this.current_page}},{key:"getPredefined",value:function(){return this.predefined}},{key:"getUser",value:function(){return this.user}},{key:"loadUserPage",value:function(name){var pd=WebStorageUtils.getValue("page_"+Store_Source.getActiveProfileKey()+"_"+name);if(null!=pd){for(var page=JSON.parse(pd),j=0;j<page.Columns.length;++j)for(var k=0;k<page.Columns[j].length;++k)if("Series"===page.Columns[j][k].ElementType)page.Columns[j][k].Key=IdBroker.getUniqueId(),page.Columns[j][k].IdentifiedBy_string=page.Columns[j][k].IdentifiedBy,page.Columns[j][k].QuerySpec=QuerySpec.parse(page.Columns[j][k].Query),delete page.Columns[j][k].Query,page.Columns[j][k].IdentifiedBy_lvs=LabelSpec.parse(page.Columns[j][k].IdentifiedBy_string);else if("Group"===page.Columns[j][k].ElementType){page.Columns[j][k].Key=IdBroker.getUniqueId();for(var l=0;l<page.Columns[j][k].Children.length;++l)page.Columns[j][k].Children[l].Key=IdBroker.getUniqueId(),page.Columns[j][k].Children[l].IdentifiedBy_string=page.Columns[j][k].Children[l].IdentifiedBy,page.Columns[j][k].Children[l].QuerySpec=QuerySpec.parse(page.Columns[j][k].Children[l].Query),delete page.Columns[j][k].Children[l].Query,page.Columns[j][k].Children[l].IdentifiedBy_lvs=LabelSpec.parse(page.Columns[j][k].Children[l].IdentifiedBy_string)}else console.log("unknown element type: "+page.Columns[j][k].ElementType);return page}return null}},{key:"loadUserPages",value:function(){var l=WebStorageUtils.getValue("pageList_"+Store_Source.getActiveProfileKey());if(null!=l)for(var pageNames=JSON.parse(l),i=0;i<pageNames.length;++i){var page=this.loadUserPage(pageNames[i]);null!=page&&this.user.push(page)}}},{key:"persistPageList",value:function(){var pageNames=this.user.map(function(u){return u.Name});WebStorageUtils.setValue("pageList_"+Store_Source.getActiveProfileKey(),JSON.stringify(pageNames,null,2))}},{key:"exportJSON",value:function(){var copySeries=function(series){var s=_Object$assign({},series);return delete s.Key,delete s.IdentifiedBy_lvs,s.IdentifiedBy=s.IdentifiedBy_string,delete s.IdentifiedBy_string,s.Query=s.QuerySpec.serialized,delete s.QuerySpec,delete s.PreventAutoConvert,s},currentCopy=_Object$assign({},this.current);delete currentCopy.ExistsOnDisk,delete currentCopy.Changed,delete currentCopy.Query,currentCopy.Columns=[];for(var j=0;j<this.current.Columns.length;++j){currentCopy.Columns.push([]);for(var i=0;i<this.current.Columns[j].length;++i)if("Series"===this.current.Columns[j][i].ElementType)currentCopy.Columns[j].push(copySeries(this.current.Columns[j][i]));else{if("Group"!==this.current.Columns[j][i].ElementType)throw new Error("unknown element type: "+this.current.Columns[j][i].ElementType);var groupCopy=_Object$assign({},this.current.Columns[j][i]);delete groupCopy.Key,groupCopy.Children=[];for(var k=0;k<this.current.Columns[j][i].Children.length;++k)groupCopy.Children.push(copySeries(this.current.Columns[j][i].Children[k]));currentCopy.Columns[j].push(groupCopy)}}return JSON.stringify(currentCopy,null,2)}},{key:"calculateGroupProperty",value:function(group,propertyGetter){for(var result=-1,i=0;i<group.Children.length;++i)if(-1==result)result=propertyGetter(group.Children[i]);else if(result!=propertyGetter(group.Children[i]))return-1;return result}},{key:"calculateCurrentPageProperty",value:function(propertyGetter){var result=-1;if(null==this.current)return result;if(null==this.current.Columns)return result;if(0==this.current.Columns.length)return result;for(var j=0;j<this.current.Columns.length;++j)for(var i=0;i<this.current.Columns[j].length;++i)if("Series"===this.current.Columns[j][i].ElementType){if(-1==result)result=propertyGetter(this.current.Columns[j][i]);else if(result!=propertyGetter(this.current.Columns[j][i]))return-1}else if("Group"===this.current.Columns[j][i].ElementType){var r=this.calculateGroupProperty(this.current.Columns[j][i],propertyGetter);if(-1==r)return-1;if(-1==result)result=r;else if(r!=result)return-1}else console.log("unknown element type "+this.current.Columns[j][i].ElementType);return result}},{key:"calculateCurrentPageGlobalHeight",value:function(){return this.calculateCurrentPageProperty(function(s){return s.Height})}},{key:"calculateCurrentPageGlobalLevels",value:function(){return this.calculateCurrentPageProperty(function(s){return s.Levels})}},{key:"calculateCurrentPageGlobalNegPalette",value:function(){return this.calculateCurrentPageProperty(function(s){return s.NegPalette})}},{key:"calculateCurrentPageGlobalPosPalette",value:function(){return this.calculateCurrentPageProperty(function(s){return s.PosPalette})}},{key:"calculateCurrentPageGlobalReferenceType",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.ReferenceType});return-1==rt?null:rt}},{key:"calculateCurrentPageGlobalOverlayStyle",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.OverlayStyle});return-1==rt?null:rt}},{key:"calculateCurrentPageGlobalOverlayTextType",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.OverlayTextType});return-1==rt?null:rt}},{key:"calculateCurrentPageGlobalReferenceValue",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.ReferenceValue});return-1==rt?null:rt}},{key:"calculateCurrentPageGlobalRange",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.Range});return-1==rt?null:rt}},{key:"calculateCurrentPageGlobalNumberFormat",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.NumberFormat});return-1==rt?null:rt}},{key:"calculateCurrentPageGlobalOverlayText",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.OverlayText});return-1==rt?null:rt}},{key:"calculateCurrentPageGlobalFunctionParamValue",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.QuerySpec.data.funcParam});return-1==rt?null:rt}},{key:"calculateCurrentPageGlobalFunction",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.QuerySpec.data.func});return rt}},{key:"calculateCurrentPageIncorporatesManual",value:function(){var rt=this.calculateCurrentPageProperty(function(s){return s.QuerySpec.isManual()});return-1==rt||rt}},{key:"calculateGroupHeight",value:function(group){return this.calculateGroupProperty(group,function(s){return s.Height})}},{key:"calculateGroupLevels",value:function(group){return this.calculateGroupProperty(group,function(s){return s.Levels})}},{key:"calculateGroupNegPalette",value:function(group){return this.calculateGroupProperty(group,function(s){return s.NegPalette})}},{key:"calculateGroupPosPalette",value:function(group){return this.calculateGroupProperty(group,function(s){return s.PosPalette})}},{key:"calculateGroupReferenceType",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.ReferenceType});return-1==rt?null:rt}},{key:"calculateGroupOverlayStyle",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.OverlayStyle});return-1==rt?null:rt}},{key:"calculateGroupOverlayTextType",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.OverlayTextType});return-1==rt?null:rt}},{key:"calculateGroupReferenceValue",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.ReferenceValue});return-1==rt?null:rt}},{key:"calculateGroupFunctionParamValue",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.QuerySpec.data.funcParam});return-1==rt?null:rt}},{key:"calculateGroupRange",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.Range});return-1==rt?null:rt}},{key:"calculateGroupNumberFormat",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.NumberFormat});return-1==rt?null:rt}},{key:"calculateGroupOverlayText",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.OverlayText});return-1==rt?null:rt}},{key:"calculateGroupFunction",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.QuerySpec.data.func});return rt}},{key:"calculateGroupIncorporatesManual",value:function(group){var rt=this.calculateGroupProperty(group,function(s){return s.QuerySpec.isManual()});return-1==rt||rt}},{key:"executeQuery",value:function(queryText){setTimeout(function(){this.current=this.constructEmptyPage(),this.current.QuerySpec=new QuerySpec(queryText,null,null,null,null),this.current_query=this.current,AppActions.switchTo("query")}.bind(this),0)}},{key:"retrieveNewSeriesSet",value:function(label,value){setTimeout(function(){var message="retrieving series set: [ "+label+"="+value+" ]";AppActions.addNetworkStatus(message);var ss={};ss[label]=value,Store_Source.getActiveAdapter().getSeriesSet(ss,function(d){AppActions.removeNetworkStatus(message),AppActions.setNewWorkingSeriesSetAndTransientPage(d,label,value),AppActions.switchTo("transient")})}.bind(this),0)}},{key:"filterTransient",value:function(label,value){for(var j=0;j<this.current_transient.Columns.length;++j){for(var newSSet=[],i=0;i<this.current_transient.Columns[j].length;++i)if("Series"===this.current_transient.Columns[j][i].ElementType){var sSpec=this.current_transient.Columns[j][i].IdentifiedBy_lvs,sSpecLabels=_Array$from(_Object$getOwnPropertyNames(sSpec));if(-1==sSpecLabels.indexOf(label))continue;if(sSpec[label]!==value)continue;newSSet.push(this.current_transient.Columns[j][i])}else if("Group"===this.current_transient.Columns[j][i].ElementType){for(var newSSet_group=[],k=0;k<this.current_transient.Columns[j][i].Children.length;++k)if("Series"===this.current_transient.Columns[j][i].Children[k].ElementType){var sSpec=this.current_transient.Columns[j][i].Children[k].IdentifiedBy_lvs,sSpecLabels=_Array$from(_Object$getOwnPropertyNames(sSpec));if(-1==sSpecLabels.indexOf(label))continue;if(sSpec[label]!==value)continue;newSSet_group.push(this.current_transient.Columns[j][i].Children[k])}else console.log("unexpected element type: "+this.current_transient.Columns[j][i].Children[k].ElementType);newSSet_group.length>0&&(this.current_transient.Columns[j][i].Children=newSSet_group,newSSet.push(this.current_transient.Columns[j][i]))}else console.log("unknown element type: "+this.current_transient.Columns[j][i].ElementType);this.current_transient.Columns[j]=newSSet}var tcs=this.computeTransientCounts();Store_Labels.setTransientCounts(tcs.labelCounts,tcs.labelValuesAndSeriesCounts)}},{key:"reconstructSeriesSubsetFromInitial",value:function(){var nCols=1;this.current_transient.Columns&&(nCols=this.current_transient.Columns.length,0==nCols&&(nCols=1));var filterLabelValuePairs=Store_Labels.getFilterLabelValuePairs();this.current_transient.Columns=[];for(var i=0;nCols>i;++i)this.current_transient.Columns.push([]);for(var currentCol=0,i=0;i<this.workingSeriesSet.length;++i){for(var s=this.workingSeriesSet[i],sSpec=s.IdentifiedBy_lvs,sSpecLabels=_Array$from(_Object$getOwnPropertyNames(sSpec)),incl=!0,j=0;j<filterLabelValuePairs.length;++j){var currentTransientLabel=filterLabelValuePairs[j].label;if(-1==sSpecLabels.indexOf(currentTransientLabel)){incl=!1;break}sSpec[currentTransientLabel]===filterLabelValuePairs[j].value||(incl=!1)}incl&&(this.current_transient.Columns[currentCol].push(s),currentCol+=1,currentCol==nCols&&(currentCol=0))}var tcs=this.computeTransientCounts();Store_Labels.setTransientCounts(tcs.labelCounts,tcs.labelValuesAndSeriesCounts)}},{key:"clearCurrentAndTransient",value:function(){this.current=null,this.current_transient=null,this.workingSeriesSet=null,Store_Labels.setTransientCounts(null,null)}},{key:"orderListBy",value:function(list,dimensionName,byTempValue){list.sort(function(a,b){var aV,bV;return byTempValue?(aV=a.TempValue,isNaN(aV)&&(aV=0),bV=b.TempValue,isNaN(bV)&&(bV=0)):(aV=a.IdentifiedBy_lvs[dimensionName],bV=b.IdentifiedBy_lvs[dimensionName],isNaN(aV)||isNaN(bV)||(aV=parseFloat(aV),bV=parseFloat(bV))),aV||bV?!aV&&bV&&0!=aV?1:aV&&!bV&&0!==bV?-1:bV>aV?-1:aV>bV?1:0:0}),byTempValue&&list.reverse()}},{key:"orderBy",value:function(dimensionName,byTempValue,groupKey){if(this.current&&0!=this.current.Columns.length)if(groupKey)for(var i=0;i<this.current.Columns.length;++i)for(var j=0;j<this.current.Columns[i].length;++j)"Group"===this.current.Columns[i][j].ElementType&&this.current.Columns[i][j].Key==groupKey&&this.orderListBy(this.current.Columns[i][j].Children,dimensionName,byTempValue);else{for(var ungrouped=[],i=0;i<this.current.Columns.length;++i)for(var j=0;j<this.current.Columns[i].length;++j)"Series"===this.current.Columns[i][j].ElementType&&(ungrouped.push(this.current.Columns[i][j]),this.current.Columns[i].splice(j,1),j-=1);this.orderListBy(ungrouped,dimensionName,byTempValue);for(var i=0;i<this.current.Columns.length;++i)for(var j=0;j<this.current.Columns[i].length;++j){if("Group"!==this.current.Columns[i][j].ElementType)throw new Error("unexpected element type: "+this.current.Columns[i][j].ElementType);this.orderListBy(this.current.Columns[i][j].Children,dimensionName,byTempValue)}this.current.Columns[0]=ungrouped.concat(this.current.Columns[0])}}},{key:"groupCurrentBy",value:function(dimensionName,nGroups){var _this3=this,nCols=this.current.Columns.length,allSeries=this.createFlatSeriesList(this.current);this.orderListBy(allSeries,dimensionName);for(var div=Math.floor(nGroups/nCols),rem=nGroups%nCols,colGroupCounts=[],i=0;rem>i;++i)colGroupCounts.push(div+1);for(var i=0;nCols-rem>i;++i)colGroupCounts.push(div);this.current.Columns=[];for(var i=0;nCols>i;++i)this.current.Columns.push([]);for(var currentColumn=0,currentGroup=0,currentValue=null,foundUndefined=!1,currentGroupObj=_Object$assign({Children:[],Key:IdBroker.getUniqueId()},this.newGroupTemplate),i=0;i<allSeries.length;++i)dimensionName in allSeries[i].IdentifiedBy_lvs||foundUndefined?foundUndefined||currentValue!==allSeries[i].IdentifiedBy_lvs[dimensionName]&&(currentValue=allSeries[i].IdentifiedBy_lvs[dimensionName],currentGroup+=1,currentGroupObj.Children.length>0&&(currentGroupObj.Name=currentGroupObj.Children[0].IdentifiedBy_lvs[dimensionName],null!=this.current.SetSpec&&(currentGroupObj.SetSpec=_Object$assign(_Object$create(null),this.current.SetSpec),currentGroupObj.SetSpec[dimensionName]=currentGroupObj.Name),this.current.Columns[currentColumn].push(currentGroupObj)),currentGroupObj=_Object$assign({Children:[],Key:IdBroker.getUniqueId()},this.newGroupTemplate)):(foundUndefined=!0,currentGroup+=1,currentGroupObj.Children.length>0&&(currentGroupObj.Name=currentGroupObj.Children[0].IdentifiedBy_lvs[dimensionName],null!=this.current.SetSpec&&(currentGroupObj.SetSpec=_Object$assign(_Object$create(null),this.current.SetSpec),currentGroupObj.SetSpec[dimensionName]=currentGroupObj.Name),this.current.Columns[currentColumn].push(currentGroupObj)),currentGroupObj=_Object$assign({Children:[],Key:IdBroker.getUniqueId()},this.newGroupTemplate)),currentGroup>colGroupCounts[currentColumn]&&(currentColumn+=1,currentGroup=1),currentGroupObj.Children.push(allSeries[i]);currentGroupObj.Children.length>0&&(currentGroupObj.Name=currentGroupObj.Children[0].IdentifiedBy_lvs[dimensionName],currentGroupObj.Name?null!=this.current.SetSpec&&(currentGroupObj.SetSpec=_Object$assign(_Object$create(null),this.current.SetSpec),currentGroupObj.SetSpec[dimensionName]=currentGroupObj.Name):currentGroupObj.Name="N/A",this.current.Columns[currentColumn].push(currentGroupObj));for(var i=0;i<this.current.Columns.length;++i)for(var _loop=function(j){for(var numSeries=_this3.current.Columns[i][j].Children.length,dimInfo=_this3.computeDimensionInfo(_this3.current.Columns[i][j]),labelValueCountProps=_this3.dimensionInfoToValueCountProps(dimInfo,numSeries),labelValueAverageLengths=_this3.dimensionInfoToAverageLengths(dimInfo),labelOrderMeasures=_this3.computeOrderMeasures(labelValueCountProps,labelValueAverageLengths),invariantLabels=_this3.calculateInvariantLabels(_this3.current.Columns[i][j].Children),k=0;k<_this3.current.Columns[i][j].Children.length;++k){var allLabels=_Object$getOwnPropertyNames(_this3.current.Columns[i][j].Children[k].IdentifiedBy_lvs),augLabels=allLabels.map(function(a){return[a,labelOrderMeasures[a]]});augLabels.sort(function(a,b){return a[1]<b[1]?1:a[1]>b[1]?-1:0}),_this3.current.Columns[i][j].Children[k].VisibleLabels=augLabels.map(function(a){return a[0]})}for(var k=0;k<invariantLabels.length;++k)_this3.toggleOrSetLabelVisibility(_this3.current,invariantLabels[k],_this3.current.Columns[i][j].Key,!1)},j=0;j<this.current.Columns[i].length;++j)_loop(j)}},{key:"computeOrderMeasures",value:function(labelValueCountProps,labelValueAverageLengths){for(var labels=_Object$getOwnPropertyNames(labelValueCountProps),labelMeasure=_Object$create(null),i=0;i<labels.length;++i){var countProp=labelValueCountProps[labels[i]],avLen=labelValueAverageLengths[labels[i]],avLenMeasure=6>=avLen?1:avLen>25?0:(25-avLen)/19;labelMeasure[labels[i]]=avLenMeasure+countProp}return labelMeasure}},{key:"dimensionInfoToValueCountProps",value:function(dimInfo,numSeries){for(var keys=_Object$getOwnPropertyNames(dimInfo),result=_Object$create(null),i=0;i<keys.length;++i)result[keys[i]]=dimInfo[keys[i]][0]/numSeries;return result}},{key:"dimensionInfoToAverageLengths",value:function(dimInfo){for(var keys=_Object$getOwnPropertyNames(dimInfo),result=_Object$create(null),i=0;i<keys.length;++i)result[keys[i]]=dimInfo[keys[i]][3];return result}},{key:"computeDimensionInfo",value:function(lineSpec){if(null==lineSpec&&!this.current)return{};if(null!=lineSpec&&"Group"!==lineSpec.ElementType)throw new Error("linespec must be group!");var propertyValuesTotalLength=_Object$create(null),propertyValueCounts=_Object$create(null),propertyValueFoundVisible=_Object$create(null),propertyValueFoundHidden=_Object$create(null),considerSeries=function(theSeries){for(var lvs=theSeries.IdentifiedBy_lvs,sProps=_Object$getOwnPropertyNames(lvs),visibleLabels=theSeries.VisibleLabels,k=0;k<sProps.length;++k){var prop=sProps[k];propertyValueCounts[prop]||(propertyValueCounts[prop]=_Object$create(null),propertyValueFoundVisible[prop]=!1,propertyValueFoundHidden[prop]=!1,propertyValuesTotalLength[prop]=0),propertyValueCounts[prop][lvs[prop]]?propertyValueCounts[prop][lvs[prop]]+=1:(propertyValueCounts[prop][lvs[prop]]=1,propertyValuesTotalLength[prop]+=lvs[prop].length);var isVisible=GeneralUtils.ArrayContains(visibleLabels,prop);isVisible&&(propertyValueFoundVisible[prop]=!0),isVisible||(propertyValueFoundHidden[prop]=!0)}}.bind(this);if(lineSpec)for(var k=0;k<lineSpec.Children.length;++k)considerSeries(lineSpec.Children[k]);else for(var i=0;i<this.current.Columns.length;++i)for(var j=0;j<this.current.Columns[i].length;++j)if("Group"===this.current.Columns[i][j].ElementType)for(var k=0;k<this.current.Columns[i][j].Children.length;++k)considerSeries(this.current.Columns[i][j].Children[k]);else considerSeries(this.current.Columns[i][j]);for(var allLabelNames=_Object$getOwnPropertyNames(propertyValueCounts),propertyUndefinedExistance=_Object$create(null),k=0;k<allLabelNames.length;++k){var foundUndefined=!1;if(null==lineSpec)for(var i=0;i<this.current.Columns.length;++i){for(var j=0;j<this.current.Columns[i].length;++j)if("Series"===this.current.Columns[i][j].ElementType){var s=this.current.Columns[i][j].IdentifiedBy_lvs;if(!(allLabelNames[k]in s)){foundUndefined=!0;break}}else for(var l=0;l<this.current.Columns[i][j].Children.length;++l){var s=this.current.Columns[i][j].Children[l].IdentifiedBy_lvs;if(!(allLabelNames[k]in s)){foundUndefined=!0;break}}if(foundUndefined)break}else for(var i=0;i<lineSpec.Children.length;++i){if("Series"!==lineSpec.Children[i].ElementType)throw new Error("unexpected ElementType: "+lineSpec[k].ElementType);var s=lineSpec.Children[i].IdentifiedBy_lvs;if(!(allLabelNames[k]in s)){foundUndefined=!0;break}}propertyUndefinedExistance[allLabelNames[k]]=foundUndefined}for(var ret=_Object$create(null),i=0;i<allLabelNames.length;++i)ret[allLabelNames[i]]=[_Object$getOwnPropertyNames(propertyValueCounts[allLabelNames[i]]).length,propertyUndefinedExistance[allLabelNames[i]],propertyValueFoundHidden[allLabelNames[i]]&&propertyValueFoundVisible[allLabelNames[i]]?"p":propertyValueFoundHidden[allLabelNames[i]]?"n":"y",propertyValuesTotalLength[allLabelNames[i]]/_Object$getOwnPropertyNames(propertyValueCounts[allLabelNames[i]]).length];return ret}},{key:"expandSpecific",value:function(series,column,row){var setSpec=_Object$assign(_Object$create(null),series.IdentifiedBy_lvs),pageSetSpecLabels=[];this.current.SetSpec&&(pageSetSpecLabels=_Object$getOwnPropertyNames(this.current.SetSpec)),pageSetSpecLabels.forEach(function(l){return delete setSpec[l]});var groupHeaderLabels=_Object$getOwnPropertyNames(setSpec),ss=series.IdentifiedBy_lvs,func=series.QuerySpec.data.func,funcParam=series.QuerySpec.data.funcParam;column.splice(row,1),setTimeout(function(){var message="retrieving series set...";AppActions.addNetworkStatus(message),Store_Source.getActiveAdapter().getSeriesSet(ss,function(d){AppActions.removeNetworkStatus(message);var newGroupObj=_Object$assign({Children:[],Key:IdBroker.getUniqueId()},this.newGroupTemplate);if(newGroupObj.Name="Unlabelled Group",newGroupObj.SetSpec=_Object$assign(_Object$create(null),ss),groupHeaderLabels.length>0){newGroupObj.Name="";for(var k=0;k<groupHeaderLabels.length;++k)newGroupObj.Name+=setSpec[groupHeaderLabels[k]]+" • ";newGroupObj.Name=newGroupObj.Name.substr(0,newGroupObj.Name.length-3)}for(var k=0;k<d.length;++k){var nSeries=_Object$create(null);_Object$assign(nSeries,this.defaultSeriesProperties),nSeries.IdentifiedBy_lvs=d[k],nSeries.VisibleLabels=_Object$getOwnPropertyNames(d[k]),nSeries.Key=IdBroker.getUniqueId(),nSeries.IdentifiedBy_string=LabelSpec.serialize(d[k]),nSeries.QuerySpec=new QuerySpec(null,nSeries.IdentifiedBy_lvs,func,funcParam,null),newGroupObj.Children.push(nSeries)}column.splice(row,0,newGroupObj),AppActions.refreshOverlayData("__all__")}.bind(this))}.bind(this),0)}},{key:"expandAggregated",value:function(key){for(var i=0;i<this.current.Columns.length;++i)for(var j=this.current.Columns[i].length-1;j>=0;--j)if(null==key)"Series"===this.current.Columns[i][j].ElementType&&this.current.Columns[i][j].QuerySpec.isAggregation()&&this.expandSpecific(this.current.Columns[i][j],this.current.Columns[i],j);else if(this.current.Columns[i][j].Key==key){this.expandSpecific(this.current.Columns[i][j],this.current.Columns[i],j);break}}},{key:"canAggregateGroup",value:function(lineSpec){if(lineSpec.SetSpec){var els=_Object$getOwnPropertyNames(lineSpec.SetSpec);if(els.length>0&&-1!=this.calculateGroupFunction(lineSpec)){var paramValue=this.calculateGroupFunctionParamValue(lineSpec);if(null!=paramValue)return!0}}return!1}},{key:"aggregateGroup",value:function(key,aggregateFn,fn,fnParam){for(var aggregateSpecific=function(series,column,row){if("Group"===series.ElementType&&series.SetSpec&&0!=_Object$getOwnPropertyNames(series.SetSpec).length){var identifiedBy_lvs=_Object$assign({},series.SetSpec),newSeries=_Object$create(null);newSeries=_Object$assign(newSeries,this.defaultSeriesProperties),newSeries.Height=4,newSeries.PosPalette=4,newSeries.Key=IdBroker.getUniqueId(),newSeries.IdentifiedBy_lvs=identifiedBy_lvs,
newSeries.IdentifiedBy_string=LabelSpec.serialize(identifiedBy_lvs),newSeries.VisibleLabels=_Object$getOwnPropertyNames(identifiedBy_lvs),newSeries.QuerySpec=new QuerySpec(null,identifiedBy_lvs,fn,fnParam,aggregateFn),column.splice(row,1,newSeries)}}.bind(this),i=0;i<this.current.Columns.length;++i)for(var j=this.current.Columns[i].length-1;j>=0;--j){var series=this.current.Columns[i][j];if(null==key)"Group"===series.ElementType&&this.canAggregateGroup(series)&&aggregateSpecific(series,this.current.Columns[i],j);else if(series.Key==key){aggregateSpecific(series,this.current.Columns[i],j);break}}}},{key:"calculateInvariantLabels",value:function(list){if(0==list.length)return{};for(var computedInvariant=_Object$assign({},list[0].IdentifiedBy_lvs),i=1;i<list.length;++i)for(var lvs=_Object$getOwnPropertyNames(list[i].IdentifiedBy_lvs),j=0;j<lvs.length;++j)computedInvariant[lvs[j]]&&computedInvariant[lvs[j]]!==list[i].IdentifiedBy_lvs[lvs[j]]&&delete computedInvariant[lvs[j]];return _Object$getOwnPropertyNames(computedInvariant)}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_Pages}(EventEmitter),_export("default",new Store_Pages)}}}),System.register("dvt/components/Timeframe.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","dvt/AppActions","dvt/components/TimeframeSummary.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/TimeframeEditable.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/TimeframeCommon.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/TimeframePresetSelect.jsx!github:floatdrop/plugin-jsx@1.1.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,AppActions,TimeframeSummary,TimeframeEditable,TimeframeCommon,TimeframePresetSelect,Timeframe;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtComponentsTimeframeSummaryJsxGithubFloatdropPluginJsx110){TimeframeSummary=_dvtComponentsTimeframeSummaryJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsTimeframeEditableJsxGithubFloatdropPluginJsx110){TimeframeEditable=_dvtComponentsTimeframeEditableJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsTimeframeCommonJsxGithubFloatdropPluginJsx110){TimeframeCommon=_dvtComponentsTimeframeCommonJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsTimeframePresetSelectJsxGithubFloatdropPluginJsx110){TimeframePresetSelect=_dvtComponentsTimeframePresetSelectJsxGithubFloatdropPluginJsx110["default"]}],execute:function(){"use strict";Timeframe=function(_React$Component){function Timeframe(props){_classCallCheck(this,Timeframe),_get(Object.getPrototypeOf(Timeframe.prototype),"constructor",this).call(this,props)}return _inherits(Timeframe,_React$Component),_createClass(Timeframe,[{key:"render",value:function(){return React.createElement("div",null,React.createElement(TimeframeCommon,{timeframe:this.props.timeframe}),"Editable"==this.props.timeframe.displayType?React.createElement(TimeframeEditable,{timeframe:this.props.timeframe,editOrder:this.props.editOrder}):React.createElement(TimeframeSummary,{timeframe:this.props.timeframe}))}}]),Timeframe}(React.Component),_export("default",Timeframe)}}}),System.register("dvt/stores/Store_HorizonLayout",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","github:jspm/nodelibs-events@0.1.1","dvt/AppDispatcher","dvt/stores/Store_Layout","dvt/stores/Store_Pages"],function(_export){var _get,_inherits,_createClass,_classCallCheck,EventEmitter,AppDispatcher,Store_Layout,Store_Pages,Store_HorizonLayout;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_dvtStoresStore_Layout){Store_Layout=_dvtStoresStore_Layout["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]}],execute:function(){"use strict";Store_HorizonLayout=function(_EventEmitter){function Store_HorizonLayout(){_classCallCheck(this,Store_HorizonLayout),_get(Object.getPrototypeOf(Store_HorizonLayout.prototype),"constructor",this).call(this),this._columnSpacing=12,this.dispatchToken=this.registerDispatcherCallback()}return _inherits(Store_HorizonLayout,_EventEmitter),_createClass(Store_HorizonLayout,[{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(payload.action){default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"numberOfColumns",value:function(){return null==Store_Pages.current||null==Store_Pages.current.Columns?1:Store_Pages.current.Columns.length}},{key:"getColumnSpecs",value:function(){for(var totalWidth=Store_Layout._layout.horizon_dimensions.innerWidth-(this.numberOfColumns()-1)*this._columnSpacing,widthPerColumn=totalWidth/this.numberOfColumns(),currentX=0,result=[],i=0;i<this.numberOfColumns();++i)result.push([Math.ceil(currentX),Math.ceil(currentX+widthPerColumn)]),currentX+=this._columnSpacing+widthPerColumn;return result}},{key:"getColumnWidth",value:function(){var totalWidth=Store_Layout._layout.horizon_dimensions.innerWidth-(this.numberOfColumns()-1)*this._columnSpacing,widthPerColumn=totalWidth/this.numberOfColumns();return Math.ceil(widthPerColumn)}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_HorizonLayout}(EventEmitter),_export("default",new Store_HorizonLayout)}}}),System.register("dvt/components/MainPage.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:react@0.14.0","npm:react-dom@0.14.0","dvt/DragHandler","dvt/AppActions","dvt/stores/Store_Layout","dvt/stores/Store_Source","dvt/stores/Store_Interactions","dvt/components/Timeframe.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/Axes.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/Horizon.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/LicenseInformation.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/SettingsModalContent.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/SettingsModalButton.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/DeleteConfirmModal.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/GlobalLineSettings.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/DataVsTimeTitle.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/NetworkStatus.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/HorizonConnectionError.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/UserButton.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/Sidebar.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/components/IconBar.jsx!github:floatdrop/plugin-jsx@1.1.0"],function(_export){var _get,_inherits,_createClass,_classCallCheck,React,ReactDOM,DragHandler,AppActions,Store_Layout,Store_Source,Store_Interactions,Timeframe,Axes,Horizon,LicenseInformation,SettingsModalContent,SettingsModalButton,DeleteConfirmModal,GlobalLineSettings,DataVsTimeTitle,NetworkStatus,HorizonConnectionError,UserButton,Sidebar,IconBar,MainPage;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtDragHandler){DragHandler=_dvtDragHandler["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_Layout){Store_Layout=_dvtStoresStore_Layout["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtComponentsTimeframeJsxGithubFloatdropPluginJsx110){Timeframe=_dvtComponentsTimeframeJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsAxesJsxGithubFloatdropPluginJsx110){Axes=_dvtComponentsAxesJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsHorizonJsxGithubFloatdropPluginJsx110){Horizon=_dvtComponentsHorizonJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsLicenseInformationJsxGithubFloatdropPluginJsx110){LicenseInformation=_dvtComponentsLicenseInformationJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsSettingsModalContentJsxGithubFloatdropPluginJsx110){SettingsModalContent=_dvtComponentsSettingsModalContentJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsSettingsModalButtonJsxGithubFloatdropPluginJsx110){SettingsModalButton=_dvtComponentsSettingsModalButtonJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsDeleteConfirmModalJsxGithubFloatdropPluginJsx110){DeleteConfirmModal=_dvtComponentsDeleteConfirmModalJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsGlobalLineSettingsJsxGithubFloatdropPluginJsx110){GlobalLineSettings=_dvtComponentsGlobalLineSettingsJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsDataVsTimeTitleJsxGithubFloatdropPluginJsx110){DataVsTimeTitle=_dvtComponentsDataVsTimeTitleJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsNetworkStatusJsxGithubFloatdropPluginJsx110){NetworkStatus=_dvtComponentsNetworkStatusJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsHorizonConnectionErrorJsxGithubFloatdropPluginJsx110){HorizonConnectionError=_dvtComponentsHorizonConnectionErrorJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsUserButtonJsxGithubFloatdropPluginJsx110){UserButton=_dvtComponentsUserButtonJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsSidebarJsxGithubFloatdropPluginJsx110){Sidebar=_dvtComponentsSidebarJsxGithubFloatdropPluginJsx110["default"]},function(_dvtComponentsIconBarJsxGithubFloatdropPluginJsx110){IconBar=_dvtComponentsIconBarJsxGithubFloatdropPluginJsx110["default"]}],execute:function(){"use strict";MainPage=function(_React$Component){function MainPage(props){_classCallCheck(this,MainPage),_get(Object.getPrototypeOf(MainPage.prototype),"constructor",this).call(this,props)}return _inherits(MainPage,_React$Component),_createClass(MainPage,[{key:"componentDidMount",value:function(){var extraMove=void 0,dragCallback=function(dx,dy){extraMove>0&&0>dx&&(extraMove+=dx,0>extraMove?(dx=extraMove,extraMove=0):dx=0),0>extraMove&&dx>0&&(extraMove+=dx,extraMove>0?(dx=extraMove,extraMove=0):dx=0);var cWidth=this.props.allstate.layout.sidebarPaddedWidth,nWidth=cWidth+dx;242>nWidth&&(extraMove-=242-nWidth,nWidth=242),nWidth>680&&(extraMove+=nWidth-680,nWidth=680),AppActions.setSidebarPaddedWidth(nWidth)},dragStartedCallback=function(e){extraMove=0};DragHandler(this.refs.resizehandlearea,null,null,dragStartedCallback.bind(this),dragCallback.bind(this),function(){},function(){return"ewdrag"})}},{key:"noSidebarHandler",value:function(){Store_Interactions.increment("hideSidebar"),AppActions.hideSidebar()}},{key:"yesSidebarHandler",value:function(){AppActions.showSidebar()}},{key:"onRuleLocationChanged",value:function(location){this.refs.theaxes.updateForNewRuleLocation(location)}},{key:"toggleTimeframeVisibleHandler",value:function(){this.props.allstate.layout.timeframeHidden||Store_Interactions.increment("hideHeader"),AppActions.toggleTimeframeVisible()}},{key:"render",value:function(){var _this=this,hDim=this.props.allstate.layout.horizon_dimensions,upDownShowHideClass=this.props.allstate.layout.timeframeHidden?"glyphicon glyphicon-chevron-down":"glyphicon glyphicon-chevron-up",movingBoxSpec="Group"===this.props.allstate.layout.movingElementType?[0,3,6]:[0],horizonInstance=this.refs.horizonInstance;return React.createElement("div",{className:"noselect "+this.props.allstate.layout.dragClass,style:{position:"relative"}},React.createElement("div",{id:"left",style:{display:this.props.allstate.layout.sidebarHidden?"none":"block",zIndex:"3000",backgroundColor:"#fcfcfc",position:"fixed",width:this.props.allstate.layout.sidebarPaddedWidth+"px",height:"100%",top:"0",left:"0"}},React.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",bottom:"0px",right:"28px",overflow:"hidden"}},React.createElement(DataVsTimeTitle,{sidebarPaddedWidth:this.props.allstate.layout.sidebarPaddedWidth}),React.createElement("div",{style:{position:"absolute",left:"12px",top:"79px",height:"26px",right:"0px"}},React.createElement("div",{style:{"float":"right"}},React.createElement(IconBar,{allstate:this.props.allstate}))),React.createElement(Sidebar,{allstate:this.props.allstate})),React.createElement("div",{style:{height:"100%",position:"absolute",width:Store_Layout.resizeHandleWidth+"px",right:"0px",top:"0px",bottom:"0px"}},React.createElement("div",{ref:"resizehandlearea",style:{position:"absolute",top:"0",bottom:"0",right:"0",width:Store_Layout.resizeHandleWidth+"px",cursor:"col-resize",backgroundColor:"#fff",borderLeft:"solid 1px #eee"}},React.createElement("div",{style:{position:"absolute",bottom:"10px",width:"20px",right:"0px"}},React.createElement("svg",{width:"20",height:"30"},React.createElement("circle",{r:"15",cx:"0",cy:"15",fill:"#fcfcfc",stroke:"#eee"}))),React.createElement("div",{style:{position:"absolute",bottom:"21px",width:"15px",right:"5px",cursor:"pointer"},onClick:this.noSidebarHandler.bind(this)},React.createElement("span",{className:"glyphicon glyphicon-chevron-left",style:{color:"#444",fontSize:"12px"}}))))),React.createElement("div",{id:"leftWhenHidden",style:{display:this.props.allstate.layout.sidebarHidden?"block":"none",position:"fixed",width:hDim.left+"px",height:"100%",top:"0",left:"0",zIndex:"3000"}},React.createElement("svg",{width:"20",height:"30",style:{position:"absolute",bottom:"10px",width:"20px",left:"0px"}},React.createElement("circle",{r:"15",cx:"0",cy:"15",fill:"#f8f8f8",stroke:"#ddd"})),React.createElement("div",{style:{position:"absolute",bottom:"15px",width:hDim.left+"px",cursor:"pointer"},onClick:this.yesSidebarHandler.bind(this)},React.createElement("span",{className:"glyphicon glyphicon-chevron-right",style:{marginLeft:"0",fontSize:"12px"}}))),React.createElement("div",{id:"head",style:{position:"fixed",top:"0",left:hDim.left+"px",right:"4px",height:this.props.allstate.layout.header_dimensions.height+"px",zIndex:"2000"}},React.createElement("div",null,React.createElement("div",{style:{position:"absolute",top:"-10px",width:"30px",right:"12px",zIndex:"3005"}},React.createElement("div",null,React.createElement("svg",{width:"30",height:"40"},React.createElement("circle",{r:"15",cx:"15",cy:"10",fill:"#fcfcfc",stroke:"#eee"}))),React.createElement("div",{style:{position:"absolute",top:"6px",width:"15px",right:"5px",cursor:"pointer"},onClick:this.toggleTimeframeVisibleHandler.bind(this)},React.createElement("span",{className:upDownShowHideClass,style:{color:"#444",fontSize:"12px"}}))),this.props.allstate.layout.timeframeHidden?null:React.createElement(Timeframe,{timeframe:this.props.allstate.timeframe,editOrder:this.props.allstate.editOrder})),React.createElement("div",{style:{"float":"right",marginRight:"12px",marginTop:"-28px"}},React.createElement(SettingsModalButton,null),React.createElement(UserButton,null))),React.createElement("div",{id:"body",style:{position:"fixed",left:hDim.left+"px",top:hDim.top+"px",width:hDim.width+"px",height:hDim.height+"px"}},React.createElement(Axes,{ref:"theaxes",timeframe:this.props.allstate.timeframe,columnSpecs:this.props.allstate.horizonLayout.columnSpecs,ruleEnabled:this.props.allstate.layout.ruleEnabled}),React.createElement("div",{style:{position:"fixed",left:hDim.left+"px",top:hDim.top+31+"px",width:hDim.width+"px",height:hDim.height-31+"px"}},this.props.allstate.layout.summaryLoadError?React.createElement(HorizonConnectionError,null):React.createElement(Horizon,{ref:"horizonInstance",width:hDim.width,height:hDim.height,allstate:this.props.allstate,ruleLocationChangeCallback:this.onRuleLocationChanged.bind(this)})),React.createElement("div",{style:{position:"fixed",left:hDim.left+"px",top:hDim.top+"px",width:"0px",height:"31px"}},React.createElement(GlobalLineSettings,{horizonInstance:horizonInstance,popupVisible:this.props.allstate.layout.globalLineSettingsVisible,allstate:this.props.allstate}))),null!=this.props.allstate.networkStatus&&this.props.allstate.networkStatus.length>0?React.createElement("div",{style:{position:"fixed",left:this.props.allstate.layout.sidebarPaddedWidth+"px",right:"0px",bottom:"5px",height:"60px",zIndex:"3001"}},React.createElement(NetworkStatus,{status:this.props.allstate.networkStatus})):null,this.props.allstate.layout.inDrag&&this.props.allstate.layout.dragLocation[0]>0?movingBoxSpec.map(function(off){return React.createElement("div",{key:off,style:{position:"fixed",pointerEvents:"none",left:_this.props.allstate.layout.dragLocation[0]+off+"px",top:_this.props.allstate.layout.dragLocation[1]+off+"px",backgroundColor:"#eee",borderRadius:"3px",border:"solid 1px #888",zIndex:"6000",width:"60px",height:"20px"}})}):null,React.createElement(SettingsModalContent,{visible:this.props.allstate.layout.showGlobalSettings,visibleTab:this.props.allstate.layout.settingsVisibleTab,profiles:this.props.allstate.source.profiles,activeProfileKey:this.props.allstate.source.activeProfileKey,current:this.props.allstate.pages.current}),React.createElement(LicenseInformation,{visible:this.props.allstate.layout.showLicenseInformation}),React.createElement(DeleteConfirmModal,{visible:this.props.allstate.layout.showConfirmDelete,current:this.props.allstate.pages.current,name:this.props.allstate.layout.confirmDeletePageName}))}}]),MainPage}(React.Component),_export("default",MainPage)}}}),System.register("dvt/stores/Store_Timeframe",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","dvt/AppDispatcher","github:jspm/nodelibs-events@0.1.1","github:mbostock/d3@3.5.6","dvt/AppActions","dvt/stores/Store_EditOrder","dvt/stores/Store_HorizonLayout","dvt/utils/TimeframeUtils"],function(_export){var _get,_inherits,_createClass,_classCallCheck,AppDispatcher,EventEmitter,d3,AppActions,Store_EditOrder,Store_HorizonLayout,TimeframeUtils,Store_Timeframe;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_githubJspmNodelibsEvents011){EventEmitter=_githubJspmNodelibsEvents011["default"]},function(_githubMbostockD3356){d3=_githubMbostockD3356["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_EditOrder){Store_EditOrder=_dvtStoresStore_EditOrder["default"]},function(_dvtStoresStore_HorizonLayout){Store_HorizonLayout=_dvtStoresStore_HorizonLayout["default"]},function(_dvtUtilsTimeframeUtils){TimeframeUtils=_dvtUtilsTimeframeUtils["default"]}],execute:function(){"use strict";Store_Timeframe=function(_EventEmitter){function Store_Timeframe(){_classCallCheck(this,Store_Timeframe),_get(Object.getPrototypeOf(Store_Timeframe.prototype),"constructor",this).call(this),this._timeframe=this.getDefaultState(),this.dispatchToken=this.registerDispatcherCallback(),this.dbgfmt=d3.time.format("%Y-%m-%d %H:%M:%S"),this.oneHour_ms=36e5,this.oneDay_ms=24*this.oneHour_ms}return _inherits(Store_Timeframe,_EventEmitter),_createClass(Store_Timeframe,[{key:"registerDispatcherCallback",value:function(){return AppDispatcher.register(function(payload){switch(payload.action){case"doNothing":break;case"timeframe:setFavorite":this.setFavorite(payload.data);break;case"timeframe:setEndDate":this.setEndDate(payload.data,!1);break;case"timeframe:setEndDateConstantDuration":this.setEndDate(payload.data,!0);break;case"timeframe:setStartDate":this.setStartDate(payload.data);break;case"timeframe:setAll":this._timeframe=payload.data;break;case"timeframe:toggleMode":this.toggleMode();break;case"timeframe:changeMode":payload.data!==this._timeframe.mode&&this.toggleMode();break;case"timeframe:setDurationType":payload.data!==this._timeframe.durationType&&this.toggleDurationType();break;case"timeframe:setDuration":this.setDuration(payload.data);break;case"timeframe:setSkip":this._timeframe.skip_ms=payload.data;break;case"timeframe:skip":this.skip(payload.data);break;case"timeframe:shift":this.shift(payload.data);break;case"timeframe:hasProblem":this.setHasProblem(payload.data);break;case"timeframe:zoomIn":this._timeframe.duration_ms=this._timeframe.duration_ms/2,"Pixel Size"==this._timeframe.durationType?this._timeframe.duration_ms<100&&(this._timeframe.duration_ms=100):this._timeframe.duration_ms<12e4&&(this._timeframe.duration_ms=12e4);break;case"timeframe:zoomOut":this._timeframe.duration_ms=2*this._timeframe.duration_ms,"Pixel Size"==this._timeframe.durationType?this._timeframe.duration_ms>this.oneHour_ms&&(this._timeframe.duration_ms=this.oneHour_ms):this._timeframe.duration_ms>7*this.oneDay_ms*8&&(this._timeframe.duration_ms=7*this.oneDay_ms*8);break;case"timeframe:setDisplayType":this._timeframe.displayType=payload.data;break;default:return!0}return this.emitChange(),!0}.bind(this))}},{key:"setHasProblem",value:function(hasProblem){this._timeframe.hasProblem=hasProblem,hasProblem&&setTimeout(function(){AppActions.setHasProblem(!1)},100)}},{key:"nowTestDate",value:function(){return this.displayCurrentEndTime()-1e3}},{key:"shift",value:function(pixels){var delta=this.getResolution_ms()*pixels,newEnd_ms=this._timeframe.endDate_ms+delta,testDate_ms=this.nowTestDate();newEnd_ms>testDate_ms&&this._timeframe.endDate_ms<testDate_ms?(this._timeframe.endDate_ms=this.displayCurrentEndTime(),setTimeout(function(){AppActions.changeMode("Real Time")},0)):(this.setEndDate(newEnd_ms,!0),this._timeframe.mode="Historical")}},{key:"isLeapYear",value:function(year){return year%4!=0?!1:year%400==0?!0:year%100==0?!1:!0}},{key:"setFavorite",value:function(favoriteName){var now=new Date(Date.now()),year=now.getFullYear(),dom=now.getDate(),month=now.getMonth(),dayStart=new Date(year,month,dom),currentYear=now.getFullYear(),yearStart=new Date(currentYear,0,1).getTime();switch(favoriteName){case"P1s":this._timeframe.skip_ms=6e5,this._timeframe.duration_ms=1e3,this._timeframe.durationType="Pixel Size",this._timeframe.mode="Real Time";break;case"P5s":this._timeframe.skip_ms=6e5,this._timeframe.duration_ms=5e3,this._timeframe.durationType="Pixel Size",this._timeframe.mode="Real Time";break;case"P30s":this._timeframe.skip_ms=36e5,this._timeframe.duration_ms=3e4,this._timeframe.durationType="Pixel Size",this._timeframe.mode="Real Time";break;case"P1m":this._timeframe.skip_ms=36e5,this._timeframe.duration_ms=6e4,this._timeframe.durationType="Pixel Size",this._timeframe.mode="Real Time";break;case"W1h":this._timeframe.skip_ms=3e5,this._timeframe.duration_ms=36e5,this._timeframe.durationType="Window Size",this._timeframe.mode="Real Time";break;case"W6h":this._timeframe.skip_ms=36e5,this._timeframe.duration_ms=216e5,this._timeframe.durationType="Window Size",this._timeframe.mode="Real Time";break;case"W12h":this._timeframe.skip_ms=36e5,this._timeframe.duration_ms=432e5,this._timeframe.durationType="Window Size",this._timeframe.mode="Real Time";break;case"W24h":this._timeframe.skip_ms=36e5,this._timeframe.duration_ms=864e5,this._timeframe.durationType="Window Size",this._timeframe.mode="Real Time";break;case"W7d":this._timeframe.skip_ms=864e5,this._timeframe.duration_ms=6048e5,this._timeframe.durationType="Window Size",this._timeframe.mode="Real Time";break;case"W28d":this._timeframe.skip_ms=864e5,this._timeframe.duration_ms=24192e5,this._timeframe.durationType="Window Size",this._timeframe.mode="Real Time";break;case"W6M":this._timeframe.skip_ms=24192e5,this._timeframe.duration_ms=15552e6,this._timeframe.durationType="Window Size",this._timeframe.mode="Real Time";break;case"Today":this._timeframe.skip_ms=this.oneDay_ms,this._timeframe.durationType="Window Size",this._timeframe.duration_ms=this.oneDay_ms;var end=dayStart.getTime()+this.oneDay_ms;this._timeframe.endDate_ms=end;break;case"Yesterday":this._timeframe.skip_ms=this.oneDay_ms,this._timeframe.durationType="Window Size",this._timeframe.duration_ms=this.oneDay_ms;var end=dayStart.getTime();this._timeframe.endDate_ms=end;break;case"Current Shift":this._timeframe.skip_ms=8*this.oneHour_ms,this._timeframe.durationType="Window Size",this._timeframe.duration_ms=8*this.oneHour_ms;for(var offset=now-dayStart.getTime(),cnt=0;offset>8*this.oneHour_ms;)offset-=8*this.oneHour_ms,cnt+=1;this._timeframe.endDate_ms=dayStart.getTime()+288e5*(cnt+1);break;case"This Week":this._timeframe.skip_ms=7*this.oneDay_ms,this._timeframe.durationType="Window Size",this._timeframe.duration_ms=7*this.oneDay_ms;var dayNumber=dayStart.getDay();this._timeframe.endDate_ms=dayStart.getTime()-dayNumber*this.oneDay_ms+7*this.oneDay_ms;break;case"This Year":this._timeframe.skip_ms=365*this.oneDay_ms,this._timeframe.durationType="Window Size",this._timeframe.duration_ms=(this.isLeapYear(currentYear)?366:355)*this.oneDay_ms,this._timeframe.endDate_ms=yearStart+this._timeframe.duration_ms;break;case"Day Before Yesterday":this._timeframe.skip_ms=this.oneDay_ms,this._timeframe.durationType="Window Size",this._timeframe.duration_ms=this.oneDay_ms;var end=dayStart.getTime()-this.oneDay_ms;this._timeframe.endDate_ms=end;break;case"This Day Last Week":this._timeframe.skip_ms=this.oneDay_ms,this._timeframe.durationType="Window Size",this._timeframe.duration_ms=this.oneDay_ms;var end=dayStart.getTime()+-6*this.oneDay_ms;this._timeframe.endDate_ms=end;break;case"This Month":for(var dayCounts=[31,this.isLeapYear(currentYear)?29:28,31,30,31,30,31,31,30,31,30,31],monthNumber=now.getMonth(),daysToMonthStart=0,i=0;monthNumber>i;++i)daysToMonthStart+=dayCounts[i];var daysInMonth=dayCounts[monthNumber];this._timeframe.skip_ms=7*this.oneDay_ms,this._timeframe.durationType="Window Size",this._timeframe.duration_ms=daysInMonth*this.oneDay_ms,this._timeframe.endDate_ms=yearStart+(daysToMonthStart+daysInMonth)*this.oneDay_ms}}},{key:"skip",value:function(skipType){var newEd_ms;"forward"==skipType?newEd_ms=this._timeframe.endDate_ms+this._timeframe.skip_ms:"backward"==skipType?newEd_ms=this._timeframe.endDate_ms-this._timeframe.skip_ms:"forward_step"==skipType?newEd_ms=this._timeframe.endDate_ms+this.getResolution_ms():"backward_step"==skipType?newEd_ms=this._timeframe.endDate_ms-this.getResolution_ms():console.log("WARNING: unknown skip type: "+skipType);var newSd_ms=newEd_ms-this.getResolution_ms()*Store_HorizonLayout.getColumnWidth(),currentEd=this.displayCurrentEndTime();(currentEd>newSd_ms||-1!=skipType.indexOf("backward"))&&this.setEndDate(newEd_ms,!0)}},{key:"displayCurrentEndTime",value:function(){return Date.now()-this._timeframe.serverLag_ms-this._timeframe.requestLatency_ms}},{key:"setStartDate",value:function(startDate_ms){var toChange=Store_EditOrder.getLastRecentSet("start");if("Pixel Size"==this._timeframe.durationType)if("duration"===toChange){if(startDate_ms>=this._timeframe.endDate_ms)return void this.setHasProblem(!0);this._timeframe.duration_ms=(this._timeframe.endDate_ms-startDate_ms)/Store_HorizonLayout.getColumnWidth()}else this._timeframe.endDate_ms=startDate_ms+this._timeframe.duration_ms*Store_HorizonLayout.getColumnWidth();else if("duration"==toChange){if(startDate_ms>=this._timeframe.endDate_ms)return void this.setHasProblem(!0);this._timeframe.duration_ms=this._timeframe.endDate_ms-startDate_ms}else this._timeframe.endDate_ms=startDate_ms+this._timeframe.duration_ms}},{key:"setEndDate",value:function(endDate_ms,constantDuration){var toChange="start";if(constantDuration||(toChange=Store_EditOrder.getLastRecentSet("end")),"start"==toChange)this._timeframe.endDate_ms=endDate_ms;else{if(this.getStartDate_ms()>=endDate_ms)return void this.setHasProblem(!0);"Pixel Size"==this._timeframe.durationType?(this._timeframe.duration_ms=(endDate_ms-this.getStartDate_ms())/Store_HorizonLayout.getColumnWidth(),this._timeframe.endDate_ms=endDate_ms):(this._timeframe.duration_ms=endDate_ms-this.getStartDate_ms(),this._timeframe.endDate_ms=endDate_ms)}}},{key:"setDuration",value:function(duration){var toChange=Store_EditOrder.getLastRecentSet("duration"),newDuration_ms=this.durationToMs(duration);"start"==toChange?this._timeframe.duration_ms=newDuration_ms:"Pixel Size"==this._timeframe.durationType?(this._timeframe.endDate_ms=this.getStartDate_ms()+newDuration_ms*Store_HorizonLayout.getColumnWidth(),this._timeframe.duration_ms=newDuration_ms):(this._timeframe.endDate_ms=this.getStartDate_ms()+newDuration_ms,this._timeframe.duration_ms=newDuration_ms)}},{key:"toggleMode",value:function(){this._timeframe.mode="Real Time"==this._timeframe.mode?"Historical":"Real Time"}},{key:"toggleDurationType",value:function(){this._timeframe.durationType="Pixel Size"==this._timeframe.durationType?"Window Size":"Pixel Size";var currentDuration_ms=this._timeframe.duration_ms;"Pixel Size"==this._timeframe.durationType?currentDuration_ms/=Store_HorizonLayout.getColumnWidth():currentDuration_ms*=Store_HorizonLayout.getColumnWidth(),this._timeframe.duration_ms=currentDuration_ms}},{key:"msToDateTime",value:function(time_ms){var fmt=d3.time.format("%Y-%m-%d %H:%M:%S");return fmt(new Date(time_ms))}},{key:"dateTimeToMs",value:function(dt){var year_s=dt.substring(0,4),month_s=dt.substring(5,7),day_s=dt.substring(8,10),hour_s=dt.substring(11,13),minute_s=dt.substring(14,16),second_s=dt.substring(17,dt.length),d=new Date(parseInt(year_s),parseInt(month_s)-1,parseInt(day_s),parseInt(hour_s),parseInt(minute_s),parseInt(second_s));return d.getTime()}},{key:"msToDuration",value:function(duration_ms){var duration_s=duration_ms/1e3;if(120>duration_s)return Math.round(1e3*duration_s)/1e3+"s";var duration_m=duration_s/60;
if(60>duration_m)return Math.round(1e3*duration_m)/1e3+"m";var duration_h=duration_m/60;if(36>duration_h)return Math.round(1e3*duration_h)/1e3+"h";var duration_d=duration_h/24;if(28>duration_d)return Math.round(1e3*duration_d)/1e3+"d";var duration_w=duration_d/7;if(53>duration_w)return Math.round(1e3*duration_w)/1e3+"w";var duration_y=duration_d/365;return Math.round(1e3*duration_y)/1e3+"y"}},{key:"durationToMs",value:function(duration){if(!duration||0==duration.length)return 0;for(var i=0;i<duration.length-1;++i){var char=duration[i];if("0"!==char&&"1"!==char&&"2"!==char&&"3"!==char&&"4"!==char&&"5"!==char&&"6"!==char&&"7"!==char&&"8"!==char&&"9"!==char&&("."!==char||i===duration.length-2))return 0}var postfix=duration.substring(duration.length-1,duration.length),num=parseFloat(duration.substring(0,duration.length-1));switch(postfix){case"s":return 1e3*num;case"m":return 1e3*num*60;case"h":return 1e3*num*60*60;case"d":return 1e3*num*60*60*24;case"M":return 1e3*num*60*60*24*28;case"y":return 1e3*num*60*60*24*365;default:return 0}}},{key:"getDefaultState",value:function(){var requestLatency_ms=5e3,serverLag_ms=5e3;return{displayType:"Editable",mode:"Real Time",durationType:"Pixel Size",duration_ms:4e3,serverLag_ms:serverLag_ms,requestLatency_ms:requestLatency_ms,endDate_ms:1e3*Math.floor((Date.now()-serverLag_ms)/1e3),skip_ms:6e5,hasProblem:!1}}},{key:"getTimeframe",value:function(){return this._timeframe}},{key:"getStartDate_ms",value:function(){return TimeframeUtils.calculateStartDate_ms(this._timeframe,Store_HorizonLayout.getColumnWidth())}},{key:"getResolutionOf_ms",value:function(duration_ms){var tf=this._timeframe,ms="Pixel Size"==tf.durationType?duration_ms:Math.round(duration_ms/Store_HorizonLayout.getColumnWidth());return Math.round(ms)}},{key:"getResolution_ms",value:function(){return this.getResolutionOf_ms(this._timeframe.duration_ms)}},{key:"emitChange",value:function(){this.emit("change")}},{key:"addChangeListener",value:function(callback){this.on("change",callback)}},{key:"removeChangeListener",value:function(callback){this.removeListener("change",callback)}}]),Store_Timeframe}(EventEmitter),_export("default",new Store_Timeframe)}}}),System.register("dvt/components/AppController.jsx!github:floatdrop/plugin-jsx@1.1.0",["npm:babel-runtime@5.8.20/helpers/get","npm:babel-runtime@5.8.20/helpers/inherits","npm:babel-runtime@5.8.20/helpers/create-class","npm:babel-runtime@5.8.20/helpers/class-call-check","npm:babel-runtime@5.8.20/core-js/object/assign","npm:react@0.14.0","dvt/AppDispatcher","dvt/AppActions","dvt/stores/Store_NetworkStatus","dvt/stores/Store_Timeframe","dvt/stores/Store_Labels","dvt/stores/Store_Layout","dvt/stores/Store_EditOrder","dvt/stores/Store_Pages","dvt/stores/Store_Source","dvt/stores/Store_Interactions","dvt/stores/Store_SidebarLayout","dvt/stores/Store_HorizonLayout","dvt/components/MainPage.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/ResizeHandler","dvt/utils/WebStorageUtils"],function(_export){var _get,_inherits,_createClass,_classCallCheck,_Object$assign,React,AppDispatcher,AppActions,Store_NetworkStatus,Store_Timeframe,Store_Labels,Store_Layout,Store_EditOrder,Store_Pages,Store_Source,Store_Interactions,Store_SidebarLayout,Store_HorizonLayout,MainPage,ResizeHandler,WebStorageUtils,AppController;return{setters:[function(_npmBabelRuntime5820HelpersGet){_get=_npmBabelRuntime5820HelpersGet["default"]},function(_npmBabelRuntime5820HelpersInherits){_inherits=_npmBabelRuntime5820HelpersInherits["default"]},function(_npmBabelRuntime5820HelpersCreateClass){_createClass=_npmBabelRuntime5820HelpersCreateClass["default"]},function(_npmBabelRuntime5820HelpersClassCallCheck){_classCallCheck=_npmBabelRuntime5820HelpersClassCallCheck["default"]},function(_npmBabelRuntime5820CoreJsObjectAssign){_Object$assign=_npmBabelRuntime5820CoreJsObjectAssign["default"]},function(_npmReact0140){React=_npmReact0140["default"]},function(_dvtAppDispatcher){AppDispatcher=_dvtAppDispatcher["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtStoresStore_NetworkStatus){Store_NetworkStatus=_dvtStoresStore_NetworkStatus["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]},function(_dvtStoresStore_Labels){Store_Labels=_dvtStoresStore_Labels["default"]},function(_dvtStoresStore_Layout){Store_Layout=_dvtStoresStore_Layout["default"]},function(_dvtStoresStore_EditOrder){Store_EditOrder=_dvtStoresStore_EditOrder["default"]},function(_dvtStoresStore_Pages){Store_Pages=_dvtStoresStore_Pages["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]},function(_dvtStoresStore_Interactions){Store_Interactions=_dvtStoresStore_Interactions["default"]},function(_dvtStoresStore_SidebarLayout){Store_SidebarLayout=_dvtStoresStore_SidebarLayout["default"]},function(_dvtStoresStore_HorizonLayout){Store_HorizonLayout=_dvtStoresStore_HorizonLayout["default"]},function(_dvtComponentsMainPageJsxGithubFloatdropPluginJsx110){MainPage=_dvtComponentsMainPageJsxGithubFloatdropPluginJsx110["default"]},function(_dvtResizeHandler){ResizeHandler=_dvtResizeHandler["default"]},function(_dvtUtilsWebStorageUtils){WebStorageUtils=_dvtUtilsWebStorageUtils["default"]}],execute:function(){"use strict";AppController=function(_React$Component){function AppController(props){_classCallCheck(this,AppController),_get(Object.getPrototypeOf(AppController.prototype),"constructor",this).call(this,props),this.state=AppController.getGlobalState()}return _inherits(AppController,_React$Component),_createClass(AppController,[{key:"_onChange",value:function(){this.setState(AppController.getGlobalState())}},{key:"initialSetup",value:function(){WebStorageUtils.testStorageAvailable("localStorage"),Store_Source.activateSource(Store_Source.getActiveProfileKey()),setTimeout(function(){Store_Pages.loadUserPages()},0),Store_Interactions.start(),ResizeHandler.windowMounted()}},{key:"componentDidMount",value:function(){Store_NetworkStatus.addChangeListener(this._onChange.bind(this)),Store_Timeframe.addChangeListener(this._onChange.bind(this)),Store_Labels.addChangeListener(this._onChange.bind(this)),Store_Layout.addChangeListener(this._onChange.bind(this)),Store_EditOrder.addChangeListener(this._onChange.bind(this)),Store_Pages.addChangeListener(this._onChange.bind(this)),Store_Source.addChangeListener(this._onChange.bind(this)),Store_SidebarLayout.addChangeListener(this._onChange.bind(this)),Store_HorizonLayout.addChangeListener(this._onChange.bind(this)),this.initialSetup()}},{key:"componentWillUnmount",value:function(){Store_Timeframe.removeChangeListener(this._onChange),Store_Labels.removeChangeListener(this._onChange),Store_Layout.removeChangeListener(this._onChange),Store_EditOrder.removeChangeListener(this._onChange),Store_Pages.removeChangeListener(this._onChange),Store_NetworkStatus.removeChangeListener(this._onChange),Store_Source.removeChangeListener(this._onChange),Store_SidebarLayout.removeChangeListener(this._onChange),Store_HorizonLayout.removeChangeListener(this._onChange)}},{key:"render",value:function(){return React.createElement(MainPage,{allstate:this.state})}}],[{key:"getGlobalState",value:function(){var tf=Store_Timeframe.getTimeframe();return{timeframe:_Object$assign(tf,{startDate_ms:Store_Timeframe.getStartDate_ms(),resolution_ms:Store_Timeframe.getResolution_ms()}),label:{allLabelNames:Store_Labels.getAllLabelNames(),allLabelChildCounts:Store_Labels.getLabelChildCounts(),filterLabelValuePairs:Store_Labels.getFilterLabelValuePairs(),currentExpandedLabel:Store_Labels.getCurrentExpandedLabel(),expandedLabelValuesAndSeriesCounts:Store_Labels.getCurrentLabelValuesAndSeriesCounts(),counterToRate:Store_Labels.getCounterToRateFlag(),aggregateOnLoad:Store_Labels.getAggregateOnLoadFlag()},layout:Store_Layout.getLayout(),editOrder:Store_EditOrder.getState(),pages:{current_page:Store_Pages.getCurrentPage(),current:Store_Pages.getCurrent(),predefined:Store_Pages.getPredefined(),user:Store_Pages.getUser(),pageJustUpdated:Store_Pages.pageJustUpdated},networkStatus:Store_NetworkStatus.getStatus(),source:{activeAdapter:Store_Source.getActiveAdapter(),profiles:Store_Source.getProfiles(),activeProfileKey:Store_Source.getActiveProfileKey()},horizonLayout:{columnSpecs:Store_HorizonLayout.getColumnSpecs()}}}}]),AppController}(React.Component),_export("default",AppController)}}}),System.register("dvt/horizon",["npm:react@0.14.0","npm:react-dom@0.14.0","dvt/components/AppController.jsx!github:floatdrop/plugin-jsx@1.1.0","dvt/stores/Store_Timeframe","dvt/stores/Store_Labels","dvt/stores/Store_Source","dvt/AppActions","dvt/ResizeHandler","dvt/Timer_RealTime","dvt/Timer_Animate","dvt/components/HorizonOverlayUtils","dvt/global.css!github:systemjs/plugin-css@0.1.18","dvt/datepicker.css!github:systemjs/plugin-css@0.1.18"],function(_export){"use strict";var React,ReactDOM,AppController,Store_Timeframe,Store_Labels,Store_Source,AppActions,ResizeHandler,Timer_RealTime,Timer_Animate,HorizonOverlayUtils;return{setters:[function(_npmReact0140){React=_npmReact0140["default"]},function(_npmReactDom0140){ReactDOM=_npmReactDom0140["default"]},function(_dvtComponentsAppControllerJsxGithubFloatdropPluginJsx110){AppController=_dvtComponentsAppControllerJsxGithubFloatdropPluginJsx110["default"]},function(_dvtStoresStore_Timeframe){Store_Timeframe=_dvtStoresStore_Timeframe["default"]},function(_dvtStoresStore_Labels){Store_Labels=_dvtStoresStore_Labels["default"]},function(_dvtStoresStore_Source){Store_Source=_dvtStoresStore_Source["default"]},function(_dvtAppActions){AppActions=_dvtAppActions["default"]},function(_dvtResizeHandler){ResizeHandler=_dvtResizeHandler["default"]},function(_dvtTimer_RealTime){Timer_RealTime=_dvtTimer_RealTime["default"]},function(_dvtTimer_Animate){Timer_Animate=_dvtTimer_Animate["default"]},function(_dvtComponentsHorizonOverlayUtils){HorizonOverlayUtils=_dvtComponentsHorizonOverlayUtils["default"]},function(_dvtGlobalCssGithubSystemjsPluginCss0118){},function(_dvtDatepickerCssGithubSystemjsPluginCss0118){}],execute:function(){new ResizeHandler,HorizonOverlayUtils.loadIconImage(window.devicePixelRatio||1),ReactDOM.render(React.createElement(AppController,{}),thediv)}}}),System.register("dvt/global.css!github:systemjs/plugin-css@0.1.18",[],!1,function(){}),System.register("dvt/datepicker.css!github:systemjs/plugin-css@0.1.18",[],!1,function(){}),function(c){if("undefined"!=typeof document){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0][a](s),s[i]?s[i].cssText=c:s[a](d.createTextNode(c))}}("::-webkit-scrollbar{width:16px}.linktotext,.linktotext:active,.linktotext:focus,.linktotext:hover,.linktotext:visited{color:#000;text-decoration:none}.titlelink{text-decoration:none}.titlelink:hover{text-decoration:none}.titlelink:visited{text-decoration:none}.rowhover{width:100%;padding:2px}.rowhover:hover{background-color:#eeeef4}.roweven{padding:2px 0;background-color:#fff}.rowodd{padding:2px 0;background-color:#f8f8f8}.axis{font:14px sans-serif}.axis text{-webkit-transition:fill-opacity 250ms linear}.axis line,.axis path{fill:none;stroke:#000;shape-rendering:crispEdges}.axis path{stroke:#fff}.btn-settings{display:inline-block;cursor:pointer;color:#666;width:23px;padding-left:7px;padding-right:21px;padding-top:7px;padding-bottom:8px;border-radius:3px;font-size:14px}.btn-settings:hover{background-color:#ddd}.btn-hover:hover{background-color:#ddd}.lgrad{background:-webkit-linear-gradient(left,rgba(255,255,255,0),rgba(255,255,255,1));background:-o-linear-gradient(right,rgba(255,255,255,0),rgba(255,255,255,1));background:-moz-linear-gradient(right,rgba(255,255,255,0),rgba(255,255,255,1));background:linear-gradient(to right,rgba(255,255,255,0),rgba(255,255,255,1))}.rgrad{background:-webkit-linear-gradient(left,rgba(255,255,255,1),rgba(255,255,255,0));background:-o-linear-gradient(right,rgba(255,255,255,1),rgba(255,255,255,0));background:-moz-linear-gradient(right,rgba(255,255,255,1),rgba(255,255,255,0));background:linear-gradient(to right,rgba(255,255,255,1),rgba(255,255,255,0))}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pointerdrag *{cursor:pointer}.handdrag *{cursor:grabbing;cursor:-webkit-grabbing;cursor:-moz-grabbing}.rowdrag *{cursor:row-resize}.nsdrag *{cursor:move}.toptick:before{content:'';display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,.2);position:absolute;top:-7px;right:7px}.toptick:after{content:'';display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;position:absolute;top:-6px;right:8px}.toptickleft:before{content:'';display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,.2);position:absolute;top:-7px;left:7px}.toptickleft:after{content:'';display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;position:absolute;top:-6px;left:8px}.panelshadow{-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}table{font-size:small}/*!\n * Datetimepicker for Bootstrap v3\n * https://github.com/Eonasdan/bootstrap-datetimepicker/\n */.bootstrap-datetimepicker-widget{top:0;left:0;width:250px;padding:4px;margin-top:1px;z-index:99999!important;border-radius:4px}.bootstrap-datetimepicker-widget.timepicker-sbs{width:600px}.bootstrap-datetimepicker-widget.bottom:before{content:'';display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,.2);position:absolute;top:-7px;left:7px}.bootstrap-datetimepicker-widget.bottom:after{content:'';display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;position:absolute;top:-6px;left:8px}.bootstrap-datetimepicker-widget.top:before{content:'';display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #ccc;border-top-color:rgba(0,0,0,.2);position:absolute;bottom:-7px;left:6px}.bootstrap-datetimepicker-widget.top:after{content:'';display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #fff;position:absolute;bottom:-6px;left:7px}.bootstrap-datetimepicker-widget .dow{width:14.2857%}.bootstrap-datetimepicker-widget.pull-right:before{left:auto;right:6px}.bootstrap-datetimepicker-widget.pull-right:after{left:auto;right:7px}.bootstrap-datetimepicker-widget>ul{list-style-type:none;margin:0}.bootstrap-datetimepicker-widget .timepicker-hour,.bootstrap-datetimepicker-widget .timepicker-minute,.bootstrap-datetimepicker-widget .timepicker-second{width:100%;font-weight:700;font-size:1.2em}.bootstrap-datetimepicker-widget table[data-hour-format=\"12\"] .separator{width:4px;padding:0;margin:0}.bootstrap-datetimepicker-widget .datepicker>div{display:none}.bootstrap-datetimepicker-widget .picker-switch{text-align:center}.bootstrap-datetimepicker-widget table{width:100%;margin:0}.bootstrap-datetimepicker-widget td,.bootstrap-datetimepicker-widget th{text-align:center;width:20px;height:20px;border-radius:4px}.bootstrap-datetimepicker-widget td.day:hover,.bootstrap-datetimepicker-widget td.hour:hover,.bootstrap-datetimepicker-widget td.minute:hover,.bootstrap-datetimepicker-widget td.second:hover{background:#eee;cursor:pointer}.bootstrap-datetimepicker-widget td.new,.bootstrap-datetimepicker-widget td.old{color:#999}.bootstrap-datetimepicker-widget td.today{position:relative}.bootstrap-datetimepicker-widget td.today:before{content:'';display:inline-block;border-left:7px solid transparent;border-bottom:7px solid #428bca;border-top-color:rgba(0,0,0,.2);position:absolute;bottom:4px;right:4px}.bootstrap-datetimepicker-widget td.active,.bootstrap-datetimepicker-widget td.active:hover{background-color:#428bca;color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.bootstrap-datetimepicker-widget td.active.today:before{border-bottom-color:#fff}.bootstrap-datetimepicker-widget td.disabled,.bootstrap-datetimepicker-widget td.disabled:hover{background:0 0;color:#999;cursor:not-allowed}.bootstrap-datetimepicker-widget td span{display:block;width:47px;height:54px;line-height:54px;float:left;margin:2px;cursor:pointer;border-radius:4px}.bootstrap-datetimepicker-widget td span:hover{background:#eee}.bootstrap-datetimepicker-widget td span.active{background-color:#428bca;color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.bootstrap-datetimepicker-widget td span.old{color:#999}.bootstrap-datetimepicker-widget td span.disabled,.bootstrap-datetimepicker-widget td span.disabled:hover{background:0 0;color:#999;cursor:not-allowed}.bootstrap-datetimepicker-widget th.switch{width:145px}.bootstrap-datetimepicker-widget th.next,.bootstrap-datetimepicker-widget th.prev{font-size:21px}.bootstrap-datetimepicker-widget th.disabled,.bootstrap-datetimepicker-widget th.disabled:hover{background:0 0;color:#999;cursor:not-allowed}.bootstrap-datetimepicker-widget thead tr:first-child th{cursor:pointer}.bootstrap-datetimepicker-widget thead tr:first-child th:hover{background:#eee}.input-group.date .input-group-addon span{display:block;cursor:pointer;width:16px;height:16px}.bootstrap-datetimepicker-widget.left-oriented:before{left:auto;right:6px}.bootstrap-datetimepicker-widget.left-oriented:after{left:auto;right:7px}.bootstrap-datetimepicker-widget ul.list-unstyled li div.timepicker div.timepicker-picker table.table-condensed tbody>tr>td{padding:0!important}"),function(){function readGlobalProperty(p,value){for(var pParts=p.split(".");pParts.length;)value=value[pParts.shift()];return value}function iterateGlobals(callback){if(Object.keys)Object.keys(loader.global).forEach(callback);else for(var g in loader.global)hasOwnProperty.call(loader.global,g)&&callback(g)}function forEachGlobal(callback){iterateGlobals(function(globalName){if(-1==indexOf.call(ignoredGlobalProps,globalName)){try{var value=loader.global[globalName]}catch(e){ignoredGlobalProps.push(globalName)}callback(globalName,value)}})}var loader=System;"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf);var globalSnapshot,ignoredGlobalProps=["sessionStorage","localStorage","clipboardData","frames","external"],hasOwnProperty=loader.global.hasOwnProperty,moduleGlobals={};loader.set("@@global-helpers",loader.newModule({prepareGlobal:function(moduleName,deps){for(var i=0;i<deps.length;i++){var moduleGlobal=moduleGlobals[deps[i]];if(moduleGlobal)for(var m in moduleGlobal)loader.global[m]=moduleGlobal[m]}globalSnapshot={},forEachGlobal(function(name,value){globalSnapshot[name]=value})},retrieveGlobal:function(moduleName,exportName,init){var singleGlobal,multipleExports,exports={};if(init)singleGlobal=init.call(loader.global);else if(exportName){var firstPart=exportName.split(".")[0];singleGlobal=readGlobalProperty(exportName,loader.global),exports[firstPart]=loader.global[firstPart]}else forEachGlobal(function(name,value){globalSnapshot[name]!==value&&"undefined"!=typeof value&&(exports[name]=value,"undefined"!=typeof singleGlobal?multipleExports||singleGlobal===value||(multipleExports=!0):singleGlobal=value)});return moduleGlobals[moduleName]=exports,multipleExports?exports:singleGlobal}}))}()});